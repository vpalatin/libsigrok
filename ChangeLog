commit 1aba65727015e298f213c851dbc8d2d57d27d37b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jun 12 03:08:36 2017 +0200

    Doxyfile: Set version to 0.5.0.

commit 9b355aa12d760654a5977be8dbbddfa10696118b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jun 12 03:03:21 2017 +0200

    Bump libtool version (not package version) to 4:0:0.
    
    The last release (0.4.0) had the libtool version (current:revision:age)
    set to 3:0:0. Since this release adds, removes, and changes interfaces,
    the new version is 4:0:0.
    
    http://www.gnu.org/software/libtool/manual/libtool.html#Updating-version-info
    
    This changes the library filename (e.g. on Linux) from libsigrok.so.3.0.0
    to libsigrok.so.4.0.0, the SONAME (+symlink) becomes libsigrok.so.4.

commit 95723b1e178ff2f8f30d4d338840da4f61b3643b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jun 11 19:38:23 2017 +0200

    NEWS: Add list of user-visible changes so far.

commit f200d59ee21a42998752c4319d4ff48e129c95c5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jun 12 02:44:28 2017 +0200

    Various Doxygen fixes.

commit 567d1feae8597366582a57db82bc3c905eecb665
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jun 11 23:19:27 2017 +0200

    Add a MIME info file (and icons) for sigrok session files.
    
    File template by Stefan Brüns, thanks!
    
    This fixes bug #857.
    
    (the XML file is moved from PulseView to libsigrok since this is not
    PulseView-specific)
    
    Add a 48x48 PNG and a scalable SVG for the MIME type as well.
    
    Install the XML file and in the icons in the respective standard paths.

commit 6b21d9a77e58bb9586491ba17968a9edb5a8df93
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jun 11 23:03:09 2017 +0200

    Rename sigrok-logo-notext.png to libsigrok_112x112.png.
    
    This is more specific and prevents any potential issues e.g. when
    multiple distro packages might ship with a generic file like
    sigrok-logo-notext.png that's supposed to be installed in the same place.

commit 6324805018987715902422732df27bc9841b1108
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jun 8 23:55:58 2017 +0200

    ruby bindings: Fix a compiler warning.
    
      bindings/ruby/classes_wrap.cpp:10481:1: warning: control may reach end
      of non-void function [-Wreturn-type]

commit 35334baa90dd7c68862ec25b58db0701a5802245
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jun 8 23:05:05 2017 +0200

    Fix various -Wundefined-var-template clang warnings.
    
    This fixes bug #915.

commit e3e1f20c7f5071fb9d1912619a899e542c5d9c71
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Jun 9 23:13:35 2017 +0200

    C++ binding: Fixup memory leak in input module receive() calls
    
    The Input::send() method allocated glib strings and copied input data,
    but only released the glib string container and leaked the actual string
    content. This led to leaks in the size of the verbatim input file, which
    is especially wasteful for uncompressed textual representations.
    
    This fixes bug #976.

commit 2355d2291925ace0bd9c85b21f2ce7e2c6606c7f
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Jun 9 23:10:40 2017 +0200

    input/csv: Eliminate remaining memory leaks in error paths
    
    When the processing of columns of text lines detected errors, the loop
    was aborted and the routine was left, but allocated resources were not
    freed. Fix the remaining memory leaks in the error code paths.

commit f027208ea7c058d482620af39be38835c045895f
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Jun 9 23:07:25 2017 +0200

    input/csv: Fixup datafeed chunk size calculation
    
    The constant at the top of the source file is the number of samples in a
    datafeed submission chunk. The previous implementation erroneously made
    it the size in bytes. There is no need to round down the buffer size
    according to the unit size.

commit d05b1a860606e078eed77722d8a0c62850ee39af
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu May 4 21:34:07 2017 +0200

    output/csv: Nit, remove an unused loop iteration variable
    
    The i variable is not used in the bottom loop in gen_header(). Remove it
    to not obfuscate the purpose of the iteration.

commit cd59e6eca13632f8fc749a63fb8ccbadbb77e21b
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu Jun 8 20:13:31 2017 +0200

    input/csv: Send larger datafeed chunks, to speedup import
    
    The previous implementation sent one sigrok session datafeed packet per
    processed CSV line. This is rather inefficient for the CSV input module,
    and triggers a dramatic performance loss in the srzip output format.
    
    Communicate up to 128K samples within one datafeed packet. This fixes
    bug #695.
    
    Factor out repeated calculation of the unit size which is derived from
    the channel count. Fix a minor memory leak in an error path while we are
    here. (Other memory leaks in rare error paths remain with this commit.)
    
    Suggested-By: Elias Oenal <sigrok@eliasoenal.com>

commit de788af4108493211d2c62004bf3d2fd81ad7d67
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Jun 5 19:33:42 2017 +0200

    input/csv: Update developer comment (fix for last EOL marker)

commit 7f4c3a622405b409e579e8344192e8daf15cb817
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Jun 5 19:00:23 2017 +0200

    input/csv: Accept absence of last end-of-line termination sequence
    
    On the Windows platform it appears to be popular to _not_ terminate the
    very last line in a text file. Which results in an unmet constraint in
    the CSV input module and an internal exception in PulseView which aborts
    program execution.
    
    Cope with the absence of the text line termination sequence at the very
    end of the input stream. Keep all other checks in place, such that only
    completely received text lines get processed.
    
    This fixes bug #635.

commit 4439363aa02928098eab8dcd18b5ccb41737c882
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Jun 5 18:35:22 2017 +0200

    input/csv: Skip leading UTF-8 BOM in the input stream
    
    This fixes bug #756.

commit ccff468b5e1b841a0c4f0426f502b9dad23dd9be
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Jun 5 18:24:52 2017 +0200

    input/csv: Add developer comment with TODO items
    
    "Document" the current state of the implementation in the CSV input
    module's source code. Discuss how text handling is non-trivial, which
    approaches are available and how they have drawbacks.
    
    Mention the lack of support for the import of analog data as well.

commit 241c386a4f727faa7c8379ae9212661011aa50ae
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Jun 5 16:41:42 2017 +0200

    input/csv: Correctly skip over last processed end-of-line sequence
    
    The CSV input module supports variable length end-of-line encodings
    (either CRLF, or CR, or LF). When a bunch of accumulated text lines got
    processed, do skip the corresponding number of characters after the end
    of the last processed line.
    
    This fixes one of the issues discussed in bug #635.

commit 4555d3bda00ed6f12016d4aca28bbef3cb459988
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Jun 5 13:37:33 2017 +0200

    input/csv: Fix a false negative after successful import
    
    The input module runs receive() and end() invocations which end up
    calling process_buffer(). It's perfectly legal to call the process
    routine with an empty accumulation buffer, especially when the process
    routine was called from end().
    
    This fixes a condition where PulseView raised a fatal error at the end
    of a completed successful import.
    
    Reported-By: Sergey Alirzaev <zl29ah@gmail.com>

commit f9b748615488d0d0f5e07978717a53dcdf79f732
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Jun 5 13:34:05 2017 +0200

    input/csv: Re-order processing steps (column mode vs text line split)
    
    Move an independent test for single/multi column operation out of a code
    path that checked for and then processed text lines. This commit does
    not change behaviour, but prepares a subsequent commit.

commit 492dfa90255e95b143b7a0ba9c78b6e022e7b115
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Jun 5 13:09:16 2017 +0200

    input/csv: Concentrate text line encoding in a single spot
    
    Factor out a magic string literal which held a delimiter set yet could
    be mistaken for an (assumed) fixed termination string. Concentrate the
    determination of the end-of-line text encoding as well as the resulting
    set of possible deliminters in one nearby location. The symbolic name
    for the delimiter set eliminates the doubt on its purpose.

commit df0db9fdda408ef7623c10b8daa0019f8f206bdf
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Jun 5 13:02:31 2017 +0200

    input/csv: Improve readability (bool expr vs assign, nested arrays)
    
    Move variable assignments out of boolean condition checks. Factor out
    repeated access to nested arrays. This shall improve readability.

commit b4698e4d617483bc0157b62b4be4153535b45701
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 6 14:41:55 2017 +0200

    HACKING: Update URL to Linux kernel coding style.

commit 176d785d33a28a1bb24f2ee483595ec54f7b52b6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 6 14:10:02 2017 +0200

    Drop trailing whitespace in various files.

commit faf6dc4633a02970333a892da87ffc6bd1ee7977
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 6 12:17:44 2017 +0200

    Minor cosmetics.

commit 09b2ca47e6b3d510d5a7cb64ab99fbc7a7de84a3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jun 3 18:25:54 2017 +0200

    uninstall: Remove empty libsigrok/libsigrokcxx include directories.
    
    Change uninstall-local to uninstall-hook, since the latter is guaranteed
    to run last (order is apparently not guaranteed for uninstall-local).
    
    This fixes bug #861.

commit 77463bd397127b8a4e7266e601b4cdf87825beeb
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat May 27 23:34:09 2017 +0200

    Demo: Convert white spaces to dashes for walking one/zero pattern

commit c5d081f721a0d99e726596d4f8afe72cf803a576
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat May 27 22:37:09 2017 +0200

    Bindings: Provide helper method that auto-converts analog

commit 0cee3a3ea5d9808c000def569887e5f18b82df71
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat May 27 16:54:53 2017 +0200

    Bindings: Flesh out the analog payload bindings

commit 845060fa9ddbfae9441aa67fab4934f46f4baa05
Author: Soeren Apel <soeren@apelpie.net>
Date:   Wed May 24 11:20:04 2017 +0200

    Demo: Add walking one/walking zero pattern

commit eac48b34917cf19c2b5ba52ccea85ec94bb5830f
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 26 21:36:35 2017 +0200

    asix-sigma: Silence a compiler warning (declared but not used)
    
    The call site which referenced the variable was conditional (disabled
    trigger support) but the variable declaration was not. Fix that.

commit 2f425a56edbe528ed4566ea6791009dad61ef56d
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 26 19:36:01 2017 +0200

    asix-sigma: Use monotonic time not wallclock time
    
    Switch from gettimeofday() to g_get_monotonic_time() calls.
    
    This commit is based on work done by jry@ (but with reduced diff size).

commit 74d453abfd29f8ea5426c4400f29d30cc18e97dd
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 26 03:06:39 2017 +0200

    asix-sigma: Handle sample memory wrap around (circular buffer)
    
    Handle the case when the sample data memory was filled and has wrapped
    around during acquisition. Download the respective part of the data
    which is reliably available, only skipping a single 1KB row which might
    contain either old or new data while it's not certain which it would be.
    
    This will be essential when triggers later become available. Right now
    it copes with user requests for sample counts that exceed the total DRAM
    capacity. Instead the maximum available amount of data is provided.
    
    Of course acquisition no longer gets stopped when the end of DRAM is
    reached.

commit 547c4cdc60ad5c463e37c57d82dd33111061ac86
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 26 02:18:33 2017 +0200

    asix-sigma: Fixup the download of the last data acquisition chunk
    
    Correctly determine the size of a download chunk for the last DRAM row
    that's involved in the recent data acquisition.
    
    This commit is based on work done by jry@.
    
    This addresses bug #838 (trailing garbage).
    
    It's assumed that the previously downloaded excess data was "swallowed"
    by the sample count enforcement logic that was applied earlier, so the
    (remainder of the) issue could have gone unnoticed, unless some other
    termination condition than sample count was used.

commit 468f17f2d673ebf250f72fa114f261b86da1aab7
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 26 02:16:28 2017 +0200

    asix-sigma: Comment on RLE decompression upon data retrieval
    
    Rephrase and shorten a comment on how RLE decompression works. Drop the
    part of the comment which is not related to (de-)compression.

commit 13262b48c181ae380e2029982197649cb6343b9f
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 26 02:11:05 2017 +0200

    asix-sigma: Remove an unused variable

commit 8256ed15c605db4f472f928dc67e9734947e0ab9
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 26 01:30:42 2017 +0200

    asix-sigma: Adjust clock configuration upon acquisition start
    
    Configure the samplerate clock and channel count during acquisition
    start in identical ways for 50MHz, 100MHz, and 200MHz modes.
    
    This part was inspired by work done by jry@ yet was addressed in
    different ways (no exception, do everything in every mode the same way).
    
    Eliminate a portability issue in the previous implementation. Make sure
    to send the configuration bytes in the correct order to the hardware.
    Don't typecase a struct reference to a bytepointer and hope that the
    internal memory representation might fit the external hardware's idea.

commit 5b1d15efb93c5e18e33432840af08e324d126ee9
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 26 00:31:21 2017 +0200

    asix-sigma: Document the sample memory layout
    
    Add a comment about sample memory organization in a central spot. This
    concentrates knowledge which otherwise would be spread across several
    locations all over the driver's codebase, yet is essential to have at
    hand during maintenance.
    
    All of the information was determined/updated by jry@ with the help of
    Ondrej at Asix when he did lots of fixes and improvements to asix-sigma.

commit 735ed8a18e958456b714004408fad3c7f7d72a4c
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu May 25 23:43:04 2017 +0200

    asix-sigma: Enforce optionally specified sample count
    
    The Asix Sigma hardware does not support a sample count limit. Instead
    this optional input parameter gets mapped to a sample time, and some
    slack for hardware pipelines and compression gets added. When data
    acquisition completes and sample data gets downloaded, chances are that
    there is more data than requested by the user.
    
    Do enforce the optional sample count limit. Stop sending data to the
    sigrok session when the configured number of samples was sent.
    
    This commit is based on work done by jry@.
    
    This fixes bug #838.

commit 22f64ed88c2128ebadf09eafa3e12c8ed76cff7f
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu May 25 22:55:00 2017 +0200

    asix-sigma: Acquisition stop, symbolic identifiers for mode register fields
    
    Enhance how the data acquisition is stopped. Wait for the hardware to
    flag the successful completion of data retrieval as well as flushing
    through hardware pipelines.
    
    Use symbolic identifiers for the mode register's fields (for read as
    well as write access).
    
    This commit uses part of a code update to better match the documentation
    done by jry@, but not all of it to reduce the size of the commit.

commit f06fb3e9f1fdfc3780bfa8cb06f76a2d630d6f1c
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu May 25 22:09:54 2017 +0200

    asix-sigma: Nit, separate declaration from assignment statements
    
    Minor adjustment for improved readability. Don't hide assignments in
    variable declarations. Move initialization of some variables closer to
    related evaluation or subsequent processing. Break a complicated looking
    roundup expression into several short steps.

commit 84a6ed1a126e0877a4166c2aa7d40f409180fdde
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu May 25 21:57:30 2017 +0200

    asix-sigma: Fix a register addressing bug (non-issue)
    
    Fix how the READ_ID register index was passed to the hardware access.
    Addresses are sent in nibbles, so shift by eight is wrong here. No harm
    was done, as the register's index is zero.

commit a9016883f800c40a1866c3f0d011cdb0c256888b
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu May 25 19:47:31 2017 +0200

    asix-sigma: Only download firmware when necessary
    
    The Asix Sigma driver is aware of three firmware images, which are
    required for acquisition with up to 50MHz, 100MHz, and 200MHz. The
    previous implementation always downloaded the corresponding firmware
    image whenever the sample rate has changed, which was redundant.
    
    Skip the download when the new samplerate uses the same firmware as the
    previously selected samplerate did. This results in faster responses in
    the GUI when the samplerate selection changes.
    
    Move assignments out of the variable declaration block for improved
    readability while we are here.

commit 85c032e48553458b43d0eb8315a7587abee4493f
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Apr 23 16:51:31 2017 +0200

    asix-sigma: Properly decode data gathered at 100 and 200 MHz
    
    The hardware provides captured data at a maximum rate of 16bits per 20ns
    (50 MHz). For samplerates of 100 and 200 MHz one individual 16bit entity
    contains multiple samples for a reduced number of channels. The bits of
    several sample points are interleaved within the 16bit entity.
    
    This commit is based on work done by jry@ who fixed a lot of issues with
    the help from Ondrej at Asix.
    
    This fixes bug #840.

commit 3281cf59aa822563e6ce2f5a21597e59327296ad
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 26 01:34:55 2017 +0200

    asix-sigma: Stabilize channel assignment for different samplerates
    
    Adjust the interpretation of acquired sample data such that regardless
    of 50/100/200MHz samplerate the assignment of LA pins to sigrok channels
    remains stable.

commit 0498f7439fc5c205448cfdb57fec5b4361cc4fad
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Apr 23 14:15:57 2017 +0200

    asix-sigma: Factor out access to sample data and session data
    
    Introduce helper routines to access the sample data that is provided by
    the ASIX hardware, as well as the buffer which accumulates logic data
    before it gets sent to the session's datafeed.
    
    This hides endianess issues from call sites, and prepares access to
    memory layout which varies with sample frequencies.
    
    This commit is based on work done by jry@.

commit de3f7acb4df5ff584b116b6c5f1a1eee0814ccf5
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu May 25 19:06:36 2017 +0200

    asix-sigma: Disable support for triggers, they don't work right now
    
    This works around bug #359. Triggers currently are not operational for
    Asix Sigma. Don't claim support in the driver so that UIs won't use the
    feature. Yet allow research in this issue, by concentrating the switch
    for the feature's support in a central location.
    
    Add/update a comment and unobfuscate an error code path while we are here.

commit e686119cc287164b0043c44857ab4cf2faedde53
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu May 25 13:31:46 2017 +0200

    asix-sigma: Nit, remove redundant USB VID/PID declaration
    
    Both the .c and the .h file declared the same identifiers for USB
    properties of ASIX hardware with identical values. Remove the .c
    incarnation and keep the .h content, as the names are used in api.c
    as well as protocol.c sources.

commit 9a0a606a8215aa7fd41bb72a3653dff7ef54505b
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Apr 23 18:20:44 2017 +0200

    asix-sigma: Improve sample time estimation, consider hardware pipeline
    
    Introduce a separate routine which maps sample counts and sample period
    to an elapsed sample time after which acquisition shall get stopped.
    Add some more time to make sure the most recent captured data has passed
    the hardware pipeline and is available for download.
    
    This commit is based on work done by jry@.

commit a44b3b3f166e60e1023371f0cf47bbd68182f0bf
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Apr 23 13:29:51 2017 +0200

    asix-sigma: Fixed RLE decoder
    
    When "tsdiff < EVENTS_PER_CLUSTER" we don't want "tsdiff - EVENTS_PER_CLUSTER"
    (a negative number) to be treated as (int).
    
    Submitted-By: jry <jrysig@gmail.com>
    [ gsi: massaged for mainline submission ]

commit 42be2adb5ab329a0b22d9df392d8eca84d5d9acf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 24 20:05:03 2017 +0200

    Add APIs to query libsigrok build information.

commit 9d12555fba786b0e820a530efbfb574b5ad13245
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 24 19:04:17 2017 +0200

    serial-dmm: Use a custom dummy struct for m2110.
    
    This DMM/parser is not related to metex14, don't use that struct.

commit decc199654728e97455f4939611578386066b63a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 24 01:34:06 2017 +0200

    uni-t-dmm: Fix incorrect Tenma 72-7745 list entry.
    
    This is a regression from f05406117d67de3bd8aa5f904573bdd5d7ba401f.

commit 06f0872ea95f88a2f944f0c9b7a477a7793dfe06
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 24 01:29:28 2017 +0200

    uni-t-dmm: Add missing special cases for some ES519xx protocols.

commit 8a68f96eaec1f3cc664d98282fa087ea95fd24b1
Author: Angus Gratton <gus@projectgus.com>
Date:   Wed Apr 12 17:26:45 2017 +1000

    fx2lafw: Always enable wide sampling for dslogic firmware
    
    Fixes regression in 8399f68a3.
    
    Ref: https://sourceforge.net/p/sigrok/mailman/message/35780588/
    
    Signed-off-by: Angus Gratton <gus@projectgus.com>

commit 45fcaf2ccad796b4bc4434d81b1d0e23f11a8eae
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 23 07:44:42 2017 +0200

    ut71x: Fix incorrect resistance values on some DMMs.
    
    The resistance values of some DMMs were incorrectly reported due to a
    missing factor of 10 in the calculations.
    
    Tested on Voltcraft VC-920/VC-940 and Tenma 72-9380A/72-7730/72-7732.

commit 7db9027985c2d59eccb0a20979bf5d7c699c8c8b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 21 18:35:21 2017 +0200

    demo: Retain the default of 8 digital channels for now.

commit b1e6eec6f5f792e3b17eb8a63dd2f08ba56ff0ac
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 5 23:20:43 2017 +0200

    demo: support up to 128 logic channels, enable the lower 8 by default
    
    Bump the number of supported logic channels from 8 to 128. This is
    mostly motivated to test the 64 channels limit which some of the
    components/subprojects of the sigrok project might have (input/output
    modules, user interfaces).
    
    Only automatically enable the first 8 of the 128 total logic channels,
    i.e. default to the previous behaviour. Prepare to only enable part of
    the set of analog channels, but stick with their being active by default
    as well.
    
    Factor out the choice for the default logic pattern, too. This allows
    for easier adjustment of the default configuration, when settings are
    concentrated in a single spot.

commit 81d53a29d6afad1e091bb765d6952ec047e0dc6a
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri May 5 22:35:38 2017 +0200

    demo: add "cable squid" logic waveform (works-with logo, many channels)
    
    Extend the demo driver, add another waveform choice for logic channels.
    Create a "cable squid" logo representation which occupies a large number
    of channels.
    
    This pattern occupies 128x128 pixels. Unlike the 'sigrok' pattern it
    gets repeated when more channels are involved, but is not shifted in the
    repetition.

commit 2b17aeb87453b956ff686c6393fa688adbc9e0b9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 21 16:34:41 2017 +0200

    ut71x: Fix float printing issue in a debug message.
    
    Old:
    ut71x: Applying exponent -12, new value is 0.000000.
    P1: 1.500 nF AUTO
    P1: 1.500 nF AUTO
    
    New:
    ut71x: Applying exponent -12, new value is 1.5e-09.
    P1: 1.500 nF AUTO
    P1: 1.500 nF AUTO
    
    This fixes bug #700.

commit 16a1d50a6372725c6b4f5b76175f62a64366bfa0
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun May 21 17:10:38 2017 +0200

    Virtual session: Workaround for SR_CONF_CAPTUREFILE (#944)
    
    This is a (hopefully temporary) workaround for the
    SR_CONF_CAPTUREFILE mechanism. The value for
    vdev->capturefile is set by this, however only once
    via stream_session_data().
    During stream processing in stream_session_data(),
    capturefile may receive new values - e.g. when there
    are multiple logic files or if there is analog data.
    With that, the initially set capturefile is overwritten.
    
    When re-loading the file, we are then running into
    issues because we don't know what the initial value was.
    As all .sr files use "logic-1" by default and, we
    simulate the behavior of stream_session_data() and
    assign this name to capturefile if there are logic
    channels present.
    
    With this change, all three kinds of files reload
    as expected: logic only, analog only and mixed signal.
    For this reason, it's a short-term fix for #944.

commit 6fb5570b15a5566b9b3dc8814c728ed9edf4d828
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun May 21 09:20:42 2017 +0200

    Virtual session: rename num_channels to num_logic_channels

commit 64f628bf8a7b94073de14e34d70a2b23c955f1b0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 17 01:07:56 2017 +0200

    hantek-6xxx: Only list DC coupling once.
    
    Avoid incorrect indexing and the follow-up segfault.
    
    This fixes bug #822.

commit 01dd7a4cc769d3e683cb29c5cf791e9c61034f31
Author: Martin Ling <martin-git@earth.li>
Date:   Wed May 17 00:04:07 2017 +0100

    rigol-ds: Handle digital channels correctly for MSO2000A series.
    
    The handling of the digital channels for this series is somewhere
    between that of the DS1000D series (PROTOCOL_V2) and the MSO1000Z
    (PROTOCOL_V4).
    
    The :LA command set is similar to that of V4, but the LA data has to be
    requested with :WAV:SOUR:LA and arrives in interleaved form like V2.
    
    None of these changes should affect other models. They only affect the
    case of PROTOCOL_V3 with digital channels, which occurs only for the
    MSO2000A series.

commit 364b09c2a936fd7e98a879c3532fcd2fee4c1e0a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 16 22:23:24 2017 +0200

    hantek-6xxx: Fix coupling selection.
    
    Due to an uninitialized variable, switching to/from AC/DC coupling
    (on models that support this) was not working.
    
    This fixes bug #836.

commit 09f24ef2a98d430717929f0476843d3f788ff36a
Author: Martin Ling <martin-git@earth.li>
Date:   Mon May 15 16:16:00 2017 +0100

    rigol-ds: Add model entries for MSO2000A series.
    
    This should be sufficient to fully support these models, unless there
    are protocol differences for the digital channels.
    
    This fixes bug #778.

commit 10892c5b8aa54bee29e908ab457180ca8cdb1011
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Thu May 11 13:51:10 2017 +0200

    output/csv: get proper index for input channels
    
    'j' is the loop variable for channels, not 'ch'.
    
    This fixes parts of bug #844.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 7e7d7bc074fd92d54c2851ad64ed443fdd58fc28
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Thu May 11 13:51:09 2017 +0200

    output/csv: fix a minor leak
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit d3cc09a612a6f8f2bf258bbd33a7dfd2c3a30968
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Thu May 11 13:51:08 2017 +0200

    output/csv: fix segfault with logic channels
    
    'i' was iterating in steps of unitsize. However, the destination array
    was also indexed with it, but it is of u8 type. Let 'i' run bytewise and
    only multiply with unitsize when we need it.
    
    This fixes parts of bug #844.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 6a235225b3817d45c3d4d1b9ce2c4928c1472256
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Thu May 11 13:51:07 2017 +0200

    output/csv: fix segfault when naming logic channels
    
    'j' is the loop variable for channels, not 'i'.
    
    This fixes parts of bug #844.
    
    Reported-by: Maxim Sloyko <m.sloyko@gmail.com>
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 8005151b8783b002f5e07aa9e4e077ea6aed1688
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 18 20:55:20 2017 +0100

    output/csv: Fix a compiler warning.
    
    src/output/csv.c: In function 'dump_saved_values':
    src/output/csv.c:461:6: warning: format '%lu' expects argument of
    type 'long unsigned int', but argument 3 has type 'uint64_t' [-Wformat=]
          ctx->sample_time, ctx->value);
          ^

commit ef7fb1abffad411c1bf20099228e4d23db402a81
Author: Martin Ling <martin-git@earth.li>
Date:   Wed May 10 00:33:58 2017 +0100

    rigol-ds: Send *OPC? after commands that don't return a value.
    
    Fixes #933.
    
    We'd already had this problem elsewhere and thus have this wrapper function
    that does this where necessary. It just wasn't in use on these two call sites,
    which was causing timing problems when used over tcp-raw or VXI transports.

commit bf8a02b63339ac48271ec0c8d4d554e4435b2a44
Author: Johannes Römer <jroemer@posteo.net>
Date:   Sun May 7 17:21:47 2017 +0200

    hameg-hmo: Add support for Hameg HMO3524

commit adee480c020cf37072f590d4348a737d892e70a6
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Apr 16 16:47:03 2017 +0200

    output/vcd: minor nit, remove unused variable

commit fe3004f5a08d84a0fe9401c49970a06ddab04a20
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Apr 16 17:17:27 2017 +0200

    minor nit, fixup whitespace in libsigrok.h

commit b7939d7cac2fa51c5d9ba84c7ea7aee85f8395d6
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu May 4 18:40:39 2017 +0200

    De-init vdev->capturefile when done
    
    Without doing this, re-reading the input file
    results in a segfault as the internal state
    machine becomes confused.

commit b853eb76fbee3c03d64c03b1cb8af0585684dfcf
Author: Gwenhael Goavec-Merou <gwenhael.goavec-merou@trabucayre.com>
Date:   Sun Apr 30 15:57:40 2017 +0200

    openbench-logic-sniffer: fix acquisition restart with trigger enabled
    
    With trigger enabled, and with PulseView, a second (or more) acquisition
    starts immediately instead of blocking. It's mandatory to try several times
    to have a correct behavior.
    
    According to http://mygizmos.org/ols/Logic-Sniffer-FPGA-Spec.pdf section 2.3.1
    p.8, the Openbench Logic Sniffer must be reset before each arm command.
    
    This fixes bug #809.
    
    Signed-off-by: Gwenhael Goavec-Merou <gwenhael.goavec-merou@trabucayre.com>

commit 244995a2e3cef0f971e21faf82531e785e552f9e
Author: Gwenhael Goavec-Merou <gwenhael.goavec-merou@trabucayre.com>
Date:   Sun Apr 30 15:57:39 2017 +0200

    openbench-logic-sniffer: add a function to handle reset command
    
    Openbench Logic Sniffer reset is a little more complex than a simple send.
    To avoid code duplication, this patch adds a new function dedicated to
    this task.
    
    Signed-off-by: Gwenhael Goavec-Merou <gwenhael.goavec-merou@trabucayre.com>

commit 07d4e86316cad233abe1d5890cd56de35e69618f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 31 19:47:18 2017 +0200

    README: Fix incorrect gcc/clang minimum versions.
    
    https://gcc.gnu.org/projects/cxx-status.html#cxx11
    https://clang.llvm.org/cxx_status.html

commit 81eb36d640b364bf955fd26b2a3987c56e0a720f
Author: Marc Schink <sigrok-dev@marcschink.de>
Date:   Wed Mar 29 18:33:36 2017 +0200

    scpi-pps: Add initial support for R&S HMC8043

commit 3474ec2361148729736c0a104d03330eff21970e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 27 08:55:17 2017 +0200

    contrib/z60_libsigrok.rules: Use 660 permissions.
    
    It doesn't really make sense to allow anyone to read (but not write)
    USB devices.
    
    This fixes parts of bug #665.

commit 68fefbd75c6fd7a27b96c7a979870547fb7ad5ff
Author: Karl Palsson <karlp@tweak.net.au>
Date:   Wed Mar 1 21:11:57 2017 +0000

    contrib/udev: add note on required name for systemd
    
    Systemd needs the file to be numbered the right way, document this
    properly.
    
    See also:
    https://lists.debian.org/debian-devel-announce/2016/11/msg00008.html
    http://openocd.zylin.com/2804
    
    This fixes parts of bug #665.
    
    Signed-off-by: Karl Palsson <karlp@tweak.net.au>

commit 7a977433368f5d06b584bd7eb80456dabd00359a
Author: Karl Palsson <karlp@tweak.net.au>
Date:   Wed Mar 1 21:09:35 2017 +0000

    contrib/udev: add TAG+="uaccess" for systemd
    
    Instead of replacing the group=plugdev, simply add the TAG as well.
    This allows (in most cases) the same file to be used happily on systemd
    and older group based systems. Some systems may produce warnings about
    non-existant groups, but it remains functional. Approach inspired by
    that taken by the OpenOCD project.
    
    This fixes parts of bug #665.
    
    Signed-off-by: Karl Palsson <karlp@tweak.net.au>

commit 40bbf635fadac32d1e702f02fe571d95338d582b
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Mar 21 20:45:46 2017 +0100

    uni-t-ut32x: Accept SR_CONF_CONN, fixing scan.

commit df3e608a20620836ecad6d8d4dc6c0b27b1658a8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 16 23:59:58 2017 +0100

    session_driver.c: Increase chunk size for slightly better performance.
    
    Increasing the chunk size from 512ksamples to 4Msamples leads to
    slightly faster session file loading from sigrok session (*.sr) files
    in frontends, while not looking too "chunky".
    
    The performance increase is not really massive, but still noticeable.
    A further increase to, say, 10 or 100Msamples shows no further
    noticeable improvements.

commit f9592d65e9759b9a37c51a090c3504d4328ba4d4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 15 02:31:09 2017 +0100

    fx2lafw: Only sample/send analog data if analog channels are enabled.

commit 5db45cc55d9155f1def688f27ac7ebfd3d7f0069
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 15 01:45:27 2017 +0100

    fx2lafw: Drop unused devc->ch_enabled.

commit 8399f68a3ff44e72b2267d43aaba677b0dbd48b4
Author: Jan Losinski <losinski@wh2.tu-dresden.de>
Date:   Thu Jan 12 04:45:08 2017 +0100

    fx2lafw: Use wide_sampling only if necessary.
    
    This changes the fx2lafw code to only enable the wide_sampling (16bit)
    method, if at least one of the higher eight channels is enabled. This
    has the benefit, that we can use higher samplerates on 16bit LA
    devices if we use only the first eight channels.
    
    The wide sampling is also enabled if we have one or more analog
    channels.
    
    Signed-off-by: Jan Losinski <losinski@wh2.tu-dresden.de>

commit b6be55ce95b8d4d00d64874a05c022846e43cec4
Author: Sven Schnelle <svens@stackframe.org>
Date:   Mon Feb 13 18:48:52 2017 +0100

    SCPI: add sr_scpi_write_data()
    
    Can be used to send raw data on a SCPI connection.
    
    Signed-off-by: Sven Schnelle <svens@stackframe.org>

commit 9a512113ca0cfb34e8a12c678573e3687590ab41
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 10 07:37:05 2017 +0100

    Fix obsolete code comments.
    
    "Probe groups" are called "channel groups" now.

commit 815685462fdab21a390b5aecc253b92753439f06
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 8 19:47:54 2017 +0100

    sr_scpi_free(): Allow NULL as argument.

commit 7b365c47198890da8541a6daf04697c7c7ac88d4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 8 19:45:23 2017 +0100

    sr_scpi_hw_info_free(): Allow NULL as argument.

commit ce375f2a396c4735a12e9105595d7c9f1a366abb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 8 19:33:18 2017 +0100

    sr_usbtmc_dev_inst_free(): Allow NULL as argument.

commit 5801ce7840c72775fbcfaf39e0587f767f070efd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 8 19:31:22 2017 +0100

    sr_usb_dev_inst_new(): Allow NULL as argument.
    
    (documentation fix, the function always handled NULL fine)

commit 04891a997c137abb5fa423e7de7f5b9a0fd27a49
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 8 19:27:25 2017 +0100

    sr_serial_dev_inst_free(): Allow NULL as argument.

commit 4bf93988023b2428129c8145ef9ea7121400f195
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 8 19:18:17 2017 +0100

    sr_dev_inst_free(): Allow NULL as argument.

commit 8662130615d7a59883c303914f94377032101cb9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 7 22:39:47 2017 +0100

    scope drivers: More consistent config key ordering.

commit d73aacf12a523e332749c0d4a4c4bf4395fcdb03
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Feb 26 21:07:46 2017 +0100

    rigol-ds: Fix capabilities listing in config_list()

commit 90230cfa7f7ae62b21169fa2156f54e2902e7ad1
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Feb 26 21:01:26 2017 +0100

    lecroy-xstream: Fix capabilities listing in config_list()
    
    This fixes bug #913.

commit 9a17c23bc9810206eae7741bc4b35bc4d78999d3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 8 01:10:19 2017 +0100

    Fix sr_period_string() Doxygen comments.

commit 6984cfb245811df0f691928a6e4224d4f7ac5786
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Feb 25 22:19:42 2017 +0100

    Rework sr_period_string

commit ae87e02fad06324de80c24997fc8589780ba3b03
Author: Matthieu Guillaumin <matthieu@guillaum.in>
Date:   Sat Dec 3 20:33:32 2016 +0100

    pce-322a: Adding support for reading memory from PCE-322A SPL

commit f5066b2b610b88e7331c4c0d951a94ea4c999b65
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 5 16:38:48 2017 +0100

    configure summary: Show linker flags.

commit 54d8d22a931a1eae99c3a197c32fc8d42b2e9f5b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 4 18:20:38 2017 +0100

    configure summary: Show whether shared/static build is enabled.

commit 6d13a46ce0a1483fffb342239ca1b10fa354fca2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 2 20:30:23 2017 +0100

    lecroy-xstream: Drop some unneeded "lecroy_" prefixes.
    
    For the time being this driver only handles LeCroy devices, so those
    prefixes are not needed.

commit b295fa5190b5c75d37d66de84a0884e46a23d78e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 2 20:20:19 2017 +0100

    lecroy-xstream: Drop prototypes for non-existing functions.

commit ea257cdc23d0489fd589d0f17e3838db28189a79
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 2 20:05:52 2017 +0100

    lecroy-xstream: Minor whitespace and consistency fixes.

commit 9de47e9e712844f46f693915d405a89846e61084
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Feb 25 18:41:47 2017 +0100

    lecroy-xstream: Use sr_period_string()

commit 7002e64a54a5f8586f96f12a41005f8f8f60b2a6
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Feb 25 17:49:19 2017 +0100

    lecroy-xstream: Fix compiler warnings

commit d0b913eac47d8a1dc38ce84315b57f896bcf8c82
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Feb 25 17:46:00 2017 +0100

    lecroy-xstream: Don't send custom SCPI command to the probed device

commit bb08570f1ad4a6c2a89c8e9afb73f8be08f5a663
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon Feb 27 10:44:33 2017 +0100

    lecroy-xstream: Change human-readable name

commit 3f2c7c94a1333a0b30f8461b4f6c0069bbcbecdd
Author: Sven Schnelle <svens@stackframe.org>
Date:   Sun Feb 12 20:18:16 2017 +0100

    lecroy-xstream: Add the actual driver implementation
    
    Signed-off-by: Sven Schnelle <svens@stackframe.org>

commit e3b83c5ec3bff62c7b6e13954f2a654139874aa5
Author: Sven Schnelle <svens@stackframe.org>
Date:   Sun Feb 12 20:18:15 2017 +0100

    lecroy-xstream: Initial driver skeleton.
    
    Signed-off-by: Sven Schnelle <svens@stackframe.org>

commit 0d9841ddd6ef917258d95a50d753d80a23fabb90
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 2 14:38:19 2017 +0100

    rohde-schwarz-sme-0x: Add support for SR_CONF_SIGNAL_GENERATOR.

commit 6928c4a9289368573f44b683a464bf6b8dcc71d7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 2 14:35:17 2017 +0100

    Add SR_CONF_SIGNAL_GENERATOR.

commit d7056eead2f2da08c758ac9c4055e032a4351c2f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 2 14:25:27 2017 +0100

    rohde-schwarz-sme-0x: Drop prototypes for non-existing functions.

commit ed1fae0bb3bb6e25c700eeb479ffc5e32db99f14
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 2 14:23:07 2017 +0100

    rohde-schwarz-sme-0x: Minor whitespace and consistency fixes.

commit 9e50659470cb7a34fddeaf27a73a07e5f15e933d
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Feb 23 17:33:47 2017 +0100

    rohde-schwarz-sme-0x: Coding style fixes

commit a28b3df111ce6b942d0904b7647b959a48f2b479
Author: Vlad Ivanov <vlad.ivanov@lab-systems.ru>
Date:   Thu Oct 27 09:22:55 2016 -0400

    rohde-schwarz-sme-0x: Initial device support
    
    Signed-off-by: Vlad Ivanov <vlad.ivanov@lab-systems.ru>

commit 97c2710b2c985132ed6a28caf9741ccbcfb23491
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 26 15:43:35 2017 +0100

    hwdriver: Drop unneeded debug message.
    
    The logs already show scan attempts per-driver, no need to also log the
    init per-driver, since that's always happening and cannot (normally) fail.

commit 6ca578feb8a0b5b0cc689c97dd1307935bf0a817
Author: Sven Schnelle <svens@stackframe.org>
Date:   Sat Feb 11 20:16:59 2017 +0100

    Fix analog output display
    
    I've seen the following output from sigrok-cli:
    
    CH1: 478.720 mV
    CH1: -514 mV
    CH1: -0 V
    
    I added some debug, and it seems like the digits value isn't reset
    to the actual value after calling sr_analog_si_prefix_friendly():
    
    using 6 digits
    value2 0.478720 digits 6
    value2 -0.513536 digits 3
    value2 -0.487424 digits 0
    
    This commit fixes this by resetting the value to the actual value before.
    
    Signed-off-by: Sven Schnelle <svens@stackframe.org>

commit 471ac344a5885c73f58cbcd0d0c87f416926afc2
Author: Sven Schnelle <svens@stackframe.org>
Date:   Tue Feb 14 23:30:13 2017 +0100

    Fix initial sample value for demo driver
    
    devc->step is not reset on acquistion start, so acquisition
    starts with a different value every time. Thats annoying when
    using the demo driver to debug sigrok, so lets make sure that
    it's reset to 0.
    
    Signed-off-by: Sven Schnelle <svens@stackframe.org>

commit b020b81b24bf6987cccffc3ea84049e66b9ccdb3
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Wed Feb 1 18:50:26 2017 +0100

    Build: fix #865 yet again
    
    It appears that the symmetry changes of setting CC and CFLAGS correctly
    for C code compilation in commit 104f02f broke things for people using
    some other version of setuptools which uses those vars instead of
    CXX and CXXFLAGS when compiling C++ code. In order to make this work
    everywhere, set _both_ sets of variables as required for C++ compilation.
    No C code is compiled by the python binding module anyway.

commit 1d82f9ade3f1a38991b9be629ed1c1ef7eebac43
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 27 01:14:02 2017 +0100

    README.devices: Update hantek-6xxx entry.

commit efcdec00b7976cfabe20d8aad48153987dc6c774
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 27 01:11:50 2017 +0100

    z60_libsigrok.rules: Add Hantek 6022BL.

commit 759f2ef76265fd3667a365527188e9e15e644819
Author: Sebastian Tabares Amaya <sytabaresa@gmail.com>
Date:   Tue Dec 27 22:41:17 2016 -0500

    Add support for Hantek 6022BL

commit 0ceb70381b02336d8e8130e2a701df4ce944b13a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 16 11:53:11 2017 +0100

    agilent-dmm: Add support for U124xC.

commit 1af3f40eec5042ec3b22dc8c5e61ec8e291531d5
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 16 11:47:42 2017 +0100

    agilent_dmm: Split generic part of recv_log_u128x() to recv_log().

commit 29bdeeb54937cdfd3adaef98d6acee510cb91a47
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 17 23:42:18 2017 +0100

    agilent-dmm: Add support for Vsense (Non-Contact Voltage).

commit c2e3c322e6427986208aef3df414dfc1e936552f
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Jan 18 00:54:29 2017 +0100

    agilent-dmm: Fix handling of the 2nd channel of 2 channels models.
    
    The 2nd channel of those models is not limited to temperature,
    so it is necessary to query CONF? @2.

commit 4fdedbbb3a5f0caf2765bade0d109b6f917f5f41
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 16 11:45:20 2017 +0100

    agilent-dmm: Set correct length in strncmp().

commit 841aadc95b918fd883d36c6c8555f8cb0e3cd049
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 16 11:44:22 2017 +0100

    libsigrok.h: Add SR_MQ_HARMONIC_RATIO.

commit 35bb2fcef95d23bda27c5b3ec3a014d4e1c22713
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 21 15:17:35 2017 +0100

    scpi_serial: Convert 'got_newline' variable to gboolean.

commit d64be25be4b315bceb7f6d87b1c414a3c94c31c5
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Fri Jan 13 23:10:41 2017 +0100

    scpi: Do not block when reading header of definite length blocks
    
    When using SCPI over serial (over USB), we want the header without waiting
    for the terminating newline, as otherwise the transfer may time out.
    sr_scpi_get_data() will block until the message is complete.

commit 9ea4018f2f7c3bac99f738334ebd57b1e6ae0a2c
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun Jan 8 18:32:05 2017 +0100

    scpi_serial: Get rid of intermediate buffer, do not strip newline
    
    Lowlevel access functions should not alter the data. sr_scpi_get_string(),
    which is called by most highlevel access functions, strips newlines
    in a central place, and is only fed with data which contains newlines
    as a final terminator.
    IEEE 488.2 definite length blocks may contain arbitrary data, thus the
    payload up to the provided length should be passed unaltered.
    
    Track if the last received character is a newline, which can be used
    by sr_scpi_get_string() and its callers to determine if the response
    is complete.

commit 37ef582d088190ffcf5f8a649ca622cfc52f289a
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Thu Jan 12 01:20:17 2017 +0100

    scpi: Query current time just once, use microseconds for timeout
    
    g_get_monotonic_time() returns current time in microseconds, use the same
    granularity for storing the read timeout.
    There is also no need to check the timeout if data has just been read.

commit 59b9c3290aef7dfdc58afd0a4db8b347e0878c91
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Jan 14 20:56:08 2017 +0100

    yokogawa-dlm: Mostly fix dumping of current timebase
    
    sr_period_string takes the frequency as its argument, i.e. the reciprocal
    of the timebase. Obviously this will not work for frequencies less than
    1Hz / timebases greater than 1 second, but at least is correct for all
    other available timebases.

commit d8b65ef66112f2c5dccdbe668b05e6856c00ac3d
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Thu Jan 12 00:29:03 2017 +0100

    hameg_hmo: Mostly fix dumping of current timebase
    
    sr_period_string takes the frequency as its argument, i.e. the reciprocal
    of the timebase. Obviously this will not work for frequencies less than
    1Hz / timebases greater than 1 second, but at least is correct for all
    other available timebases.

commit 5223412ebe3cadaab0e9b2a65e591b7cf575c404
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Jan 14 20:50:12 2017 +0100

    tests/strutil: Check output of sr_period_string

commit a547531bf1be0d263a76c1ce53605d70d9a9740b
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Jan 14 20:48:08 2017 +0100

    strutil: Fix sr_period_string output
    
    The output was wrong for all frequencies but 1 Hz, 1 kHz, 1 MHz and 1 GHz.
    With this changes, the output may still be off due to rounding, but will
    be correct as to the shown accuracy.

commit 900846816fed39742b221568939f90acebc38f3c
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Dec 30 13:16:04 2016 +0100

    scpi: Don't process received data of zero length
    
    When nothing was received in a read attempt, we need not adjust the
    buffered data's read position nor the glib string object's size. Skip
    any processing for empty input, just keep checking for timeouts.

commit ad21865fa7bb8bc429615235e90e012541d2b606
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Jan 7 13:08:12 2017 +0100

    scpi: Rephrase buffer resize for free space during SCPI read, add comments
    
    Routine sr_scpi_get_data() checks for free space in the receive buffer,
    and resizes the buffer when free space drops below a threshold. The
    previous logic assumed that the resize and the read logic would interact
    in some specific way to achieve the desired operation.
    
    Adjust the buffer resize such that more free space is pre-allocated, yet
    the payload size of the buffer is not affected. This eliminates the
    dependency of the optional resize logic from subsequent activity for
    reception of data that is non-optional.
    
    Add comments while we are here, outline the steps taken in the
    sr_scpi_get_data() routine.

commit 4889acefb2178f0c7f52ff9d97aa50d2b5607aa6
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Jan 6 22:00:28 2017 +0100

    hameg-hmo: Rephrase the channel constraints check (analog vs digital)
    
    Phrase the logic which checks the use of analog channels and digital
    pods in more generic terms. Place a comment about the contraints' being
    potentially dependent on the specific HMO model. This implementation
    should lend itself better to future adjustment (HMO1002?).

commit e06875b2ce47e128922d63f09ca4e9b3d8105722
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Jan 6 20:53:50 2017 +0100

    hameg-hmo: Map logic data from second digital pod to channels D8-D15
    
    An internal libsigrok implementation detail prevents partial submission
    of logic data for different channel groups in multiple calls. Instead
    one logic packet needs to be sent in a single call, which combines data
    for all channels.
    
    Introduce a logic data storage which folds samples from several channel
    groups that were received at different points in time into a combined
    memory layout of larger unitsize. Stick with the former shortcut of
    passing on the input bytes directly when only the first digital pod is
    used during acquisition.
    
    This change correctly maps data from the second pod to channels D8-D15.

commit 1b0f62df2294af7f4fa9b8ecaed76a5658802095
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Jan 6 18:56:40 2017 +0100

    hameg-hmo: Do read from second digital pod during acquisition
    
    The previous implementation only added one of the digital channels to
    the list of enabled channels that are involved in the acquisition (the
    first one that was found). This means that when the set of used digital
    channels spans more than one pod/group, the second pod will never be
    read from.
    
    Make sure to enable one digital channel per pod/group, such that
    acquisition will retrieve data from all involved input sources.
    
    Add comments while we are here. Mention how the different setup, check,
    start, and receive routines which are spread across several files do
    interact to achieve acquisition.

commit b23eb1d4d13d5ccf23303bf0bd378504f84de580
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Jan 6 18:12:55 2017 +0100

    hameg-hmo: Send exactly one sigrok frame per scope frame
    
    The previous implementation used to put FRAME_BEGIN and FRAME_END
    markers around each received chunk of samples, while those chunks
    correspond to a single channel (analog) or a group of eight channels
    (digital) each. In other words, the hameg-hmo driver had provided a
    multiple of the requested frames, and those frames were incomplete.
    
    Make sure to only send FRAME_BEGIN before the first channel's data,
    and FRAME_END after the last channel's data of a frame. Thus make
    sigrok frames exactly match the scope's frames.
    
    Add some comments on the frame marker and the acquisition stop logic
    while we are here.

commit 65a6794ea1fef5064e7d47403a7bbbed76c3058b
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Dec 30 23:46:27 2016 +0100

    hameg-hmo: Use the host's endianess to read analog channel data via SCPI
    
    Configure the scope to the host's native endianess before downloading
    acquisition data from analog channels. This unbreaks operation on those
    models which default to a representation which differs from the host.

commit d1ad8b10bc9a928cb7b636bcf206ea59736a8658
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Jan 7 21:15:00 2017 +0100

    Revert "hameg-hmo: Support BE format for SCPI sample downloads"
    
    Undo the change which queries the scope's endianess and has the floats
    converted after reception. An alternative implementation will perform
    better.

commit d5a61aaf2d634c4558bda225e64e720104a0203f
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Jan 7 21:16:33 2017 +0100

    Revert "scpi: Don't process received data of zero length"
    
    Undo the change which skips management activities when no data was
    received. This change breaks the current implementation, and needs to
    get deferred until a delicate interaction between the resize and the
    read logic has been eliminated.

commit 2ea1fdf12113311cbe1a4316e9e2efe4d8ac40f0
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Thu Oct 20 09:57:25 2016 +0200

    license: remove FSF postal address from boiler plate license text
    
    Remove the FSF postal address as it might change (it did in the past).
    Reference the gnu.org website instead which is more stable.

commit 661aa24aa6f6715b615a566082c16fa643ebf955
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Dec 31 14:25:07 2016 +0100

    asyc-ii: Rephrase "exponent" logic when parsing packets
    
    Replace a C library strcspn(3) call with the more portable glib
    g_strstr_len(3) routine. This is possible since a single separator
    is searched for, no actual "set of characters" is involved.
    
    As a byproduct, this eliminates a "late" reference to 'cnt' at the
    bottom of the routine, after the value was assigned in a rather distant
    location at the top of the routine. The cost of strlen() should be
    acceptable for a buffer with a single digit total length.

commit 43528280d9727872ede857bb3b6772947d9fb056
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Dec 31 12:54:39 2016 +0100

    asyc-ii: Prefer more portable and common string routines
    
    Replace C language string operations with their glib incarnations for
    improved portability. Prefer a common sigrok float conversion routine
    over a DIY implementation.

commit c2debda60dd729e77ba89e1d3f370ebcc62811f1
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Dec 31 12:48:59 2016 +0100

    asyc-ii: Unobfuscate a comment on packet parse constraints
    
    The specific packet layout puts constraints on the parse logic (case
    sensitive comparison, order of comparison). Fix a comment that made no
    sense before, and better reflect that there are two constraints.

commit 26e8c6a2b2a4523d00c5f462598074faacb086f3
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Dec 30 13:27:29 2016 +0100

    scpi: Rephrase length logic in data block reception, comment/group code
    
    Slightly rephrase the SCPI code which parses the responses that carry
    (binary) data blocks. Be explicit about NUL termination when parsing the
    leading length spec in the response, obsoleting the array initializer.
    Add lots of comments and group source code lines to better reflect
    what's happening from the protocol's perspective.
    
    Fix the returned error code in the path which reads responses of
    excessive length in chunks. The previous implementation detected errors
    but always returned code 0 (success).

commit 904401e8fe8175252d68fcf6e0c0edae902c1c17
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Dec 30 13:16:04 2016 +0100

    scpi: Don't process received data of zero length
    
    When nothing was received in a read attempt, we need not adjust the
    buffered data's read position nor the glib string object's size. Skip
    any processing for empty input, just keep checking for timeouts.

commit d3de86f3ca50a55773c6974f0c336e942030b0bd
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Dec 30 13:11:59 2016 +0100

    scpi: Minor style nits
    
    Drop an initial assignment to a variable which never takes effect.
    Add braces around the body of a more complex if block. Separate routines
    from each other by exactly one empty line.

commit d431e4ec28d5d168bc0d98d5545a585b89d52e8d
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Fri Dec 30 23:46:27 2016 +0100

    hameg-hmo: Support BE format for SCPI sample downloads
    
    When the channel state is retrieved, query the pre-set byteorder for
    SCPI data blocks as well. When samples get retrieved during capture,
    support float representations in either big or little endian format.
    
    This commit unbreaks devices which operate in BE format by default
    (tested with HMO2524). It keeps working with LE format as before. For
    devices which don't support the byteorder query or return unknown
    responses, LE format is assumed for backwards compatibility. The
    device's byteorder is only queried and never set. This makes the
    commit least intrusive.

commit 74413fafb4846ad1c9f99677f58616db6b7eefcd
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Nov 6 12:30:09 2016 +0100

    hameg-hmo: Declare support for 2 pods / 16 channels on HMO2524 and above
    
    A comment mentioned that the models HMO2524 and above support 16 digital
    channels (and thus have two pods for the probes). Move those models to a
    section that declares the respective features, including trigger support
    on the upper digital channels.
    
    Model detection and reflection of supported channels was tested on HMO2524.

commit 40a75c8e9732992e80e055c995edd73f1ff07f2a
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Nov 6 12:08:02 2016 +0100

    hameg-hmo: Release enabled channels when acquisition start fails
    
    Commit db81fbb58261 made sure to release a potentially previously
    allocated list of enabled channels before (re-)building the list in the
    current invocation of acquisition start.
    
    This commit frees the memory in the error path near the failed creation
    already, which reduces the period of time where unused resources are
    held, and eliminates a memory leak when acquisition is not stopped after
    failed start.
    
    Both approaches can coexist. Freeing an empty list is perfectly fine.

commit 2d224dbae735e5d3ea39cbafcd6d280cbd112c31
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Nov 6 11:51:08 2016 +0100

    hameg-hmo: Fix index access for models with 2 pods / 16 digital channels
    
    Fix the code which registers the name of the second pod for digital
    probes. The previous implementation registered the first pod twice, and
    lost the reference to the second pod. No harm was done, none of the
    supported models declared support for two pods so far.
    
    Factor out a channel to group mapping in the registration of digital
    channels, while we are here.

commit f05903ebe387fde85a9d623225268346cc25fd60
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Dec 26 13:14:26 2016 +0100

    serial-lcr: update README.devices (firmware upload, comm port specs)
    
    Catch up with the rename of deree-de5000 to serial-lcr. Put an item in
    the "needs a comm port spec" section, too.

commit 503220ec8d00a8a351a2c1bc659d42132a40f64a
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Dec 26 13:12:35 2016 +0100

    deree-de5000: rename to serial-lcr, update configure logic
    
    The former DER EE DE-5000 driver was a very thin wrapper around the
    ES51919 LCR meter chipset. None of its source was specific to the
    deree-de5000 device. In fact it contained code for all currently
    supported LCR meters, and it's expected that all LCR meters which
    will get added in the future will fit in as well.
    
    Follow the serial-dmm model. Rename the src/hardware/deree-de5000/
    directory to serial-lcr/. Update the configure logic. Although the
    source directory and the configure option are named serial-lcr, the
    LCR meter still is used by specifying the "deree-de5000" device driver
    (which just happens to reside in the serial-lcr driver sources, among
    others).

commit 8626feaeb57aa50d68293f1706593fa8269a3b2e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 20 17:47:59 2016 +0100

    HACKING: Improve description of Doxygen conventions.

commit dc5895cbdd1e2656ce73f9f0a8ed87e696dfe16a
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Nov 28 01:23:38 2016 +0100

    serial-dmm: add DMM entry for Metrix MX56C (ASYC-II based)

commit 4ba4d52a8f9c66f6b941a545e17c684e65356aff
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Mon Nov 28 01:01:15 2016 +0100

    dmm: introduce support for ASYC-II 16-byte protocol in PRINT mode
    
    Introduce an asycii.c source file (modelled after metex14.c) which
    implements support for the 16-byte protocol of the ASYC-II multimeter
    chipset (RX only, when the PRINT button was pressed).

commit 6c62c605f950a42818f154f614fc00afb2106827
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 5 12:19:05 2016 +0100

    Consistently use the "PeakTech" vendor name spelling.
    
    (as per vendor website, and also to be consistent with our wiki)

commit 9d8f363d35572c03f3f0d75d254f57d17dc51ed9
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Tue Dec 6 21:01:23 2016 +0100

    Bindings: Link C++ code with gnustl_shared if it exists (Android)

commit e83a8f495855b950953d775e7a8f7a6f53f499b9
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Tue Dec 6 21:00:25 2016 +0100

    Java: Use correct JNI function when calling Vector.add

commit fef90b410162bcdb3a7690e15dfabbf90b4f595d
Author: Vlad Ivanov <vlad@ivanov.email>
Date:   Sun Nov 13 14:22:27 2016 +0300

    fx2lafw: fix device product string check
    
    Signed-off-by: Vlad Ivanov <vlad@ivanov.email>

commit 7087a8b0fa24ac9e579ce68452f025a73d115dcb
Author: Karl Palsson <karlp@etactica.com>
Date:   Tue Nov 22 13:12:55 2016 +0000

    fx2lafw: warn on fail to open plausible devices
    
    Instead of silently ignoring all devices that fail to open.
    
    This fixes bug #867.
    
    Signed-off-by: Karl Palsson <karlp@tweak.net.au>

commit 104f02fda1f991654de3e87fb9f40c599fa26c80
Author: Vadim A. Misbakh-Soloviov <git@mva.name>
Date:   Thu Nov 10 16:56:43 2016 +0700

    Makefile: fix for #865.
    
    Buildsystem wants CXX to be defined as $(CXX).
    Otherwise it fallbacks to default value, which does not contain
    "-std=c++11" statement.
    
    Other changes (like CC=$(CC) and CFLAGS=$(CFLAGS) instead of CXX ones)
    is not directly fix the issue, but fix cases, where CFLAGS (and CC)
    differs from CXX* ones, so it could lead to similar errors in the future.

commit f504779c120713727d2d01cbd3ad38175a829a4f
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Wed Nov 16 16:42:37 2016 +0100

    Bindings: Make Ruby bindings build with Ruby 2.0
    
    The alias "rb_ary_new_from_args" for "rb_ary_new3" was not introduced
    until in Ruby 2.1.

commit ced210d53a62086680ca2da97efc14cca2cd8368
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Nov 6 22:20:05 2016 +0100

    deree-de5000: add driver item for the Peaktech 2170 model
    
    Register another driver for the Peaktech 2170 LCR meter, which is
    based on the ES51919/ES51920 chipset, too.

commit beedfa06b6442db8c6a92dd18498c6ffefe6b503
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Nov 6 22:01:37 2016 +0100

    deree-de5000: prepare to add more ES51919 based LCR meters
    
    The "deree-de5000" driver is a very thin wrapper around the ES51919
    chipset. We expect more models from other vendors to use that same
    support code.
    
    Model the registration of vendor/model combinations after the serial-dmm
    approach. Register the DER EE DE-5000 device as the currently only
    member in a list of drivers which all use the ES51919 chipset (no model
    specific routines are registered in the absence of support for other LCR
    meter chips).
    
    This commit does not change the driver's behaviour nor the set of
    supported hardware. It prepares the addition of more drivers in the
    future.

commit 82458e50b1d711fcc5b179900691cdfb77cb86e1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 6 14:45:08 2016 +0100

    serial-dmm: Expand a code comment.

commit d5b1b76d65c446bed0dbabdccd66e51d8cdc8298
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 18:01:43 2016 +0100

    serial-dmm: comment nit on the UART bitrate for ES519xx chips
    
    Factor out identical comments on the UART bitrate of ES519xx based
    multimeters. These probably got copied from the first item as of 2012
    when new items were added in 2014 (the added devices were from the
    same vendor and rebadged).
    
    Expand on the fact that the bitrate still is within spec, and does not
    harm at all. Strictly speaking the comment could get dropped.

commit 89a3d8af3a5f3a1d265ec396fdb3d4c9d69ee7c3
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 17:54:29 2016 +0100

    serial-dmm: sort the list of device drivers (part 12, vc870)
    
    This commit puts 'vc870' meters into one group. Which completes the
    series of commits which sort the list of supported serial DMMs.

commit 53e875ab165f420d02d7132da07dd6f4ba509e98
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 17:35:36 2016 +0100

    serial-dmm: sort the list of device drivers (part 11, sort ut71x)
    
    This commit sorts items in the 'ut71x' group. This is separated from
    collecting the group to reduce the diff size and simplify verification.

commit 6c6e5e47f0c405e8d5a1eb3684152a99d358ff0e
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 17:32:53 2016 +0100

    serial-dmm: sort the list of device drivers (part 10, group ut71x)
    
    This commit puts 'ut71x' meters into one group. Item order is kept to
    reduce the diff size and simplify verification.

commit 9249648863f961b754d9d3406949f4eaab0114d7
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 17:29:35 2016 +0100

    serial-dmm: sort the list of device drivers (part 9, rs9lcd)
    
    This commit puts 'rs9lcd' meters into one group.

commit b35d0023a88b4871be3d4de542b8b170f122ed9e
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 17:01:39 2016 +0100

    serial-dmm: sort the list of device drivers (part 8, sort metex14)
    
    This commit sorts items in the 'metex14' group. This is separated from
    collecting the group to reduce the diff size and simplify verification.

commit ab34156b900e0166a75d03ceb6f36e4a7cc92415
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 16:55:45 2016 +0100

    serial-dmm: sort the list of device drivers (part 7, group metex14)
    
    This commit puts 'metex14' meters into one group. Item order is kept to
    reduce the diff size and simplify verification.

commit 0e27643ff81858262fe0dc864dc962bf030b06ba
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 16:52:27 2016 +0100

    serial-dmm: sort the list of device drivers (part 6, fs9922)
    
    This commit puts 'fs9922' meters into one group.

commit 1cd40b57d67cadc6abbf7009917d85d8f80fb64d
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 17:23:34 2016 +0100

    serial-dmm: sort the list of device drivers (part 5, sort fs9721)
    
    This commit sorts items in the 'fs9721' group. This is separated from
    collecting the group to reduce the diff size and simplify verification.

commit 289e1f4e7b57a711de0ffaeaf2a89a8821ad0831
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 17:12:43 2016 +0100

    serial-dmm: sort the list of device drivers (part 4, group fs9721)
    
    This commit puts 'fs9721' meters into one group. Item order is kept to
    reduce the diff size and simplify verification.

commit 7532f61d1ba618e76628f6ea3db07f6dad7a751e
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 16:40:35 2016 +0100

    serial-dmm: sort the list of device drivers (part 3, es519xx)
    
    This commit puts 'es519xx' meters into one group.

commit 440a374fe3799a72e1b244879490ba2814d2e74a
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 16:31:11 2016 +0100

    serial-dmm: sort the list of device drivers (part 2, dtm0660)
    
    This commit puts 'dtm0660' meters into one group.

commit c06785841cd217ad01e32be9201dca69b1f8818d
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sat Nov 5 16:19:58 2016 +0100

    serial-dmm: sort the list of device drivers (part 1, bm25x)
    
    The previous implementation seems to have added drivers in their "order
    of appearance". Start sorting the rather long list, to simplify several
    tasks: Add new entries as more drivers get written, find existing items
    during research, identify and compare similar models during maintenance.
    As a byproduct, there will be no doubt about where to put things during
    future work :) and duplicates will be spotted immediately.
    
    This commit puts 'bm25x' meters into one group. And comments on the sort
    order and motivation for sorting the table.

commit 6b7e644e5c5ca8fd501303a812293a00d830cd32
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Tue Oct 18 20:35:23 2016 +0200

    es51919 lcr: unbreak channel setup after successful detection
    
    Commit 6bcb3ee8763bb introduced initial support for the Cyrustek ES51919
    chipset. Its setup_channels() routine used to init a variable to assume
    failure, then a loop added channels and changed the value to success.
    
    Commit 5e23fcab889c6 changed channel setup to never fail, but kept the
    initialization with an error code. Which prevented the operation of
    successfully detected LCR meters.
    
    Remove the no longer needed variable, instead always return success from
    an operation which cannot fail.
    
    Fixes: 5e23fcab889c6 "Simplify channel creation."
    Signed-off-by: Gerhard Sittig <gerhard.sittig@gmx.net>

commit e68c0eb4097e4a01d65c71f473a48c367e06609d
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Wed Oct 12 12:10:04 2016 +0200

    serial-dmm: add support for Peaktech-3330 (based on FS9721)
    
    Add another DMM entry for Peaktech-3330, which is based on the FS9721
    chipset. Support was tested with the CP210x based USB cable.
    
    Signed-off-by: Gerhard Sittig <gerhard.sittig@gmx.net>

commit 0150fdca549411e2d5111629c786e4e53c6208cc
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Oct 16 18:25:23 2016 +0200

    output/ascii: add support for user configurable character set
    
    Since tastes and requirements might differ, introduce support for a
    user specified character set in the construction of ASCII art graphs
    of signal levels. The syntax is "charset=<low><high>[<fall><rise>]",
    the default remains backwards compatible with existing consumers.
    
    In comparison to assuming a fixed character set, this change addresses
    several distinct aspects:
    
    Users can adjust the output for "higher visual contrast", or "straight
    lines" instead of dotted patterns, or "increased difference in height"
    for low and high signal levels, or "filled" (block like, "wall of text")
    appearance of periods with high levels. User adjustable characters are
    needed, as no single fixed set can satisfy the differing expectations.
    Perception of the output heavily depends on specific terminals and fonts
    in use.
    
    Then there is the issue of levels versus edges, and how their timing
    relates. By default edges are drawn at a point in time where the signal
    was sampled and was deteremined to already _have_ changed and have
    settled to the new level, which means that the position of edges in the
    resulting graph might be off by up to one sample period. Strictly
    speaking, the available set of samples only contains levels, and does
    not hint where exactly an edge might have occured. Though this might be
    considered rather nitpicky, representing the graph without edges does
    better reflect the input data, and might simplify postprocessing.
    
    Compare the previously only supported format (still the default, -O ascii):
    
      1:...................................................../""""""""""""""""""""
      1:""""""""""""""""""""""""""""""""\.........................................
      1:..........................................................................
    
    to those example alternatives:
    
      $ sigrok-cli -i file.sr -O ascii:charset=_\"\\/
      1:_____________________________________________________/""""""""""""""""""""
      1:""""""""""""""""""""""""""""""""\_________________________________________
      1:__________________________________________________________________________
    
      $ sigrok-cli -i file.sr -O ascii:charset=_\"
      1:_____________________________________________________"""""""""""""""""""""
      1:""""""""""""""""""""""""""""""""__________________________________________
      1:__________________________________________________________________________
    
      $ sigrok-cli -i file.sr -O ascii:charset=_^
      1:_____________________________________________________^^^^^^^^^^^^^^^^^^^^^
      1:^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^__________________________________________
      1:__________________________________________________________________________
    
      $ sigrok-cli -i file.sr -O ascii:charset=_M
      1:_____________________________________________________MMMMMMMMMMMMMMMMMMMMM
      1:MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM__________________________________________
      1:__________________________________________________________________________
    
      $ sigrok-cli -i file.sr -O ascii:charset=_X
      1:_____________________________________________________XXXXXXXXXXXXXXXXXXXXX
      1:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX__________________________________________
      1:__________________________________________________________________________
    
    Signed-off-by: Gerhard Sittig <gerhard.sittig@gmx.net>

commit 6c23b710ec21b6937be059aa7cb14313e929ec7c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 2 19:09:22 2016 +0100

    udev: Add comment about Rocktech BM102.

commit 545c04f139a558c73d556041a632d4f60790460c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 2 19:08:57 2016 +0100

    udev: Add DreamSourceLab DScope VID/PID.

commit 7305457f6143e0def819f3d17ff6500a080aaa9f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 31 15:30:12 2016 +0100

    udev: Update for new post-firmware Hantek 6022BE VID/PID.

commit 7dc72c37e22ba8d1eea5a7e67f753bb118317b6a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 31 14:42:29 2016 +0100

    hantek-6xxx: Add "fx2lafw-" prefix to the firmware files.

commit 459324acb8769240513e0bb3ef3c04ad295e8b19
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Oct 12 22:33:19 2016 +0200

    hantek-6xxx: Update driver to use the USB product version field.
    
    We now require the use of the latest fx2lafw firmware which uses the
    same USB VID/PID (1D50:608E) for the Hantek 6022BE and the variants
    and rebadges of that device (e.g. the SainSmart DDS120).
    
    The variants can be distinguished via the USB product version field.

commit f6e7b6124a646b0ece644681d4e0172ffb30a561
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Oct 17 23:15:51 2016 +0200

    agilent-dmm: style improvement

commit 63bb11babae03609b06bb06a4c48100e72a81cd7
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Oct 14 22:52:17 2016 +0200

    agilent-dmm: add support for Log-* data_source for U128x

commit b907d62fb83ee980abfd19912a1d055740f66fc9
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Sep 15 18:19:49 2016 +0200

    agilent-dmm: rework job management
    
    This allows much faster and configurable sampling rate, and faster
    reaction to function switch.
    This also gives a more repeatable job ordering and more reliable
    query/reply association.

commit 6ace179e6d33c9e0ad85cbd10d51bfde86993ee0
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Sep 15 18:14:54 2016 +0200

    agilent-dmm: prepare config handling to easily receive more options

commit 5728718b66d12b82415f400d040dd9933775abb0
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Sep 13 17:57:07 2016 +0200

    analog: use SI prefix only with units that accept SI prefixes

commit d2f6abf6dececc58813760312749bffc343f7cc3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Sep 13 14:37:30 2016 +0200

    agilent-dmm: fix handling of continuity mode for U128x

commit 7ab126cacbcb95af49231a07c7f027a7443d9399
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Sep 13 14:23:03 2016 +0200

    agilent-dmm: add support for pulse width and duty cycle on U128x

commit cdc311957b6c1fbe68a88ed3a44fefa4a9037605
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Sep 11 19:18:19 2016 +0200

    analog: use correct unit for dBm/dBV

commit 8f68f36bc527f47f09445bbad1779a9fa3a22159
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Sep 11 19:17:34 2016 +0200

    agilent-dmm: add support for dBm/dBV modes

commit d822726dbffea1fabe47bcea3e434eadcfa29b31
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Sep 11 18:56:52 2016 +0200

    agilent-dmm: add support for reading secondary display and temperature

commit 3cc2028382637283884d03af7893003d85c9818a
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Oct 16 18:25:22 2016 +0200

    tests: relax the "version text" length check, accept longer strings
    
    The version text length check fails for git setups that use more digits
    in abbreviated hashes, as is recommended by e.g. the Linux kernel project.
    
    Raise the upper limit for acceptable version strings, and add comments
    on how the limits were determined. The test still might fail in setups
    of slightly different configuration, but now it's easier to see why the
    test failed, and how to adjust the test.
    
    Signed-off-by: Gerhard Sittig <gerhard.sittig@gmx.net>

commit 7c86d8537204caa95d70d92bf5698b32ac35fa10
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Oct 16 18:25:21 2016 +0200

    asix-sigma: fix buffer length check in register write helper
    
    Fix the array size check in the sigma_write_register() routine. The
    'len' parameter specifies the number of bytes to write, while the 'buf'
    array holds one nibble per array item.
    
    The previous implementation (commit e8686e3ae36c1) switched to a
    constant size and made the buffer large enough so that no existing
    request would exceed the buffer, fixing an overflow that was present
    before that commit. But the most recent size check was incomplete and
    might erroneously succeed for larger amounts of write data.
    
    It's assumed that the issue which gets addressed here never occured in
    practice. The constant-size buffer could hold up to 39 bytes of input
    data in their transport representation, while the largest data that was
    passed to the write routine is six bytes (trigger LUT params).
    
    Fixes: e8686e3ae36c1 "asix-sigma: Avoid use of variable length arrays"
    
    Signed-off-by: Gerhard Sittig <gerhard.sittig@gmx.net>

commit 2f7e529ce64c45508adf616b4b48a7a154aa7798
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Oct 16 18:25:20 2016 +0200

    asix-sigma: store "limit samples" value, re-determine "limit msecs" period
    
    The driver internally implements the "limit samples" feature by means of
    the "limit sample period" approach. Determination of the corresponding
    period of time for captures depends on the sample rate as well as the
    maximum sample count, and thus needs to be re-done when either setting
    changes.
    
    Introduce a "limit_samples" variable so that the value is available when
    needed later. As a byproduct the parameter can be retrieved now (get).
    
    Add comments to the sigma_set_samplerate() routine's sections, since
    quite a bit is happening there, and interacts with other locations.
    
    Signed-off-by: Gerhard Sittig <gerhard.sittig@gmx.net>

commit 4154a516de818ace3aabfe5e44cf4c81986074e7
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Oct 16 18:25:19 2016 +0200

    asix-sigma: fix out-of-range access to the samplerates[] array
    
    Commit 2c9c0df86eaf removed the sentinel from the samplerates[] array,
    but did not adjust the test which checked whether a rate is listed in
    the set of supported rates. This could result in an out-of-range access
    beyond the array's last item.
    
    Fix the "listed?" check after iterating the table of supported rates.
    Cope with either presence or absence of a sentinel in the array.
    
    Address some more style nits while we are here. Rename an identifier
    for a local variable which unintentionally might suggest that it would
    be a preprocessor macro (all-caps). Reduce redundancy in data type
    references as well as in the determination of the array size.
    
    Signed-off-by: Gerhard Sittig <gerhard.sittig@gmx.net>

commit 387825dcb1d3ee3fa39286d6048e7bfe86a310b6
Author: Gerhard Sittig <gerhard.sittig@gmx.net>
Date:   Sun Oct 16 18:25:18 2016 +0200

    asix-sigma: update comments in firmware download code paths
    
    The current implementation of the ASIX Sigma firmware download contains
    comments which express uncertainty. Rephrase them, no magic is involved.
    
    Discuss the polarity of the CCLK hardware signal. Which shall eliminate
    potential concerns in future reviews or maintenance.
    
    This commit only updates comments, and does not change behaviour.
    
    Signed-off-by: Gerhard Sittig <gerhard.sittig@gmx.net>

commit efde67a1076110f8d0a7e0e6175eeccd4dc8446a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 26 17:02:54 2016 +0200

    Doxyfile*: Set GENERATE_TODOLIST to NO.
    
    We don't really need or use this. Bugs/issues should go into Bugzilla.

commit ba508e22d4e5ac358489e24b29f458c5bc1fb892
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 19 01:48:56 2016 +0200

    demo: File naming consistency changes.

commit caeb8d7a9d2d5a2497692a23caf066f33f7a34c3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 18 18:54:56 2016 +0200

    hantek-dso: File naming consistency changes.

commit 2cb232a9e42345c3783f4898c5a5049871edc534
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 18 18:52:53 2016 +0200

    fluke-dmm: File naming consistency changes.

commit 6cf1a87bfb803e088234e2e313891d27379880cf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 18 18:50:11 2016 +0200

    agilent-dmm: File naming consistency changes.

commit 7ade12b470366a03f7bf84e4989c9d3593dc333b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Sep 24 11:41:47 2016 +0200

    resource: Improve logging output.
    
    Don't show duplicate lines (per default) such as
    
      sr: resource: Failed to locate 'saleae-logic16-fx2.fw'.
      sr: resource: Failed to open resource 'saleae-logic16-fx2.fw'.
    
    The first one is now an sr_dbg() instead of sr_err().
    
    Also, mention that a higher loglevel will give more information as to
    where the backend is looking for resources / firmware files.
    
    This fixes bug #806.

commit cad447d21a28438cd34bcfa053383e7487b16b35
Author: Mike Meyer <mwm@mired.org>
Date:   Thu Sep 8 11:06:33 2016 -0500

    output/csv: Add an option to output units for column labels.
    
    This change tweaks the CSV output module to change the label
    setting from on/off to units/channels/off, where channels is the old
    on behavior, and units uses the meaning field to generate the column
    label - except for the generated Time column, which uses the label from
    the X axis when it's generating gnuplot output.

commit d53295e69edda62f966488bb6e4c05c1c842c6fe
Author: Karsten König <remur@gmx.net>
Date:   Sat Sep 24 11:02:14 2016 +0200

    rigol-ds: Add DS1074Z Plus and DS1104Z Plus.
    
    This was successfully tested on a DS1074Z Plus.

commit d5794ad63ac0bc6f090b799b12d310c30860217b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 4 18:16:40 2016 +0200

    contrib: Drop all example gnuplot scripts.
    
    These files (or at least similar ones) can now be generated by the
    CSV output module.

commit f9c6b5cfd3c0f6cb737f6a68f69034ce6819f36d
Author: Mike Meyer <mwm@mired.org>
Date:   Sat Aug 6 16:33:28 2016 -0500

    output/gnuplot: Remove, obsoleted by improved CSV module.
    
    We no longer need a gnuplot output module, the CSV module can output
    gnuplot-compatible data now (and it can also generate .gpi files).

commit e34dbc9d0834d9dac310bc2dce844567adfffd08
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Sep 2 20:06:07 2016 +0200

    csv: Fix a segfault due to a g_malloc() allocating too few bytes.

commit cf1d5f1749fc6b6511c72563233375ac61cfb548
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Sep 2 20:05:52 2016 +0200

    csv: Fix a segfault when using non-hardware input.

commit 9e24c8bc65852e9de82c5e8efdfe15b9bed61dd1
Author: Mike Meyer <mwm@mired.org>
Date:   Fri Aug 5 04:52:08 2016 -0500

    New all-singing, almost all dancing, csv output module.
    
     - It now handles more than one analog value correctly - at least from the
       demo driver.
     - Add column headers from channel names.
     - Add a row dedup capability.
     - Add a sample time column.
     - Add a frame end formatting (for gnuplot).
     - Made almost all formatting controllable or at least optional.
     - Fix it so we can mix analog and digital values.
     - Add outputting a gnuplot script for the data.
     - Count actual channels, not just mine, to find end of sample.
     - Add trigger option (untested).

commit 55ec0b673af83b70615482c0c5ce33b18ef02fa8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 29 21:29:40 2016 +0200

    fluke-dmm: Fix two compiler warnings.
    
      src/hardware/fluke-dmm/fluke.c:312:24: warning: implicit conversion from \
      enumeration type 'enum sr_unit' to different enumeration type 'enum sr_mq' \
       [-Wenum-conversion]
              devc->mq = devc->unit = devc->mqflags = 0;
                       ~ ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~
    
      src/hardware/fluke-dmm/fluke.c:312:40: warning: implicit conversion from \
      enumeration type 'enum sr_mqflag' to different enumeration type 'enum \
      sr_unit' [-Wenum-conversion]
              devc->mq = devc->unit = devc->mqflags = 0;
                                    ~ ~~~~~~~~~~~~~~^~~

commit 693c52482a55f7eee9da11b084971560058aebef
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 29 21:10:13 2016 +0200

    es51919: Fix a compiler warning.
    
      src/lcr/es51919.c:538:73: warning: comparison of unsigned enum expression \
                    < 0 is always false [-Wtautological-compare]
        if ((analog->meaning->mq = parse_mq(pkt, is_secondary, pkt[2] & 0x80)) < 0)

commit 5c436a3bad14fe6edbc1c3d99006d8e81293ca30
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 29 18:44:43 2016 +0200

    strutil.c: Fix a Doxygen warning.

commit cd04f641a59806fa5c88abd73766d254dcda4012
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 29 18:39:12 2016 +0200

    Fix various sample/time limit regressions.
    
    These were accidentally introduced when the sw_limits helpers were added.

commit cb4b368f17f03d03075a25b2eee1045023b973b3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 29 18:01:08 2016 +0200

    gmc-mh-1x-2x: Shorten some code by using the ternary operator.

commit d9251a2c9f1ca4380c27240ccca90c9f9ed46d3f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 29 17:48:18 2016 +0200

    Remove some unneeded double-spaces.
    
    (also perform some other minor whitespace fixes while at it)

commit 2ecc745ccb837fd990f3ef83e4aca74cffa948cc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 29 16:43:49 2016 +0200

    device.c: Whitespace/cosmetics and typo fixes.

commit 8dc423b033678508ec08d7c473d883d4b3a58178
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 29 16:15:00 2016 +0200

    analog.c: Whitespace/cosmetics and typo fixes.

commit 4a94c27d956472a587bd5ef0ee6a3867c3088910
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 28 20:16:31 2016 +0200

    HACKING: Prefer git pull requests over mailing list patches.
    
    Also, drop the reference to gitorious.org (no longer available).

commit 7dcaddd3f0df3a87dae252eb1f64f7b0e3997b8f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 28 23:52:48 2016 +0200

    Have remaining drivers default to digits=2 for analog values.
    
    The default so far was 0, which meant there would be no significant
    digits at all, yielding results that looked strange/wrong to the user.
    
    Long-term all remaining drivers should be fixed to use the actual,
    correct digits and spec_digits values according to the device's
    capabilities and/or datasheet/manual. Until that is done, a default
    of digits=2 is used as a temporary workaround.
    
    This fixes the remaining parts of bug #815.

commit 869c83751149aa03cda072355c2b670569cdfc0d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 28 23:50:33 2016 +0200

    Document if or why sometimes digits/spec_digits is 0.

commit a005472fa226ad23b2df42956c448c3cfb6eefa3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 28 22:53:04 2016 +0200

    appa-55ii: properly set encoding digits also for log memory reception

commit 962172e4950f3fbc42d5a79cdf63dc179d7513be
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 28 22:11:20 2016 +0200

    analog: improve output readability by using SI prefix

commit 6c1c13cdcdee4e5566bc0c2ef0ba9a1f59d2c846
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Aug 25 01:08:29 2016 +0200

    gwinstek-gds-800: properly set encoding digits

commit 417412c8f88bd71fe5da5c80db0866d48c6908b3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 24 02:11:24 2016 +0200

    hantek-dso: properly set encoding digits

commit 1e1fdbc994e7c7345698e776e73d7ea5c4d950a9
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 24 00:55:12 2016 +0200

    hantek-6xxx: properly set encoding digits

commit 545101338ac4b283278f3922081428bc81a58810
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 24 01:18:58 2016 +0200

    hung-chang-dso-2100: properly set encoding digits

commit ad4c0275c206d90aa8a8e878d40294248c1f5cd5
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 24 02:38:58 2016 +0200

    baylibre-acme: properly set encoding digits

commit d043b29d5c99c7b72044d19c758c47de4138f0e8
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 24 00:51:46 2016 +0200

    tondaj-sl-814: properly set encoding digits

commit 53b4ea3921a004432d9531ef3b0d9883c2be634e
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 24 00:51:22 2016 +0200

    kecheng-kc-330b: properly set encoding digits

commit dcb6fcbb7b3b0c9a3fe56a1be3cc1c9e45ebd03c
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 24 00:51:08 2016 +0200

    colead-slm: properly set encoding digits

commit 8c50007222b751a6ac81fcd14361f81f90e19442
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 24 00:50:48 2016 +0200

    cem-dt-885x: properly set encoding digits

commit f4bd8a171816d842303f93bd9a8fb24b851aaa80
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 24 00:50:23 2016 +0200

    gmc-mh-1x-2x: properly set encoding digits

commit 796f0e98a29102cd7346e9680e6227ff2787f64a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 21 22:19:57 2016 +0200

    README.devices: Update firmware related information.

commit 96117c5660ec218220328d4244bb794be01d5196
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 18:32:38 2016 +0200

    document encoding.digits and spec.spec_digits

commit b66a0b5bddedfe6399256799bdc783f62dcc7a95
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 17:01:19 2016 +0200

    mic-985xx: fix encoding digits

commit 1db537c3eb3892cd4fc7c2735d2952db4adf72ad
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 17:00:59 2016 +0200

    uni-t-ut32x: properly set encoding digits

commit fa2b19226d562f21fe36e9a73ff2beafc26c8eb6
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 17:00:14 2016 +0200

    lascar-el-usb: properly set encoding digits

commit 0a2ffa3ebf025dd3955319ca0d0750464b8dadac
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 16:59:02 2016 +0200

    center-3xx: properly set encoding digits

commit 0b8205504b4655f2a012a991afc61eefd45e70fb
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 16:58:10 2016 +0200

    kern-scale: properly set encoding digits

commit 3be044aa9012a863d50dcca69c49ccd7d8209c60
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 16:57:58 2016 +0200

    demo: properly set encoding digits

commit bcaadb366f56127b1a39ce54b0de03c975701c4c
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 16:57:28 2016 +0200

    motech-lps-30x: properly set encoding digits

commit 1af428d018b10439071c7e3d948f4099603fa63b
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 16:56:56 2016 +0200

    manson-hcs-3xxx: properly set encoding digits

commit 841c15a5fa6cf20c520e6ec7497186c845cd151b
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 16:56:14 2016 +0200

    korad-kaxxxxp: properly set encoding digits

commit fad810b5022734c98bcac22c2a13c095b96b781b
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 16:55:50 2016 +0200

    atten-pps3xxx: properly set encoding digits

commit 24b6882ffa32b21a3f94de6fef72198116499071
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Aug 21 16:55:06 2016 +0200

    deree-de5000: properly set encoding digits

commit b8f07f42216dd9b07d433d12cb660a617a0c3757
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Aug 20 00:56:23 2016 +0200

    rigol-ds: properly set encoding digits

commit 6ed709fecd14e6f122ee1ea18fc15abb4b3c8580
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Aug 18 15:21:01 2016 +0200

    scpi-pps: properly set encoding digits

commit 4301f1726ac94b111f78c4631586480ed09e6faf
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 22:01:04 2016 +0200

    maynuo-m97: properly set encoding digits

commit a66d44bee19bd0d73df26710a5ce46c9e0be6bb8
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:40:11 2016 +0200

    vc870: properly set encoding digits

commit 4f414d4cbe6ceaaab4c03752ce26037c31a2ecea
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:37:44 2016 +0200

    ut71x: properly set encoding digits

commit 47166326eff917ced8563b976f85413fab2b3a06
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:35:17 2016 +0200

    ut372: properly set encoding digits

commit 96a06b420344f902211cf97c1022391f583191fa
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:33:35 2016 +0200

    rs9lcd: properly set encoding digits

commit e677490e58a5ce8f2e735c7d5a53fb1f62e778e6
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:28:50 2016 +0200

    metex14: properly set encoding digits
    
    This closes bug #815.

commit 8882e7e6cf121edec20db5651eababacd9b6503c
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:27:22 2016 +0200

    m2110: properly set encoding digits

commit aad6d8d20659eda1bd443bb0350d4ad059a90728
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:19:40 2016 +0200

    fs9922: properly set encoding digits

commit 70e28e780244427fc645427731ad1ea299228e51
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:16:40 2016 +0200

    fs9721: properly set encoding digits

commit 8cbf5627baf007b8766546986ef267868d2ff5b6
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:09:13 2016 +0200

    es519xx: properly set encoding digits

commit 427015d7c1cf2b01b05084df5904ad72c636456e
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 01:03:21 2016 +0200

    dtm0660: properly set encoding digits

commit 25198a7e8912acbf2729770278e356b00a6516c0
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Aug 16 18:08:03 2016 +0200

    brymen-bm25x: properly set encoding digits

commit 1baf30f5f713041fb3ac3383c8aafd81090ec446
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 00:14:53 2016 +0200

    brymen-bm86x: properly set encoding digits

commit 5fe1b5cc14819c23622c14f5a0cb545889044172
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Aug 16 18:16:28 2016 +0200

    brymen-bm86x: remove redundant initilialization

commit 7b78449e40028fbfaf1f31c630bc3c5bda06a34a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Aug 17 00:52:05 2016 +0200

    appa-55ii: properly set encoding digits

commit 817b7441a1f31788a53f39af7c2f1e08f9de25b2
Author: Erik Montnemery <erik@montnemery.com>
Date:   Thu Aug 18 23:05:11 2016 +0200

    hantek-6xxx: Ignore requests to set Hantek 6022BE coupling.
    
    Here's a patch to "Ignore requests to set coupling for the Hantek 6022BE",
    this clears the LIBUSB errors for me.
    
    Also in the patch:
    
     - There is a crash because config_list() can be called with sdi == NULL.
    
       This can be reproduced by doing:
         "sigrok-cli.exe --driver hantek-6xxx --show"
    
     - There seems to be a very unsafe loop in config_set() when setting COUPLING;
       the coupling vector is assumed to be zero terminated, but is not declared
       as such.
    
       Note: The same issue is present also for other hardware, at least for
       hantek-dso/api.c. The patch is only for hantek-6xxx though.

commit 7f46b27ef2cefa9baf1ef8fdcf547451e85dc702
Author: Sebastian Zagrodzki <sebek@zagrodzki.net>
Date:   Fri Aug 19 15:22:35 2016 +0200

    hantek-6xxx: sdi might be NULL - don't assign devc until !sdi is checked.

commit 0d8a3063e315064ff73f154ea7d94acb41fe8ba6
Author: Mike Meyer <mwm@mired.org>
Date:   Mon Jul 11 11:09:04 2016 -0500

    hantek-6xxx: Fix the device scan to not scan the NULL entry.

commit bf85ea2110f5fc798841b7d912ad6d961c28d6b3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Aug 15 01:28:55 2016 +0200

    drivers: don't try to access the sr_driver_list section with no driver compiled.
    
    This closes bug #820.

commit 5eb4ba29d06ed4155ec684117d2bb4a5ed268bb7
Author: Benjamin Larsson <benjamin@southpole.se>
Date:   Sat Apr 23 21:48:05 2016 +0200

    hantek-6xxx: only show DC coupling for the Hantek device

commit af7f88242eef2bdcbaa7ff2d58f74ad616305b48
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 14 23:51:49 2016 +0200

    hantek-6xxx: Fix some issues by using power-of-two data sizes.
    
    There were issues when using non-power-of-two data sizes with e.g.
    the Hantek 6022BE device. For example, on Windows the acquisition would
    simply hang and never complete:
    
      hantek-6xxx: receive_transfer(): status LIBUSB_TRANSFER_ERROR received 0 bytes
    
    The issue was reported by Erik Montnemery on the mailing list, the
    original patch was posted by "mmark" here (thanks!):
    
      http://www.eevblog.com/forum/testgear/sainsmart-dds120-usb-oscilloscope-(buudai-bm102)/msg911729/#msg911729
    
    The issue has been verified by me on Windows and Linux, and also that
    this change does indeed fix it (tested Hantek 6022BE and Sainsmart DDS120).
    
    Neither PulseView nor sigrok-cli hang anymore on Windows, and on Linux
    the log messages suggest improvements as well:
    
      -hantek-6xxx: data_amount 712
      +hantek-6xxx: data_amount: 200 (rounded to power of 2: 512)
    
      -hantek-6xxx: receive_transfer(): calculated samplerate == 2327ks/s
      -hantek-6xxx: receive_transfer(): status LIBUSB_TRANSFER_OVERFLOW received 512 bytes.
      +hantek-6xxx: receive_transfer(): calculated samplerate == 1969ks/s
      +hantek-6xxx: receive_transfer(): status LIBUSB_SUCCESS / LIBUSB_TRANSFER_COMPLETED received 512 bytes.
    
    This fixes bug #821.

commit 236303160c955ee58f08d00739b16da37386e6cc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jul 17 19:39:04 2016 +0200

    Fix a segfault with input/output modules.
    
    Some functions in std.c were using
    
      const char *prefix = sdi->driver->name;
    
    but were called from input/output modules as well (which don't have
    a "driver" field).
    
    As a temporary workaround, use "unknown" as prefix in such cases until
    a more permanent solution is implemented.
    
    This fixes bug #813.

commit ced48274051be6b3b1ed612260c893fdb2525946
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Jun 18 21:52:31 2016 +0200

    ensure the only entry point of libdrivers doesn't have visibility=hidden
    
    This fixes the following build issue on OSX:
    Undefined symbols for architecture x86_64:
      "_sr_drivers_init", referenced from:
          _sr_init in backend.o
    
    This closes bug #802.

commit 2f4b0f6a82e02559562927207efffe639a198fa8
Author: Thomas <fullerth@gmail.com>
Date:   Sun Feb 28 18:59:57 2016 -0800

    Add VID/PID for the CWAV USBee ZX.
    
    The hardware is identical to the SX.
    
    This fixes bug #764.

commit 0cce2383bd8ca3ec3e406c3370d022161030304c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jul 3 23:38:29 2016 +0200

    fx2lafw: Set sr_analog_encoding.digits to 2 for now.

commit 2ab0679a340cf0dfb22debdbd79b229a8aed27fb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jul 3 23:03:52 2016 +0200

    fx2lafw: Fix analog scaling.
    
    Thanks to Patrick Remy <patrick.remy2000@gmail.com> for the fix.

commit e8b5205bf336f2e0f59e5acd78b3bc9233ba61fd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jul 3 16:41:16 2016 +0200

    session.c: Drop unneeded check.
    
    The dev_acquisition_stop() callback is not optional and always present.

commit 0e5a2877595b3746fca4559b38930cb08d9362be
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jul 3 16:40:44 2016 +0200

    uni-t-dmm: Drop unused UNI_T_UT_D04_NEW #define.

commit 43185ed3dc0b33e84109eab89959df5de1405f76
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Jun 17 22:49:46 2016 +0200

    agilent-dmm: add support for U128x

commit 9ae544b6ce98097f9610a0adab8aa14da0d259c9
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jun 12 01:48:15 2016 +0200

    agilent-dmm: add support for Keysight branded meters

commit 0fe18626bd525e19e674361fa52394155c6fbdcc
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jun 12 01:46:52 2016 +0200

    agilent-dmm: add support for AC/DC flags in current mode

commit 96ed86253b1d320b8f467581d7a29b9e4a570348
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jun 12 01:41:26 2016 +0200

    agilent-dmm: fix handling of AC/DC flags in volts mode

commit 4435966e43da77164d517ee2943ac3e3f4c1dee5
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Jun 23 00:35:58 2016 +0200

    agilent-dmm: output correct number of digits in analog packets

commit 873c0d117f89168106de908d26ea65bd30054d78
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Jun 23 01:11:35 2016 +0200

    agilent-dmm: split DIOD recv_conf into model specific functions
    
    This reduce overall number of lines and facilitate computation
    of significant digits.

commit 40df76aacbb9f98a6e9e36f53886e1af13f150b0
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Jun 23 00:30:09 2016 +0200

    agilent-dmm: replace divider by exponent to ease computing of significant digits

commit 28c95cc6c45ede9ec9d184d606bfc16505834429
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jun 20 22:58:12 2016 +0200

    analog: add support for negative number of digits
    
    When a meter display 105.2 kΩ, libsigrok will return 105200 Ω
    but it is really valuable to know that the last 2 digits are not
    significant, so encoding.digits should be set to -2.
    This would allow a sigrok client to display 105200 as 105.2 k
    instead of 105.200 k.

commit 4d6d660b8306abdbc77a47e48d7f527234ce9a4f
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Jun 9 04:36:35 2016 +0200

    Logging: Filter out unwanted newlines
    
    055804e89ea0f6b4145040a0eeb2f4e6951692fe changed the outgoing
    SCPI message termination by always adding a newline. This results
    in the following log output:
    
    sr: [00:00.003102] scpi: Opening VXI device vxi/192.168.178.43.
    sr: [00:00.005648] scpi_vxi: Successfully sent SCPI command: '*IDN?
    '.
    sr: [00:00.005931] scpi: Got response: 'YOKOGAWA,710130,91HC30402,F3.73', length 31.
    
    This patch restores the previous unterminated SCPI message logging:
    
    sr: [00:00.005462] scpi: Opening VXI device vxi/192.168.178.43.
    sr: [00:00.007515] scpi_vxi: Successfully sent SCPI command: '*IDN?'.
    sr: [00:00.007860] scpi: Got response: 'YOKOGAWA,710130,91HC30402,F3.73', length 31.
    
    As it's located in the general logging mechanism, we deal with any
    additional (and unwanted) newlines this way.

commit e264ebded832bc6556f88f771e9598d998aac6ce
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Jun 25 21:37:53 2016 +0200

    rigol-ds: properly report which channel is enabled.

commit 9ea62f2e0ac1ae9ee01215148177ae4e6f344078
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Jun 25 18:19:47 2016 +0200

    rigol-ds: add support for getting/setting trigger level.

commit 934cf6cf5078f01517da303f21ed2ffee9b878f3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Feb 23 00:32:01 2015 +0100

    rigol-ds: add PROBE_FACTOR support.

commit 8719638f5ad434684331ca2bd0f18fb759e4f97a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Jun 25 17:21:20 2016 +0200

    rigol-ds: split out vertical config reading in its own function for re-use.

commit 5d8b3913d4dc450b8af0ad028a379be775e278ef
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jun 5 23:10:44 2016 +0200

    group all drivers into a single object
    
    This single object also contains the sr_drivers_init function, that will
    always be referenced. That ensures that the drivers object files won't
    be optimized out during static linking due to the fact that they are
    not referenced directly.
    
    This addresses (parts of) bug #802.

commit d1d3d2e0c4f74625f6f8379a3128412c600ad98d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 18:37:04 2016 +0200

    output/analog: Drop unused fancyprint() and si_printf().
    
    These functions were only used in the SR_DF_ANALOG_OLD case,
    whereas the SR_DF_ANALOG case already used functions and lists
    from src/analog.c.
    
    This closes bug #636.

commit 24f4a9d50bb93c83cf610a789d0f618970f454ef
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 18:01:13 2016 +0200

    session: Drop SR_DF_ANALOG_OLD support completely.
    
    This closes bug #728.

commit 0f574e133c42b2c47a10c75424384e6efd6e0d6b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 16:27:28 2016 +0200

    transform/scale: Drop support for SR_DF_ANALOG_OLD.

commit 09e269ce217b317096340118cd0154a78f83e388
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 16:26:56 2016 +0200

    transform/invert: Drop support for SR_DF_ANALOG_OLD.

commit 23bdb1c997ac55adfc53a57011ea1f4f69b1ddb7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 16:26:04 2016 +0200

    output/analog: Drop support for SR_DF_ANALOG_OLD.

commit 5379fea5eff59c51134a697b1d30048faf2f7c57
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 16:25:33 2016 +0200

    output/csv: Drop support for SR_DF_ANALOG_OLD.

commit c1634386178730fa7b3814272c49cb89d55a0766
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 16:24:23 2016 +0200

    output/wav: Drop support for SR_DF_ANALOG_OLD.

commit 6cdb1da6c95d006d423a6e8c9ed7d6580d85bba4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 18:01:10 2016 +0200

    session_driver.c: Convert to SR_DF_ANALOG.

commit 8c677240849e5f892a19b4c763b78e0c352637e1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 18:00:14 2016 +0200

    libsigrok-internal.h: Convert to SR_DF_ANALOG.

commit 44040ea65e7980765775d76af734c2d5fb0f8822
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:47:45 2016 +0200

    yokogawa-dlm: Convert to SR_DF_ANALOG.

commit 16544b38567ce7fa309c1b7da886f3c0c85b1e29
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:47:33 2016 +0200

    uni-t-ut32x: Convert to SR_DF_ANALOG.

commit dff60e3ccc5da17a0156d3072a0558732c4be94e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:47:22 2016 +0200

    uni-t-dmm: Convert to SR_DF_ANALOG.

commit f8467403e6f8656179ecd204ca75e307e4d3dfec
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:47:11 2016 +0200

    testo: Convert to SR_DF_ANALOG.

commit c8d9a71e436c1ae3f4f2e9c2fed6c873247e2308
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:47:00 2016 +0200

    teleinfo: Convert to SR_DF_ANALOG.

commit ffa2b6f96c4160d7e38b9b7a02b352ddf2929cbb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:46:47 2016 +0200

    serial-dmm: Convert to SR_DF_ANALOG.

commit 0de290a53e6a704ba119ca704a5e0cdcdcd60c83
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:46:31 2016 +0200

    scpi-pps: Convert to SR_DF_ANALOG.

commit 94885d200d228494aafafeaa30fdce6eb42bfc8b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:46:17 2016 +0200

    maynuo-m97: Convert to SR_DF_ANALOG.

commit ddfe99d92f70a8a26cb3aa809e59c6a242897bd3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:46:06 2016 +0200

    motech-lps-30x: Convert to SR_DF_ANALOG.

commit 5ba417591c92bce8a403b4bc73bb872e925b1e4a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:45:55 2016 +0200

    lascar-el-usb: Convert to SR_DF_ANALOG.

commit 2c9111820afecf909b1a349df38c7b196c5298e7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:45:44 2016 +0200

    kecheng-kc-330b: Convert to SR_DF_ANALOG.

commit 99f8fa25194aca21ec400353902e90eb425bd620
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:45:33 2016 +0200

    hung-chang-dso-2100: Convert to SR_DF_ANALOG.

commit ae7d8a58de7da9d005ffdaa3e48124556fe26846
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:45:09 2016 +0200

    hantek-dso: Convert to SR_DF_ANALOG.

commit 6cfb9729b08a6a048011addb4eb4a2cf93524d2f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:44:06 2016 +0200

    gwinstek-gds-800: Convert to SR_DF_ANALOG.

commit f07482250055966e9c06154c2550aba6ca2bc2c1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:43:50 2016 +0200

    gmc-mh-1x-2x: Convert to SR_DF_ANALOG.

commit a6ad49b39f701a0617e6faa6a3944136e4d9feb6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:41:35 2016 +0200

    fx2lafw: Convert to SR_DF_ANALOG.

commit a8372c3ed9155ba7ccc60f483a144a1d8b864c66
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 27 22:16:15 2016 +0200

    colead-slm: Convert to SR_DF_ANALOG.

commit 4b770103e9d085ce3a070330a4e794ba6414431d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 27 22:16:03 2016 +0200

    demo: Convert to SR_DF_ANALOG.

commit 7f9932e8db3192922674e441ef2978755fd98da7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 27 17:33:46 2016 +0200

    cem-dt-885x: Convert to SR_DF_ANALOG.

commit 3f5cf2a06a35176e7f4ec59ac1288db67a7409e5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 27 17:31:14 2016 +0200

    fluke-dmm: Convert to SR_DF_ANALOG.

commit 1653c4309ab4d5756a2af7520d7d13a63f5e3619
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:30:10 2016 +0200

    brymen-dmm: Convert to SR_DF_ANALOG.

commit a46f869b649a159b98057e58592a4a57a05b343c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:26:13 2016 +0200

    brymen-bm86x: Convert to SR_DF_ANALOG.

commit 633531416b85b3e0e173c8218582993e255eba51
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:23:27 2016 +0200

    baylibre-acme: Convert to SR_DF_ANALOG.

commit 55bee166eb66ffc10409c6787a2fb6457a2fdaf8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:21:49 2016 +0200

    norma-dmm: Convert to SR_DF_ANALOG.

commit 67eb7c6bdf5253699d09eb6f34cb4cf584d05bfa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:18:44 2016 +0200

    atten-pps3xxx: Convert to SR_DF_ANALOG.

commit 0417ada03e6dc816472802c8263a1d23d872c618
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:17:15 2016 +0200

    appa-55ii: Convert to SR_DF_ANALOG.

commit 16aef676340f028a06e77f45d76511cc78a18803
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:14:53 2016 +0200

    agilent-dmm: Convert to SR_DF_ANALOG.

commit d4f59ce86d23e41da3f94e3d6cab4b4bc3239359
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:13:26 2016 +0200

    center-3xx: Convert to SR_DF_ANALOG.

commit 563ba4a5c22475357604bffd1e391a4c53c55e50
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:10:34 2016 +0200

    kern-scale: Convert to SR_DF_ANALOG.

commit 246399f7883d1f0876a9e8fa630f1802a70fdf31
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:09:14 2016 +0200

    rigol-ds: Convert to SR_DF_ANALOG.

commit 2e71534118686a5c9246b907617d6fa11e352417
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:06:54 2016 +0200

    korad-kaxxxxp: Convert to SR_DF_ANALOG.

commit 2938c9d1d3506626c83b08645b8398a4bd20ac1c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:04:53 2016 +0200

    hantek-6xxx: Convert to SR_DF_ANALOG.

commit 2463ec77fe51a7d7ec37f32ddd2f024b5f328f52
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:03:08 2016 +0200

    manson-hcs-3xxx: Convert to SR_DF_ANALOG.

commit c68ade3cc721e0d5c5f24c96a4c461c776328037
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 16:33:35 2016 +0200

    tondaj-sl-814: Convert to SR_DF_ANALOG.

commit b02bb45f4cf6378520e5a5b82ff39013cfa270b6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:33:30 2016 +0200

    dmm: Convert to SR_DF_ANALOG.

commit 7ffcf58736e510182a84eed68bc036bf00b0c85e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 28 17:48:04 2016 +0200

    lcr: Convert to SR_DF_ANALOG.

commit c6d527478a4ae04909d9377d50c40c22d5513c43
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 17:11:46 2016 +0200

    scale: Convert to SR_DF_ANALOG.

commit 0f33aaef545e7289a02dc8115b282b24bb16fc27
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 16:20:55 2016 +0200

    input/wav: Convert to SR_DF_ANALOG.

commit 716d6dfcac07d8a07ca0a0b93fdd4063df06258c
Author: Yasushi SHOJI <yashi@atmark-techno.com>
Date:   Sat Jun 4 05:39:29 2016 +0900

    zeroplus: Fix config_list() wrt drvopts/devopts.
    
    When config_list() gets NULL as sdi, it must return driver opts.
    Some drivers, including zeroplus, don't check sdi and return both
    driver opts and device opts.

commit 3ba944cf41212c81d28cad04dea43c5423860893
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jun 1 09:24:29 2016 +0200

    sw_limits: Log when the sample/time limit is reached.

commit 4b1a9d5d8641080bf10e269aa12a3fc17460365f
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat May 28 14:13:08 2016 +0200

    Remove unnecessary std_serial_dev_acquisition_stop() wrappers
    
    Now that std_serial_dev_acquisition_stop() has the same signature as
    the sr_dev_driver dev_acquisition_stop() callback it is possible to remove
    the wrapper functions and use std_serial_dev_acquisition_stop() directly
    has the callback function.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 1b38775baa3016fb4d613c971dce5a4f26cacb7b
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat May 28 13:54:08 2016 +0200

    std_serial_dev_acquisition_stop(): Remove dev_close_fn parameter
    
    All callers of std_serial_dev_acquisition_stop() currently pass the same
    callback for the dev_close_fn parameter as the dev_close callback of their
    sr_dev_driver struct. Remove the dev_close_fn parameter and invoke the
    drivers dev_close() callback directly. This simplifies the API and ensures
    consistent behaviour between different drivers.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 15f96409dc54fd2ef784c59156daedd9acfa78ed
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat May 28 13:41:03 2016 +0200

    std_serial_dev_acquisition_stop(): Remove serial parameter
    
    All callers of std_serial_dev_acquisition_stop() currently pass sdi->conn
    for the serial parameter. And the other std_serial helper functions already
    require that the conn field of the sr_driver_inst passed to the functions
    points to the sr_serial_dev_inst associated with the device.
    
    Modify std_serial_dev_acquisition_stop() to follow the same pattern and
    remove the serial parameter. This simplifies the API and ensures consistent
    behaviour between different drivers.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit bee2b0168c087676c1b365861d8c2d4714afa9b9
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 8 15:47:35 2016 +0200

    Use driver name as the log prefix in standard functions
    
    Some of the standard helper functions take a log prefix parameter that is
    used when printing messages. This log prefix is almost always identical to
    the name field in the driver's sr_dev_driver struct. The only exception are
    drivers which register multiple sr_dev_driver structs.
    
    Instead of passing the log prefix as a parameter simply use the driver's
    name. This simplifies the API, gives consistent behaviour between different
    drivers and also makes it easier to identify where the message originates
    when a driver registers sr_dev_driver structs.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 7d786a962d11c1ed7bca29da3979aaf8a52ef618
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat May 28 13:45:54 2016 +0200

    pce-322a: Pass driver dev_close callback std_serial_dev_acquisition_stop()
    
    All drivers with the exception of pce-322a pass their dev_close callback to
    std_serial_dev_acquisition_stop(). The pce-322a passes std_serial_dev_close()
    which is also called from its dev_close() callback and replicates the other
    functionality of its dev_close() callback directly in
    std_serial_dev_acquisition_stop().
    
    Refactor this to pass the dev_close callback function directly to
    std_serial_dev_acquisition_stop(). This makes sure that the driver is
    consistent with other drivers and also removes duplicated code.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 580b94e4d762d21a018b3cf535fe8764c9cb1c6f
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri May 13 13:46:44 2016 +0200

    sw_limits: Add documentation
    
    Add documentation for the software limits module.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 3c41387928e785145af0cab28014b863e0621dc8
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Wed May 4 14:19:26 2016 +0200

    gmc-mh-1x-2x: Use software limits helpers
    
    Use the new software limit helper functions rather than open-coding their
    functionality.
    
    This also fixes the issue that driver the does not reset all the limit
    statistics in acquisition_start().
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 6aacf011de1f1df3871d99a51fdf3158d736b6b2
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Wed May 4 14:19:04 2016 +0200

    fluke-dmm: Use software limits helpers
    
    Use the new software limit helper functions rather than open-coding their
    functionality.
    
    This also fixes the issue that the driver does not reset the limit
    statistics in acquisition_start(). It also makes the time limit work, which
    previously was only a stub implementation.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 014c7f93d425500702e5bdec272e60b367804097
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Wed May 4 14:27:05 2016 +0200

    arachnid-labs-re-load-pro: Use software limit helpers
    
    Use the new software limit helper functions rather than open-coding their
    functionality.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 5b6829eafeb86c0b92b0b0112982edc24422bbbe
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Wed May 4 14:18:51 2016 +0200

    agilent-dmm: Use software limits helpers
    
    Use the new software limit helper functions rather than open-coding their
    functionality.
    
    This also fixes the issue that the driver does not reset the limit
    statistics in acquisition_start(). It also makes the time limit work, which
    previously was only a stub implementation.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit d8f9609790151cd350501ccacb378b9c888e3f9d
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed May 25 22:38:41 2016 +0200

    Build: avoid $< in ruby bindings rules
    
    This fixes building with BSD make.
    This closes bug #801.

commit eabfed20f7cce56a8e92161264817d268216d1aa
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Wed May 4 11:44:04 2016 +0200

    norma-dmm: Remove unused version field from state struct
    
    The version field in the norma-dmm driver state struct is initialized, but
    never read and the same information is also already available in the
    sr_dev_inst struct version field. So remove it to simplify the code.
    
    This allows to get rid of the custom dev_close() callback and just use the
    standard std_serial_dev_close() instead.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit cd0de200b17820975637ddafba8a68902648344e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 27 15:11:28 2016 +0200

    Fix a few "variable set but not used" compiler warnings.
    
    ../src/hardware/appa-55ii/api.c: In function ‘scan’:
    ../src/hardware/appa-55ii/api.c:47:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/arachnid-labs-re-load-pro/api.c: In function ‘scan’:
    ../src/hardware/arachnid-labs-re-load-pro/api.c:62:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/atten-pps3xxx/api.c: In function ‘scan’:
    ../src/hardware/atten-pps3xxx/api.c:81:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/brymen-dmm/api.c: In function ‘scan’:
    ../src/hardware/brymen-dmm/api.c:89:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/cem-dt-885x/api.c: In function ‘scan’:
    ../src/hardware/cem-dt-885x/api.c:74:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/conrad-digi-35-cpu/api.c: In function ‘scan’:
    ../src/hardware/conrad-digi-35-cpu/api.c:45:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/demo/demo.c: In function ‘scan’:
    ../src/hardware/demo/demo.c:255:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/fluke-dmm/api.c: In function ‘fluke_scan’:
    ../src/hardware/fluke-dmm/api.c:64:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/gmc-mh-1x-2x/api.c: In function ‘scan_1x_2x_rs232’:
    ../src/hardware/gmc-mh-1x-2x/api.c:147:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/gmc-mh-1x-2x/api.c: In function ‘scan_2x_bd232’:
    ../src/hardware/gmc-mh-1x-2x/api.c:234:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/ikalogic-scanaplus/api.c: In function ‘scan’:
    ../src/hardware/ikalogic-scanaplus/api.c:69:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^
    ../src/hardware/tondaj-sl-814/api.c: In function ‘scan’:
    ../src/hardware/tondaj-sl-814/api.c:44:22: warning: variable ‘drvc’ set but not used [-Wunused-but-set-variable]
      struct drv_context *drvc;
                          ^

commit 39fcfdc9dae5311617f0e72b0a7333a199620190
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 27 14:29:52 2016 +0200

    std_scan_complete(): Catch some errors to avoid segfaults.
    
    Check some variables for NULL before dereference to avoid segfaults due
    to buggy drivers (and show error messages so these issues are noticed early).

commit 43376f3324cddd257a0260b06d9db8180c35fdf3
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Mon May 16 11:37:23 2016 +0200

    Simplify single device list handling
    
    Some driver scan() functions only ever return a single device. For those it
    is possible to slightly simplify the handling of the device list by
    creating it on demand when the function returns.
    
    Some drivers also have the following expression:
            devices = g_slist_append(devices, sdi);
            ...
            if (!devices)
                    ...
    
    This check will never evaluate to false so it is dropped as well.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 15a5bfe4815f9991a9bb532c05d6244a1818a0e4
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 15 18:33:31 2016 +0200

    Add helper function for scan completion
    
    A common task during device scan is to add the newly discovered devices to
    the instance list of the driver. Currently this is done by each driver on
    its own. This patch introduces a new helper function std_scan_complete()
    which takes care of this. The function should be called at the end of a
    driver's scan() callback before returning the device list.
    
    Doing this with a helper function provides guaranteed consistent behaviour
    among drivers and hopefully paves the way to moving more standard
    functionality directly into the sigrok core.
    
    Another common task that every driver has to do for each device instance is
    to initialize the device's driver field. So this is done in the new helper
    function as well.
    
    All drivers that can make use of the new helper are updated.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 566007e15e8ec0a23b064ba8ea44baae305508b5
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 15 17:20:51 2016 +0200

    Don't reset instance list in scan() callback
    
    Some drivers set the device instance list to NULL in their scan() callback.
    This means the driver loses all references to any devices contained in that
    list and their resources will be leaked. Drivers can't free the devices at
    this point either since an application might still use a device on the
    list. So the existing devices on the instance list need to remain
    unmodified during the scan() callback, even if that means that there will
    be duplicates on the instance list. Only an explicit invocation of
    sr_dev_clear() by the application is allowed to free the devices on the
    instance list and reset the list.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit d268866d294f8ab94e14881caf5d0126e5b77a91
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat May 21 19:46:14 2016 +0200

    detect the appropriate link flag for retaining all objects of static lib
    
    This closes bug #802.

commit 176d18cab10f930c021e605cb3fc33754f8bddce
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 26 17:47:28 2016 +0200

    testo: Minor indentation fixes.

commit f53ff6436923b99260a6cbac241fa054ec78d503
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Mon May 23 18:21:40 2016 +0200

    link-mso19: mso_receive_data: Simplify device instance lookup
    
    The link-mso19 driver currently iterates the device instance list of the
    driver to get the device instance for which the callback is called.
    
    But the device instance is actually passed to the callback as the cb_data
    parameter, so just use that instead and remove the lookup loop.
    
    Besides that the current lookup loop does not even compile either.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit e5ff8e9e0a12d54963814debeab50cd88ecca632
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Tue May 10 14:05:41 2016 +0200

    link-mso19: Use default dev_clear() handler
    
    The link-mso19 open-codes the std_dev_clear() function and uses it as its
    custom dev_clear() callback. The std_dev_clear() function is automatically
    called if no custom dev_clear() callback is specified, so just drop custom
    implementation and use the default.
    
    This also fixes a memory leak where the link-mso19 driver did not properly
    free its driver state struct in the dev_clear() callback.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit f1e93a951ec455ec5576ef17c0853b38be242b0b
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Tue May 10 14:03:02 2016 +0200

    link-mso19: Drop unnecessary NULL check
    
    sdi is allocated using g_malloc0() which can never fail, in addition to
    that sdi is already dereferenced before the check, which makes the check
    useless. So remove it.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 27272a704d4017ff4abc1c840a221a3f62d1f346
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 19 22:46:24 2016 +0200

    Fix Ruby bindings build on Mac OS X and FreeBSD.
    
    Using "\s*" on BSD sed doesn't work the same way as on GNU sed, thus
    yielding e.g. " 3.0.8" instead of "3.0.8" in a ./configure check, which
    later prevents the Ruby bindings from being built.
    
    Fix this by simply using exactly one space in the sed invocation, since
    swig seems to always use just one space there anyway.
    
    Tested on Mac OS X, FreeBSD, and Linux.
    
    This closes bug #800.

commit d12123100a0c0e6bf00c770f0aec20e5b30ed6e7
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu May 19 16:25:14 2016 +0200

    prevent the sr_driver_list section to be dropped with static linking

commit e76a3575369e3864c122d68870ff2b52a317f1e7
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun May 8 12:57:06 2016 -0700

    scpi-pps: Add profile for HP 6633A supply
    
    Oldie but goodie. Some of the HP 6632B options are renamed for
    clarity, as they are common among the A and B variants.

commit c2af709b01eed17dd4f50450ec52519f2821a792
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun May 8 12:30:51 2016 -0700

    scpi-pps: Add shadow driver for HPIB supplies (ID? instead of *IDN?)
    
    HP instruments predating the 488.2 and SCPI standards do not
    necessarily have a SCPI-compliant command set. The HP6630A series of
    supplies is one such example.
    
    While scpi-pps is flexible enough to accomodate almost any command
    syntax given the right profile, it still assumes that "*IDN?" is the
    correct question to ask the instrument. Since older HP gear instead
    responds to "ID?", this assumption is no longer true.
    
    Thus sr_scpi_get_hw_id() is not appropriate for these instruments, and
    the shadow driver added here only replaces that function call, while
    reusing the rest of the existing logic. The extra noise is necessary
    in order to propagate this through the .scan member of the driver.

commit cb193a209388c138922cc71e8e285ed300fe76f5
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Wed May 18 23:10:46 2016 +0200

    saleae-logic16: Consolidate the samplerate limits into a single bitrate cap

commit 41dab43ef9583ff0e4df9366215000ae6073c24b
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Wed May 18 23:08:42 2016 +0200

    saleae-logic16: Add 20MHz and 50MHz to samplerate preset list (bug #799)

commit 5a2c71ccd7c46b18583dd068a8508e9d93ed9190
Author: George Hopkins <george-hopkins@null.net>
Date:   Sat Apr 30 22:34:15 2016 +0200

    pce-322a: Initial driver implementation.

commit 634d72997a43f8a69d3ab1d06a341d9faeec7724
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat May 14 17:24:27 2016 +0200

    ftdi-la: Use the standard connection_id field for the device address
    
    Use the standard connection_id field from the struct sr_dev_inst for
    storing the device address rather than using the custom address field in
    the driver state struct. This makes things more consistent with the
    framework.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 07a917521ae98260d5c913a300f34c659cc91994
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat May 14 17:24:27 2016 +0200

    ftdi-la: Cleanup ftdi_context handling
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 0350e2e0303fdc1d12dbb7bff6748e30dd0cc165
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 13:35:28 2016 +0200

    lascar-el-usb: Add a missing SR_PRIV.

commit dd5c48a6d567a3cac62c4b0058588273bbeea171
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu May 12 15:13:47 2016 +0200

    Put driver pointers into special section
    
    The sigrok core needs a list of all available drivers. Currently this list
    is manually maintained by updating a global list whenever a driver is added
    or removed.
    
    Introduce a new special section that contains the list of all drivers. The
    SR_REGISTER_DEV_DRIVER() and SR_REGISTER_DEV_DRIVER_LIST() macro is used to
    add drivers to this new list. This is done by placing the pointers to the
    driver into a special section. Since nothing else is in this section it is
    known that it is simply a list of driver pointers and the core can iterate
    over it as if it was an array.
    
    The advantage of this approach is that the code necessary to add a driver
    to the list is completely contained to the driver source and it is no
    longer necessary to maintain a global list. If a driver is built it will
    automatically appear in the list, if it is not built in won't. This means
    that the list is always correct, whereas the previous approach used ifdefs
    in the global driver list file which could get out-of-sync with the actual
    condition when the driver was built.
    
    Any sr_dev_driver structs that are no longer used outside the driver module
    are marked as static.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit e32862ebccac5ae063abc68d9ce13a66ad46bb97
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 8 14:26:56 2016 +0200

    Drop unnecessary struct sr_dev_driver forward declarations
    
    Most drivers have a forward declaration to their sr_dev_driver struct at
    the beginning of the driver file. This is due to historic reasons and often
    no longer required. So remove all the unnecessary forward declarations.
    
    Some drivers still require the forward declaration, but only reference the
    driver struct from within the driver scan() callback. Since the driver
    struct is passed to the scan callback replace the references to the global
    variable with the local parameter. In some cases this requires adding the
    parameter to some of the helper functions that are called from the scan()
    callback.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 4d399734b4ec7affb58c5881ea1b8d88eaa57d53
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 16:11:53 2016 +0200

    config_list: Don't check for sdi->priv != NULL.
    
    If sdi is != NULL, the backend ensures that sdi->priv is also != NULL.
    Almost all drivers were relying on this already.

commit 709468baf7626b162b5559c101516289d9bbb258
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 15:41:45 2016 +0200

    config_get(): Don't check for sdi->priv != NULL.
    
    If sdi is != NULL, the backend ensures that sdi->priv is also != NULL.
    Almost all drivers were relying on this already.

commit b0baddef5620c5783080d0e8811e668fbc2b38f5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 14 15:25:19 2016 +0200

    config_set(): Don't check for sdi->priv != NULL.
    
    Instead, have the backend check that sdi->priv is not NULL (which
    many drivers have been assuming already anyway).

commit e5b7eef797ba16ca901fc0a91053329937bd5b26
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Tue May 3 00:22:12 2016 +0200

    hameg-hmo: add one missing g_free

commit b05ab7d272914436d97d91f179632c564ac3d86e
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Tue May 3 00:14:37 2016 +0200

    hameg-hmo: Add comment clarifying coupling options
    
    50 Ohm termination is only available on the higher end scopes.

commit 401b83a154afafad09a66e5a4eedf106e8a3dd1f
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Tue May 3 00:38:16 2016 +0200

    hameg-hmo: use SR_DF_ANALOG, use definite length blocks for retrieval
    
    Using binary formats is about 3 times faster than ASCii format. This
    addresses bug #791.

commit 448e81b1e565525c9e8881f17f36dbca93832346
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Tue May 3 00:08:58 2016 +0200

    hameg-hmo: Query probe unit (Volt, Ampere) from scope

commit 2d7da5df824949f16ef12a5c7ec85ff1106cb028
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Mon Apr 18 20:30:39 2016 +0200

    scpi: introduce some more requests

commit ff01b0ea2f782c8286dbad32cf187c2ac6ee1807
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun May 1 05:20:39 2016 +0200

    scpi: Add support for arbitray/definite length block data retrieval
    
    Binary block data is specified in IEEE 488.2. First character is '#',
    followed by a single ascii digit denoting the the number of digits needed
    for the length specification. Length is given in bytes.
    
    This allows drivers to replace retrieval of comma separated ASCII values
    with binary formats. See bug #791.

commit b951fae32c71426a6066c121c409a5936f30de62
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Mon May 2 02:51:19 2016 +0200

    scpi_vxi: Fix incomplete reads (bug #790)

commit a53acd7d46e4d5ea5bf760e9e5c64ff0c3cee878
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Apr 23 00:27:35 2016 +0200

    hameg-hmo: simplify code by using new sr_rational_parse/_eq API functions

commit 17d5a11c69ebd7dd0a62a6e2466d3d8ce05b9d03
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun May 1 01:36:23 2016 +0200

    analog: Implement division for sr_rational

commit ee1b6054d6d6a00698ddae421eae63019c452b6d
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun Apr 24 02:48:26 2016 +0200

    analog: Implement multiplication for sr_rational

commit bdba362695bd5ee97fca685839a9e90e1e788ecb
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Fri Apr 22 23:15:54 2016 +0200

    analog: Add equality check for sr_rational

commit e9869966be62c1d129503aaa0c8770e94f038f8b
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Apr 30 00:28:09 2016 +0200

    configure: Add check for __int128_t and __uint128_t types

commit 5ec172d7e9ed55537b6a152a6b8e98712a2f595e
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Apr 23 00:33:45 2016 +0200

    strutil: add method to get an sr_rational from a string
    
    The method accepts strings with numbers in scientific or normal notation,
    e.g. -1.25 or 3.37e-6. The numeric range is limited by the sr_rational
    range, i.e +-9.2e18, resolution is ~19 digits.

commit 510aa8281f19b6312163ff2f09d6515661889378
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun Apr 24 02:57:17 2016 +0200

    hameg-hmo: Add PATTern and BUS1/BUS2 trigger sources

commit 9803346fe2eff369bea6b2373c1c0d37f793eecf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon May 16 15:34:21 2016 +0200

    fx2lafw/dslogic: Various cosmetics and whitespace fixes.

commit a04b28ce2c2e504e38b23fcfff236bdb527a5097
Author: Diego Asanza <f.asanza@gmail.com>
Date:   Sun May 8 19:13:12 2016 +0200

    dslogic: Fix sampling for high samplerates.
    
    This patch fixes sampling at 100MHz, 200MHz and 400MHz.
    
    Signed-off-by: Diego Asanza <f.asanza@gmail.com>

commit a9a9bfaa6a388b288127b90d15bb9e82bbb35c2d
Author: Diego Asanza <f.asanza@gmail.com>
Date:   Sun May 8 10:59:54 2016 +0200

    dslogic: Add support for long captures at high samplerates.
    
    To capture more than 16MSamples the hardware run length encoding option
    must be enabled, or captured data present errors.
    
    RLE encoding/decoding is done in hardware. Data streamed to the USB interface
    is not encoded.
    
    This commit enables RLE encoding for captures longer than 16MSamples.
    
    Signed-off-by: Diego Asanza <f.asanza@gmail.com>

commit d9a58763d66b761900fdc930d9cd580137ea3a5c
Author: Diego Asanza <f.asanza@gmail.com>
Date:   Sun May 8 10:07:05 2016 +0200

    dslogic: Add support for external clock edge selection.
    
    This commit expands support for acquisition using an external clock,
    now allowing the user to select the clock edge.
    
    Signed-off-by: Diego Asanza <f.asanza@gmail.com>

commit 41dc2547787ea571e1f0fb271eff964767c49203
Author: Diego Asanza <f.asanza@gmail.com>
Date:   Sat May 7 00:12:09 2016 +0200

    dslogic: Implement continuous mode
    
    For low sampling speeds (up to 25MHz) DSLogic offers a streaming mode where
    samples are sent directly to the USB interface, like a fx2lafw device.
    
    For high sampling speeds (up to 400MHz) only buffer mode is supported.
    
    This commit allows the user to set which mode should be used. The configuration
    is done by using SR_CONF_CONTINUOUS.
    
    Signed-off-by: Diego Asanza <f.asanza@gmail.com>

commit 20d8ae41f49777f5a2bdf63f061b7f120fbcd8df
Author: Diego Asanza <f.asanza@gmail.com>
Date:   Sat May 7 00:07:00 2016 +0200

    Change type of SR_CONF_CONTINUOUS from SR_T_UINT64 to SR_T_BOOL
    
    SR_CONF_CONTINUOUS is used to check if a device supports continuous sampling
    or not. As such, the type boolean is better suited.
    
    Signed-off-by: Diego Asanza <f.asanza@gmail.com>

commit ea3a77c756079c59db57b036b76a31460111206e
Author: Diego Asanza <f.asanza@gmail.com>
Date:   Wed May 4 19:50:42 2016 +0200

    dslogic: Implement acquisition with external clock.
    
    DSLogic hardware provides an external clock input.
    This commit adds support for this capability.
    
    Signed-off-by: Diego Asanza <f.asanza@gmail.com>

commit 3fc3fbe46e472a1466085bb2498d8d9b469d63f8
Author: Diego Asanza <f.asanza@gmail.com>
Date:   Wed May 4 19:28:37 2016 +0200

    dslogic: Add support for voltage threshold
    
    The DSLogic provides two FPGA images: one for 3.3V and the other for 5V logic.
    The DSLogic Pro allows to set an arbitrary voltage threshold via USB command.
    
    This commit adds support for the DSLogic to load the FPGA image according to
    an user-selectable voltage threshold.
    
    For the DSLogic Pro, one of two fixed voltage thresholds are set, depending on
    the user-selected value.
    
    Tested with DSLogic and DSLogic Pro.
    
    Signed-off-by: Diego Asanza <f.asanza@gmail.com>
    Tested-by: Andrew Bradford <andrew@bradfordembedded.com>

commit 4237fbcaac84160a04333244ba0a309b952d3a8f
Author: Diego Asanza <f.asanza@gmail.com>
Date:   Sat Apr 16 12:45:27 2016 +0200

    dslogic: Implement trigger functionality
    
    This commit implements DSLogic trigger functionality.
    
    The following triggers are working:
    
     - trigger on rising edge
     - trigger on falling edge
     - trigger on any edge
     - trigger on logic one
     - trigger on logic zero
    
    Pre-trigger capture ratio is also working.
    
    Signed-off-by: Diego Asanza <f.asanza@gmail.com>
    Tested-by: Andrew Bradford <andrew@bradfordembedded.com>

commit f18e0db3b8e8c24703e74fe36f9353381221b3c7
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri May 13 17:36:06 2016 +0200

    demo: Handle the case when zero analog or logic channels were requested
    
    The demo device has support for specifying the number of analog and logic
    channels it should have. Currently this does not work correctly if one of
    them is set to zero. Being able to set the number of channels to zero for
    one of the channel types is quite useful for corner case testing though.
    
    Make the following modifications to handle it correctly:
    
    1) If the channel count is zero no channel group for that channel type
    should be created since a channel group needs at least one channel.
    
    2) Drop the check if logic_unitsize is less or equal to zero in
    prepare_data() since this condition will always be true if the number of
    logic channels is zero and it is not possible to create a demo device with
    only analog channels.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 7e2f42214a72bb3ad2b4ce1767ff8945fa83fe97
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu Apr 28 17:44:29 2016 +0200

    srzip: zip_append_analog(): Fix memory leaks
    
    zip_append_analog() does not free most of the memory it allocates. Address
    this by moving all sanity checks that do not rely on anything else at the
    beginning of the function before any allocations are done. And then make
    sure to properly free all allocated memory on all paths leaving the
    function.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 9906dbf5a4f26e630b76e8f56e80d6b085b90446
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu Apr 28 17:43:15 2016 +0200

    srzip: Fix handling of analog channels with index 0
    
    0 is a valid index for a channel. Using it as the value for the terminating
    entry of analog_index_map causes zip_append_analog() to falsely assume that
    no channel was found when a packet for a channel with index 0 was received.
    This prevents the data for the channel to be added to the sigrok session
    file.
    
    Instead use -1, which is not a valid channel index, as
    the terminating entry value.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 4def782b6e545a91fc7e0cf9f4468e8f56c0d3a6
Author: Marvin Schmidt <marv@exherbo.org>
Date:   Fri May 13 12:35:03 2016 +0200

    gitignore: Add files generated when building Ruby bindings

commit b571f84c84a9eea04f948429200ffb9fcd8ecb0f
Author: Marvin Schmidt <marv@exherbo.org>
Date:   Fri May 13 12:27:14 2016 +0200

    build: Replace AX_CXX_COMPILE_STDCXX_11 with latest AX_CXX_COMPILE_STDCXX
    
    The former appended the necessary switch to enable C++11 to the CXXFLAGS
    whereas AX_CXX_COMPILE_STDCXX appends it to CXX which has the benefit
    that all C++ sources are compiled using the same C++ standard. Therefore
    it is no longer necessary to manually hardcode '-std=c++11' anywhere
    like we did in the Ruby bindings linker command and assures that the
    compilation of them is done with C++11 support as well.
    
    This fixes bug #795

commit c4a1015a2951b85098e50915c953593025df5726
Author: Marvin Schmidt <marv@exherbo.org>
Date:   Fri May 13 17:44:12 2016 +0200

    build: Fix distribution of Ruby bindings
    
    The bindings file was not listed in EXTRA_DIST and therefore not
    distributed. We also need to provide an target to uninstall the Ruby
    bindings and add it to UNINSTALL_EXTRA in order to make `make distcheck`
    happy.
    
    This fixes bug #741

commit 17165513f3d18cc56d1918126818fb30596898bd
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu May 12 23:08:21 2016 +0200

    ruby: Fix out-of-tree build of the bindings.
    
    This closes bug #797.

commit 45884333ff8641c86d9808b46dde9f571083c10d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 23 21:27:59 2016 +0200

    scan(): Consistently start out with SR_ST_INACTIVE.
    
    A later call to open() will set the status to SR_ST_ACTIVE.
    
    Only in the case of firmware/bitstream upload start with
    SR_ST_INITIALIZING first.

commit e91d4ce2b2a2b34fe4cabb3082a2c325941de1f9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 11 22:24:59 2016 +0200

    fx2lafw: Fix a -Wself-assign compiler warning.
    
    This closes bug #793.

commit c2fdcc25a47c4c8f25e3ea96ea36a674a151e839
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 8 15:23:13 2016 +0200

    Remove unnecessary std_init() wrapper functions
    
    Now that the signature of std_init() matches that of the driver init()
    callback we can remove all wrapper functions around std_init() and use it
    directly as the init() callback.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit c45c32ce47f429099cb0f1cabc1b45b9bcf44855
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 8 15:47:31 2016 +0200

    std_init(): Drop check if pass in driver is non-NULL
    
    std_init() checks if the pass in struct sr_dev_driver is non-NULL and
    prints a error message and returns an error if it is NULL.
    
    std_init() is exclusively called from driver init() callbacks for which the
    core already checks if the struct sr_dev_driver is non-NULL before invoking
    the callback. This means the check in std_init() will always evaluate to
    false. So drop this check.
    
    This also means that the prefix parameter that was used in the error
    message is no longer needed and can be removed from the function signature.
    Doing so will make the std_init() function signature identical to the
    init() callback signature which will allow to directly use it as such.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 1f8f5bc08e0f684156baac513431b40d79ab4ea1
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 8 14:55:15 2016 +0200

    Match std_init() parameter order to the driver init() callback
    
    The std_init() callback has the order of the first two paramters opposite
    to the init() callback. This is primarily due to historical development.
    
    Since the std_init() function is usually called from a driver's init()
    callback aligning the order will allow direct register pass through rather
    than having to swap them around. It also allow to eventually use the
    std_init() function directly as the init() callback.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 87629577fe803769bc8b4e7a2bc122785cf90c81
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri May 6 13:27:09 2016 +0200

    zeroplus-logic-cube: Fix USB device list
    
    The zeroplus-logic-cube driver uses libusb_get_device_list() but neglects
    to call the matching libusb_device_list_free() on the error path. This will
    leak the memory allocated for the list as well as all the devices.
    
    To address the issue use sr_usb_open() instead of open-coding its
    functionality. sr_usb_open() correctly handles freeing the device list.
    
    The issue was discovered using the following coccinelle semantic patch:
    // <smpl>
    @@
    identifier devlist;
    expression ctx, ret;
    statement S;
    @@
    (
     libusb_get_device_list(ctx, &devlist);
    |
     ret = libusb_get_device_list(ctx, &devlist);
     if (ret < 0) S
    )
    ... when != libusb_free_device_list(devlist, ...)
    *return ...;
    // </smpl>
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 4af1f68f9a69daa22064c4b99831f6dee5c5fbb2
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri May 6 13:26:02 2016 +0200

    victor-dmm: Fix USB device list leak
    
    The victor-dmm driver uses libusb_get_device_list() but neglects to call
    the matching libusb_device_list_free() on the error path of libusb_open().
    This will leak the memory allocated for the list as well as all the
    devices.
    
    To address the issue use sr_usb_open() instead of open-coding its
    functionality. sr_usb_open() correctly handles freeing the device list.
    
    The issue was discovered using the following coccinelle semantic patch:
    // <smpl>
    @@
    identifier devlist;
    expression ctx, ret;
    statement S;
    @@
    (
     libusb_get_device_list(ctx, &devlist);
    |
     ret = libusb_get_device_list(ctx, &devlist);
     if (ret < 0) S
    )
    ... when != libusb_free_device_list(devlist, ...)
    *return ...;
    // </smpl>
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit b75dc14a9410f57b3f7853854da013af86fb87c2
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri May 6 13:25:14 2016 +0200

    testo: Fix USB device list leak
    
    The testo driver uses libusb_get_device_list() but neglects to call the
    matching libusb_device_list_free() on the error path. This will leak the
    memory allocated for the list as well as all the devices.
    
    To address the issue use sr_usb_open() instead of open-coding its
    functionality. sr_usb_open() correctly handles freeing the device list.
    
    The issue was discovered using the following coccinelle semantic patch:
    // <smpl>
    @@
    identifier devlist;
    expression ctx, ret;
    statement S;
    @@
    (
     libusb_get_device_list(ctx, &devlist);
    |
     ret = libusb_get_device_list(ctx, &devlist);
     if (ret < 0) S
    )
    ... when != libusb_free_device_list(devlist, ...)
    *return ...;
    // </smpl>
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit ceb2da179f9446b0e61bde7cf7be9133b25683cc
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri May 6 13:22:19 2016 +0200

    lascar-el-usb: lascar_scan(): Fix USB device list leak
    
    lascar_scan() calls libusb_get_device_list() but never the matching
    libusb_free_device_list(). This will leak the memory allocated for the
    device list as well as all the devices. To fix this add the missing
    libusb_free_device_list().
    
    While we are at it also make sure to handle errors returned by
    libusb_get_device_list().
    
    The issue was discovered using the following coccinelle semantic patch:
    // <smpl>
    @@
    identifier devlist;
    expression ctx, ret;
    statement S;
    @@
    (
     libusb_get_device_list(ctx, &devlist);
    |
     ret = libusb_get_device_list(ctx, &devlist);
     if (ret < 0) S
    )
    ... when != libusb_free_device_list(devlist, ...)
    *return ...;
    // </smpl>
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 6266deb84d6b5d8ca61b685edae339c24184f157
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon May 2 21:49:00 2016 +0200

    Input/trace32_ad: Make the sample rate an option

commit ab4c27cfa66f34e0b6cdecb48766904281c2df04
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon May 2 18:17:34 2016 +0200

    Input/wav: Add reset() function

commit f4b4725bce213c58dd370a6c84ba4b327a89f7a4
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon May 2 18:16:38 2016 +0200

    Input/vcd: Add reset() function

commit 87616181f9e9854a80e26f207bffdb9032178af9
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon May 2 18:16:21 2016 +0200

    Input/trace32_ad: Add reset() function

commit 4c55ea47a7047fe25717aa8b19f64ed8b33ddb8c
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon May 2 18:16:09 2016 +0200

    Input/raw_analog: Add reset() function

commit ad93bfb0b96d6b58379ff73275701e72e08c63a4
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon May 2 18:10:55 2016 +0200

    Input/csv: Add reset() function

commit ef9d3fefbcce893a19ae1d497f586ac794e94ca2
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon May 2 18:02:31 2016 +0200

    Input/chronovu_la8: Add reset() function

commit 3781b65d19747526b52df97510866683f36dd67a
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon May 2 18:01:10 2016 +0200

    Input/binary: Add reset() function

commit b6b4f03e404e06430eca810ad2bf7ccc84262b6e
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Apr 28 08:13:17 2016 +0200

    Input: Add reset() function

commit 0221cbdde3db6f41fdfd9a483e721a6514ef7f8b
Author: Soeren Apel <soeren@apelpie.net>
Date:   Tue Apr 26 18:07:03 2016 +0200

    Bindings: Check for empty opts also in Configurable::config_keys()

commit c8f29d772bacbec2420756cf494d61107019f760
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon May 9 12:41:50 2016 +0200

    baylibre-acme: Drop unused last_sample_fin variable.

commit cf9e86bc74ae5bd916b8d1abf27205c36585119f
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:55:51 2016 +0200

    victor-dmm: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 8a63a4064eb5a759dd438e5d1fe9e9d21d7a3e69
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:55:39 2016 +0200

    uni-t-dmm: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 2630f97ebb6c6538f03c7207721e8bd82322aa40
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:55:28 2016 +0200

    tondaj-sl-814: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 91b77e6b1d126b6406978386ec325f1c6d5bffd8
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:55:12 2016 +0200

    testo: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit ffa5f177f15dd8c75612d65b20459e7cdccc68b9
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:54:26 2016 +0200

    teleinfo: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 9f51c463d1bfd182ddf8ae1c5bc83377ef93d2bc
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:54:14 2016 +0200

    serial-dmm: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 37dbffd15d37ee101d93fcfcf31cdefa1cacb8d6
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:54:02 2016 +0200

    norma-dmm: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 8aafc5e64d60ef5e91992707a8f4dbce03e901a0
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:53:51 2016 +0200

    motech-lps-30x: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 301090aa58844e78e7c4d45275a4b6c29b31c72a
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:53:39 2016 +0200

    mic-985xx: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 45b75c368fece1faa39c96d662de8fc7075db25f
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:57:30 2016 +0200

    maynuo-m97: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit a655b3fd08915859dbcdad192c35a34b1b2bbb4d
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:53:23 2016 +0200

    manson-hcs-3xxx: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 597deef91ee5cd4aea17c5beb629526eef176864
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:53:08 2016 +0200

    korad-kaxxxxp: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 7fc9dc31ac95de566e0d88daec7d839193fc3fbe
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:52:50 2016 +0200

    kern-scale: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 9edb98982a501a094b2ba502cd754982920f17d9
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:52:35 2016 +0200

    colead-slm: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 838f6906a40fa7cf82d3113e7771c609bb6cc7b9
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:52:22 2016 +0200

    center-3xx: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit dcba0c41f5345a4c5316128aac44732625faff6e
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:52:09 2016 +0200

    brymen-dmm: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit ab939ebba60a18786b91509298bd82f28c4b8fb3
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:51:52 2016 +0200

    brymen-bm86x: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit d54a7c42ac6540d90e99e5138c945d789e3dac6f
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:56:57 2016 +0200

    baylibre-acme: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit e2492a33749ae03e7a1bf73c6b029c0c0054080b
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:51:08 2016 +0200

    appa-55ii: Use software limit helpers
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit aea4e458485559ffb7999ecbda0ed349c7d8edb7
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun May 1 13:50:08 2016 +0200

    Add helper functions for software limits
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit afb001a359f8d2943adb81127ce185acc000f4f0
Author: Benjamin Larsson <benjamin@southpole.se>
Date:   Sun Apr 24 17:55:39 2016 +0200

    udev rules file: Add entry for Sainsmart DDS120.

commit ec1a1a8c462dbaabea1a4fb9041c155a78d2386b
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue May 3 22:09:39 2016 +0200

    testo: Minor code cleanup.

commit efa9840222f2925c187715377e3646679fd8496c
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Mon May 2 13:24:04 2016 +0200

    Remove unnecessary driver context checks
    
    Some drivers check in some of their driver callbacks if the driver has been
    initialized and return an error if it has not.
    
    For the scan() callback the sigrok core checks if the driver has been
    initialized and if not returns an error. So it is not possible that the
    scan() callback gets called if the driver is not initialized. Without the
    scan() callback succeeding it is not possible to get a reference to a
    device which is associated with the driver, so it is not possible that any
    of the device specific callbacks is called without the driver first being
    initialized either.
    
    In conclusion these checks are not necessary since they never evaluate to
    true and can be dropped. If they should ever become necessary they should
    be done in the sigrok core so all drivers and all callbacks are equally
    handled.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit e91bb0a6c4a94957e4e998ca134dc806bec49a7f
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Mon May 2 13:22:46 2016 +0200

    Drop SR_CONF_SET flag from SR_CONF_CONTINUOUS options
    
    SR_CONF_CONTINUOUS is a capability option indicating whether a device
    supports continuous capture or not. If the option exists the device
    supports continuous capture and otherwise it doesn't. There is no value
    associated with it and hence setting the SR_CONF_SET flag is nonsensical.
    
    None of the drivers which set SR_CONF_SET for SR_CONF_CONTINUOUS handle it
    in their config_set() callback and return an error if an application tried
    to perform a config_set() operation for SR_CONF_CONTINUOUS.
    
    Simply remove the SR_CONF_SET flag from all SR_CONF_CONTINUOUS options.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit c01bf34ca264b268fee2e71ab918c71d28dc3018
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Apr 29 15:47:04 2016 +0200

    Introduce standard implementation of the dev_list() callback
    
    Every single hardware driver has the very same implementation of the
    dev_list() callback. Put this into a helper function in the standard helper
    library and use it throughout the drivers. This reduces boiler-plate code
    by quite a bit.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 88a0265ebcb265ba839c02cc5bcd39e359c9f60f
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Apr 29 14:26:00 2016 +0200

    Remove unnecessary dev_clear() callbacks
    
    If a driver does not implement a dev_clear() callback the core will
    automatically call std_dev_clear(di, NULL). Remove all driver dev_clear()
    implementations that are identical to default. This reduces the amount of
    boiler-plate code.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 700d6b64d578ce10e57f6a2289e37a5564eccf1c
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Apr 29 13:36:05 2016 +0200

    Introduce standard cleanup helper
    
    std_init() allocates a drv_context struct which needs to be freed by the
    driver in its cleanup struct. But the vast majority of drivers does never
    does this causing memory leaks.
    
    Instead of addressing the issue by manually adding code to free the struct
    to each driver introduce a new helper function std_cleanup() that takes
    care of this. In addition to freeing the drv_context struct std_cleanup()
    also invokes sr_dev_clear() which takes care of freeing all devices
    attached to the driver.
    
    Combining both operations in the same helper function allows to use
    std_cleanup() as the cleanup callback for all existing drivers, which
    reduces the amount of boiler-plate code quite a bit.
    
    All drivers are updated to use the new helper function.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 1e726f568d6d72a8c6afdcd8fa98b98e910ad523
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Apr 29 16:37:36 2016 +0200

    scpi-pps: Fix dev_clear() implementation
    
    Devices for the scpi-pps driver do have additional data attached to it that
    needs to be freed when the device is freed. While the driver gets it right
    for the cleanup() callback it does not for the dev_clear() callback. This
    will cause memory leaks when sr_dev_clear() is called for this driver.
    
    To fix this let the dev_clear() free the additional data.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 696b79d2aad00c359cb279cddcfab15c0f8ec08f
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Apr 29 16:23:17 2016 +0200

    deree-de5000: Provide dev_clear()
    
    Devices for the deree-de5000 driver do have additional data attached to it
    that needs to be freed when the device is freed. While the driver gets it
    right for the cleanup() callback it does not implement a dev_clear()
    callback, so the default dev_clear() implementation is used which will not
    free the additional data. This will cause memory leaks when sr_dev_clear()
    is called for this driver.
    
    To fix this provide a dev_clear() implementation that frees the additional
    data.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 6ab687315bccddfe3d196040ccab4cff909bb086
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Apr 29 16:28:59 2016 +0200

    demo: Provide dev_clear()
    
    Devices for the demo driver do have additional data attached to it that
    needs to be freed when the device is freed. While the driver gets it right
    for the cleanup() callback it does not implement a dev_clear() callback, so
    the default dev_clear() implementation is used which will not free the
    additional data. This will cause memory leaks when sr_dev_clear() is called
    for this driver.
    
    To fix this provide a dev_clear() implementation that frees the additional
    data.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 74c6d807efbd4949b3083a362816ee8cc69645fa
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Apr 29 14:08:42 2016 +0200

    beaglelogic: Use std_dev_clear() instead of open-coding it
    
    The beaglelogic has an open-coded version of std_dev_clear(), replace it
    with std_dev_clear().
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit a64fec2b8ed14d6b14daca9a3552d4c5d89a9baa
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Apr 29 10:25:18 2016 +0200

    baylibre-acme: Properly free GErrors returned by g_file_get_contents()
    
    When g_file_get_contents() encounters an error a new GError will be
    allocated and passed back to the application. The application is
    responsible for freeing this GError.
    
    The baylibre-acme driver currently does not do this and as a result leaks
    memory during the scan process when no device is found.
    
    Add the missing g_error_free() invocations to fix the issue.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 7b6072d3546ebec08f4bc7861d985c667c55e02f
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Apr 29 18:07:54 2016 +0200

    ftdi-la: Properly cleanup in scan_all()
    
    Make sure to free the FTDI device list and the FTDI context in scan_all()
    otherwise memory leaks can be observed. Also make sure to free the FTDI
    context in scan_device() on the error path.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 61c908589828b11352b5d792c4278964e1220a59
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 23 20:58:46 2016 +0200

    dev_open(): Don't check for sdi != NULL.
    
    The wrapper guarantees that sdi is not NULL.

commit c50805d59ce85e00ef263c0a1edad2487bb8a9fe
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 23 20:59:38 2016 +0200

    Drop some unused or duplicated code.

commit 8f878dc6aa09324ebee416bd1a0c7b0ed356905b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 24 20:17:49 2016 +0200

    cem-dt-885x/colead-slm: Use std_serial_dev_open().

commit a52e2a0b37a7615b289b813c19329193345b766a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 22 17:55:44 2016 +0200

    Random cosmetics and whitespace fixes.

commit 67ea60e03db3a4e0fe83f841e81e7e061e9761a6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 20 22:12:52 2016 +0200

    uni-t-ut32x: Fix copy-paste error.

commit df3ea149cc65ae52f19fa4b50c4af7a217a590fa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 15 16:26:43 2016 +0200

    dev_acquisition_start(): Ensure that sdi is always != NULL.

commit 8cb222e1438c984184d9546fc374678aa9341bbb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 13 22:28:44 2016 +0200

    Drop some obsolete and unneeded comments.

commit 6525d819eef098a43b1f438ae4af50e67c9c4335
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 13 22:11:22 2016 +0200

    std_serial_dev_acquisition_stop(): Drop unneeded parameter.

commit 695dc859c15ba4190f5c1aa2e1a6e2dc6a6e5845
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 28 00:40:16 2016 +0200

    dev_acquisition_{start,stop}(): Drop duplicate 'cb_data' parameter.
    
    These are always 'sdi', which is passed in already.

commit 208c1d35435626a11afa1ab301b2071b2a4e187b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 27 23:16:59 2016 +0200

    Consistently don't check sdi->priv in dev_acquisition_start().
    
    Most drivers already assume this to be != NULL anyway, and the check
    should probably be in the API wrappers anyway.

commit 1c47e0da8f2571bc34dbdc368c3c1f55318c3aa0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 27 22:53:02 2016 +0200

    Drop unneeded std_session_send_df_header() comments.

commit 3be42bc22f8b36599a448273c12a76d3e0f7a940
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 26 19:45:04 2016 +0100

    Factor out std_session_send_df_end() helper.
    
    This makes the code shorter, simpler and more consistent, and also
    ensures that the (same) debug messages are always emitted and the
    packet.payload field is consistently set to NULL always, etc.

commit 7fb90f94d62597224509472906fd8a33c3f3a1d2
Author: Benjamin Larsson <benjamin@southpole.se>
Date:   Mon Apr 25 23:46:19 2016 +0200

    fx2lafw: Add working glue layer for frontends

commit 7e5ccff2ec6cf9f8723f3e76394ab78946b278f8
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Apr 25 21:41:57 2016 +0200

    fx2lafw: Add analog sampling handler
    
    This will be needed for the MSO support of the CWAV USBee AX and clones.

commit 7b5d1c64fca5e95ce81ced1358dab2e2b7a68d39
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Apr 24 23:06:28 2016 +0200

    fx2lafw: Factor out packet sending
    
    This will make it possible to use different senders based on
    driver mode. This is needed for USBee AX support.

commit ce35b282de2d02d822fcd78a4296e029da48d362
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Apr 24 20:38:12 2016 +0200

    fx2lafw: Add CTL2 clocking command flag to header
    
    The USBee AX hardware needs a sampling clock that is lower than
    the 30MHz or 48MHz that the FX2 has to offer. This flag will enable
    clocking via the CTL2 pin that is an even divisor of the main clock.

commit 232a975fe2268c9d7cf9681770e966ecea8a0376
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Apr 24 20:35:07 2016 +0200

    fx2lafw: Add support for AX analog channel probing

commit 152e7f4d7cb4cea3d5a37752e29cb67e2a4f49b2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 23 17:45:49 2016 +0200

    hwdriver.c: Add missing SR_MQFLAG_FOUR_WIRE entry.

commit 9a093be9f5df5e058e7f4f0c6fcc9ed013f803a2
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Apr 3 18:45:25 2016 -0700

    hp-3457a: Implement support for rear terminals and plug-in cards

commit 2c04f943efb4f7590941c44c27d8ca5d831b82dd
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Apr 3 18:38:53 2016 -0700

    hp-3457a: Implement AC, ACDC, and four-wire resistance modes
    
    The driver did not look at the mq_flags provided with the
    SR_CONF_MEASURED_QUANTITY key, and it defaulted to DC measurements.
    Use the second member of the tuple provided by the config key, which
    represents the flags for the measurement, and set the instrument's
    measurement mode accordingly.

commit 6d5cd3bd383b293f16d4db0c91c366d939e4851b
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Apr 3 18:04:42 2016 -0700

    analog: Add MQ Flag for four-wire measurements
    
    On the high-end bench multimeters, resistance can be measured with a
    kelvin connection as well as the more common two wire method. Provide
    a flag which can indicate if four-wire mode is used.

commit e2626373b73e7583a8a02454a6e0771a4f18be44
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Apr 9 10:07:55 2016 -0700

    hp-3457a: Do not retrigger new measurement after the last sample
    
    Due to a PEBKAC error, after the last sample was sent, a new
    measurement was triggered, but its value was never sent down the
    session bus. This is easily fixed by incrementing devc->num_samples
    right after a measurement is sent instead of when a measurement is
    retriggered.

commit cee6d3fa0c9f3326fd8844f0fcb292c3466bc562
Author: Sergey Alirzaev <zl29ah@gmail.com>
Date:   Tue Apr 19 01:38:51 2016 +0300

    ftdi-la: added support for the device selection
    
    Tested on FT232RL and FT2232H both attached to the same PC.

commit 5954e71653132626c8995c2bfbbea46605027d8c
Author: Benjamin Larsson <benjamin@southpole.se>
Date:   Tue Apr 12 23:47:34 2016 +0200

    hantek-6xxx: fix memory leaks
    
    Free the first flush packet and the driver context when closing.

commit 2c4600191b8442a64717f048c6a77ef77d6169ff
Author: Benjamin Larsson <benjamin@southpole.se>
Date:   Tue Apr 12 20:25:01 2016 +0200

    memory leak fix: g_variant_print() usage fix
    
    g_variant_print() allocates memory during call. Save the pointer
    so that it can be free'd afterwards.
    
    ==10048== 16 bytes in 1 blocks are definitely lost in loss record 17 of 37
    ==10048==    at 0x4C2DEAE: realloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
    ==10048==    by 0x536C85D: g_realloc (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x53877C6: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x5388B60: g_string_append_vprintf (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x5388D83: g_string_append_printf (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x539D034: g_variant_print_string (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x539C92C: g_variant_print (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x4E5F713: log_key (hwdriver.c:597)
    ==10048==    by 0x4E5FCD5: sr_config_set (hwdriver.c:752)
    ==10048==    by 0x408C1A: run_session (session.c:661)
    ==10048==    by 0x404FC5: main (main.c:267)
    ==10048==
    ==10048== 16 bytes in 1 blocks are definitely lost in loss record 18 of 37
    ==10048==    at 0x4C2DEAE: realloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
    ==10048==    by 0x536C85D: g_realloc (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x53877C6: ??? (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x5388B60: g_string_append_vprintf (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x5388D83: g_string_append_printf (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x539D034: g_variant_print_string (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x539C92C: g_variant_print (in /lib/x86_64-linux-gnu/libglib-2.0.so.0.4400.1)
    ==10048==    by 0x4E5F713: log_key (hwdriver.c:597)
    ==10048==    by 0x4E5FBDD: sr_config_get (hwdriver.c:709)
    ==10048==    by 0x4080D7: datafeed_in (session.c:196)
    ==10048==    by 0x4E5D47E: sr_session_send (session.c:1192)
    ==10048==    by 0x4E62682: std_session_send_df_header (std.c:101)

commit 050eb3b32d96a7c0a54dee9ae249514eff937d21
Author: Markus Siegert <markus@drsiegert.de>
Date:   Mon Apr 11 21:54:10 2016 +0200

    hantek-6xxx: Use power of 2 usb packet sizes
    
    Using non power of 2 sizes causes the driver to not work on OS X.
    Depending on the usb transfer mode the buffer sizes will map
    perfectly to the underlying transport protocol.

commit 1079324f9e76c4775395e5baaf916f37d4785278
Author: Markus Siegert <markus@drsiegert.de>
Date:   Sun Apr 10 22:27:11 2016 +0200

    hantek-6xxx: use 1D50:608E for Sainsmart DDS-120

commit cc5ebc8a3d66e15ade82475ae890e0dafe9b4586
Author: Benjamin Larsson <benjamin@southpole.se>
Date:   Mon Apr 4 21:44:00 2016 +0200

    hantek-6xxx: add coupling support
    
    Sainsmart DDS-120 supports AC or DC coupling. Add driver support
    to control that feature.

commit 10e0d374cb9518d2d5e6d876bd72888478fd1900
Author: Benjamin Larsson <benjamin@southpole.se>
Date:   Mon Apr 4 19:57:50 2016 +0200

    hantek-6xxx: store the amount samples received

commit 8d6d7d5d0db6c0a778af6b2db8c144630f85311e
Author: Benjamin Larsson <benjamin@southpole.se>
Date:   Mon Apr 4 19:55:07 2016 +0200

    hantek-6xxx: positive return code is not an error

commit 692c3b229dc8b9516cd46886ce5707cbf0f6cd3b
Author: Benjamin Larsson <benjamin@southpole.se>
Date:   Fri Apr 1 23:26:00 2016 +0200

    hantek-6xxx: Add support for Sainsmart DDS120

commit f07298663f2f69ab5c4e83d327470a90f92ec079
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 23 17:37:01 2016 +0200

    Fix two compiler warnings.

commit f4f273ce1e718342b8de34b98786131102d7bcaa
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun Apr 17 19:14:27 2016 +0200

    hameg-hmo: Also start reading on timeout (workaround for USBTMC)
    
    scpi_serial generate an POLLIN event after the requested data is returned
    by the instrument. For USBTMC it is necessary to
    1. send an REQUEST_DEV_DEP_MSG_IN request
    2. submit an USB bulk read transfer asynchronously.
    
    Using the synchronous libusb_bulk_read() does not generate an POLLIN event.
    
    Solving this properly needs major surgery in spci_usbtmc_libusb.

commit 055804e89ea0f6b4145040a0eeb2f4e6951692fe
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Apr 16 23:38:05 2016 +0200

    spci: Terminate all commands with a linefeed for all transports
    
    While some transports add a terminating (carriagereturn+)linefeed
    unconditionally, the USBTMC transport does not. At least the R&S HMO1002
    requires the linefeed and locks up otherwise. Fixes bug #784.
    
    This changes the TCP and VXI transport from CR+LF to LF only.
    
    Also fixes a possible memory leak for VXI, where the temporary command
    buffer was not freed in case of a write error.

commit 66836720f73c12fb107aa28b79cc6420c721cc5d
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Apr 16 23:37:40 2016 +0200

    scpi/usbtmc: fix remote locking according to USBTMC spec
    
    According to USBTMC usb488 subclass spec, wValue hast to be 0 for both
    LOCAL_LOCKOUT and GO_TO_LOCAL. At least required for R&S HMO1002, the
    bad request results in a STALL. Fixes bug #783.

commit 3db03efa4ad43f6d127c3d949a300596cac74ce9
Author: Diego F. Asanza <f.asanza@gmail.com>
Date:   Tue Apr 19 22:27:15 2016 +0200

    Working trigger on rising and falling edges.

commit 1a7ff3d08765744e607af4b6ef35f3b4bace7daa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 17 15:49:47 2016 +0200

    fx2lafw: Only run dslogic_stop_acquisition() on DSLogic.

commit 40ebad35249c58745543a0614876dc95b3f88bfb
Author: Diego F. Asanza <f.asanza@gmail.com>
Date:   Wed Apr 13 20:50:37 2016 +0200

    Ensure DSLogic can be stopped.
    
    After acquisition start, DSLogic stores samples in memory, and when done it
    sends a USB packet with the trigger position.
    
    This initial fillup can take some time. If the user requests a session stop
    in between, the USB transfer is cancelled and the session hangs because it
    is not closed properly.
    
    This commit manages this case and closes the session properly when
    acquisition is stopped by the user.
    
    Signed-off-by: Diego F. Asanza <f.asanza@gmail.com>

commit c04ca4da177bbd718be4de11e40a4ef5cbf3df7a
Author: Sergey Alirzaev <zl29ah@gmail.com>
Date:   Thu Apr 14 14:17:49 2016 +0300

    ftdi-la: order the channels properly

commit 4801798f63e256be5df236eb269c594d4283b8bc
Author: Andrew Bradford <andrew.bradford@kodakalaris.com>
Date:   Fri Apr 15 11:28:51 2016 -0400

    udev: Add DSLogic Pro rule
    
    Signed-off-by: Andrew Bradford <andrew.bradford@kodakalaris.com>

commit 851329ca3a47cc0a8bfd3f668c1d879a25e40cdf
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Tue Apr 12 04:17:28 2016 +0200

    contrib: add udev rules for HAMEG HO720/HO730

commit d71ead65ea7d79790ccd92001e2c89e36d11284e
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Fri Apr 15 22:46:18 2016 +0200

    contrib: add udev rules for R&S HMO1002 in VCP and USBTMC mode

commit d38f4e7a0f0ecfa28d709ca6bc0834f0283a196f
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Fri Apr 15 22:45:57 2016 +0200

    scpi/serial: Add USB IDs for R&S HMO 1002 Series

commit 356f64f8c735b5432f930872c90923a8e7f82913
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Fri Apr 15 22:45:22 2016 +0200

    hameg-hmo: support triggering on either falling or rising edge
    
    At least the HMO 1002 allows triggering on rising or falling edge, the
    corresponding SCPI value is "EITH"
    
    See also bug #740

commit e3abd15d08bcd97b9e94e5775fb35d44a1d43397
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun Apr 10 22:52:30 2016 +0200

    hameg-hmo: fix "invalid argument" exception when setting trigger edges
    
    The hameg-hmo driver uses the values from the trigger_slopes array.

commit da1726cc4c066a7091acc8c4fa35107746709f4e
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun Apr 10 18:41:47 2016 +0200

    hameg-hmo: Add Rohde&Schwarz HMO 1002
    
    Hameg is a R&S measurement instruments subsidiary. The HMO 1002 is an
    entry level scope, compatible with the SCPI commands of the larger models.

commit 797f1a0cf3757921ffad5a403a9e7d2dc2e38ee1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 17 14:50:18 2016 +0200

    sanity_check_all_drivers(): Add some code comments.

commit bc48ec37558b6b6e0a4128b93cb2181cd53b6da0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 17 14:24:05 2016 +0200

    gmc-mh-1x-2x: Make two functions static.

commit 3c996d8e231eb3ae2ff37182a0c9762bcd681770
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 17 14:22:37 2016 +0200

    scpi-pps: Drop unused function prototype.

commit 116670b15d1facd756cb97525b3fea51d11d28a4
Author: EJ <kej.pol@gmail.com>
Date:   Sun Apr 17 09:30:54 2016 +0200

    Fix #786 by checking for opts in the bindings

commit 1f706c21a2977c768692f72d09b35633628d2b0d
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Apr 10 21:02:52 2016 +0200

    input: vcd: skip BOM at beginning of file
    
    According to the infos I have, VCD files should be plain ASCII, but we
    got report of a version adding a UTF8 BOM at the beginning of the file,
    so we need to skip it.
    
    This fixes bug #755.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 62974b235a5c5aeaacad5d28a50aef39f528dccd
Author: Diego F. Asanza <f.asanza@gmail.com>
Date:   Thu Mar 31 22:16:12 2016 +0200

    Set DSLogic in logic analyzer mode.
    
    It was being initialized in DSO mode.
    
    Signed-off-by: Diego F. Asanza <f.asanza@gmail.com>

commit 3f0ff4128447a7fc1e0105b85cdc9cfcf831dafc
Author: Diego Asanza <f.asanza@gmail.com>
Date:   Wed Mar 30 19:04:54 2016 +0200

    Fix DSLogic FPGA binary image upload and signal acquisition.
    
    For some reason, uploading the FPGA binary into DSLogic in small chunks
    does not work. In this commit, the whole binary image is loaded into memory
    and transfer is done in one chunk.
    
    Furthermore, the FPGA configuration structure was not initialized
    properly. This was changed with the initialization values taken from the
    original DSLogic software.
    
    Signed-off-by: Diego Asanza <f.asanza@gmail.com>

commit 600cc1a8a5714da133a4a6b91b792f8416baa0ae
Author: Soeren Apel <soeren@apelpie.net>
Date:   Wed Apr 6 21:10:22 2016 +0200

    Demo: Use 20Vpp as amplitude instead of 50Vpp

commit f9197887e447bb7536e25f3cb24d175d97cd20bb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 3 17:22:05 2016 +0200

    ftdi-la: Move ftdi_la_set_samplerate() to protocol.c.

commit f227338297de002d8a76dc5e411dde8743751028
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 2 18:36:52 2016 +0200

    Rename 'ft2232h' driver to 'ftdi-la'.
    
    The driver already supports more than just the FT2232H chip.

commit dba986ab0aec637070becceef52c2183cc53621f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 30 13:38:55 2016 +0200

    configure.ac: The ft2232h driver also depends on libusb.

commit 4f7fdcdd74ce63670a7d75a6b48d6e75f9cb7964
Author: Sergey Alirzaev <zl29ah@gmail.com>
Date:   Thu Jul 30 07:27:43 2015 +0300

    ft2232h: Add support for FTDI FT2232H/FT232R chip as LA.
    
    This closes bug #780.

commit 625430bf88ca7926ea386f6288f95f99290271ef
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Tue Mar 29 19:21:55 2016 -0700

    hp-3457a: Implement workaround for double-precision data
    
    Certain output modules do not understand double-precision data.
    Although we need double precision to represent the full resolution
    of 7.5 digit readings, temporarily convert data to single precision
    so that the output modules understand it. While the reasing might be
    off by a few counts, we ensure the output modules do not display
    completely bogus data.
    
    For details, see bug #779.

commit db23af7fc26c9a69d500d806b060c131361e9565
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Feb 28 10:55:18 2016 -0800

    hp-3457a: Implement basic configuration and sampling
    
    KNOWN ISSUES:
    - When sampling with 100 NPLC, the poll function will timeout a few
    times before the first sample is acquired. Increasing the timeout
    passed to sr_scpi_source_add() will cause all the other commands to
    be processed slowly, producing a sampling rate of about one sample
    every ten seconds.
    - Support for plug-in cards (44491A and 44492A) is not implemented.
    - Support for AC, AC+DC and four-wire resistance measurements is not
    implemented.
    - Support for configuring the frequency measurement source is not
    implemented.

commit fadb19ac9631b61c97b7ca6375a3afe134bbc695
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Mar 4 23:25:15 2016 -0800

    hwdriver: Add configuration key for number of powerline cycles
    
    High precision multimeters have a special setting, called "number of
    powerline cycles" (NPLC) which determines the integration time of the
    ADC in terms of the power line period. Some devices need their NPLC
    adjusted from the default value before they can measure at their full
    rated precision.

commit 8b0ad3a55977fe90942d761ae4a075399b323f08
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Feb 28 10:32:19 2016 -0800

    scpi/libgpib: Place device in local mode before closing handle
    
    Devices connected on a real GPIB bus are placed in remote mode when
    opening them. libgpib does not automatically place devices back in
    local mode when closing the handle. It is thus possible to lock out a
    GPIB device by probing it with libsigrok.
    
    This happens on the HP 3457A meter, which does not have a "LOCAL"
    command, and must be put back in local mode via GPIB handshake.
    ibloc() takes care of this, and it does it on a per-device basis,
    such that other devices on the GPIB bus are not affected.

commit daf13c570f3532a702401363a35195970600c046
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Mar 5 11:33:56 2016 -0800

    scpi/libgpib: Print error string instead of number on errors
    
    libgpib has an error_string which formats a numeric error code into a
    human-readable description. Use that instead of printing the numeric
    code, as it makes debugging easier.

commit 00b2a092c3e4b0ab9a12b44a50c6b271f4cf71f8
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Feb 27 22:05:27 2016 -0800

    hp-3457a: Initial driver skeleton.

commit 0586a0ef594603384b957e61e01ccfe25fdac824
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Mar 27 23:25:30 2016 +0200

    srzip: Optimize analog output saving
    
     - Don't set capturefile if no logic channels are saved
     - Don't set total probes if no logic channels are saved
     - Save analog channels without index gaps (e.g. probe1/probe4)

commit f476dd2d2bcd482e76e9d174706e494a248156ff
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Mar 27 23:09:05 2016 +0200

    Enable loading of session files without total probes defined

commit 9cfc695ffe5f04622f61acb98ea4ac91c3f4ffc3
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Mar 27 22:55:19 2016 +0200

    Enable loading of session files without the unit size defined

commit 7c69b528e4e216be213ff2a1bacaced6df3fe38f
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Mar 24 08:56:14 2016 +0100

    Enable loading of session files without the capture file defined

commit e5b280e4c7d824d657524c6b622a87474d732f0f
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Mar 24 08:55:42 2016 +0100

    analog save: Avoid index duplication between analog & logic channels.

commit 1393bccfcbfa47c55e29b5a453d9d976ebd58a03
Author: Soeren Apel <soeren@apelpie.net>
Date:   Tue Mar 22 08:29:25 2016 +0100

    input/raw_analog: Prevent "duplicate const decl specifier" warning
    
    Warnings emitted by gcc before this patch:
    src/input/raw_analog.c:51:13: warning: duplicate 'const' declaration specifier [-Wduplicate-decl-specifier]
            const char const *fmt_name;
                       ^
    src/input/raw_analog.c:55:35: warning: duplicate 'const' declaration specifier [-Wduplicate-decl-specifier]
    static const struct sample_format const sample_formats[] =
                                      ^

commit d9d57ceb283dc43f5f80619d24e5233666644dfb
Author: Soeren Apel <soeren@apelpie.net>
Date:   Tue Mar 22 08:25:08 2016 +0100

    Bindings: Update create_analog_packet() to the new analog format

commit 74a9c0adc04fd76f68e8ad5a3d3fbde0f873f849
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 15 18:40:50 2016 +0100

    output/srzip: Minor whitespace fixes.

commit 2dc4081540c23e37f7a9203f4d8990a1f0733103
Author: Martin Ling <martin@nomad.lan>
Date:   Mon Dec 28 22:29:25 2015 +0000

    session_driver: Process analog chunks into analog packets.

commit 906921bad2cf5d66ba5a2a643d2d6c9db3e48118
Author: Martin Ling <martin@nomad.lan>
Date:   Mon Dec 28 21:47:25 2015 +0000

    session_driver: Read analog chunks from file.

commit b317d1bbfb83f152f94959588336f4a07328d154
Author: Martin Ling <martin@nomad.lan>
Date:   Mon Dec 28 19:47:54 2015 +0000

    sr_session_load(): Create analog channels from loaded file.

commit 26918dced08eacbd851c63f9b4459d4c764b540f
Author: Martin Ling <martin@nomad.lan>
Date:   Mon Dec 28 21:20:07 2015 +0000

    srzip: Renumber analog channels from zero in output file.

commit 7163dcbe180f624bfbb1ed899642682cb527fb0d
Author: Martin Ling <martin@nomad.lan>
Date:   Mon Dec 28 19:36:06 2015 +0000

    srzip: Save analog data.

commit eab052996cae14d8901615418e5cdeb03a6e1bd2
Author: Martin Ling <martin@nomad.lan>
Date:   Mon Dec 28 19:04:28 2015 +0000

    srzip: Store total number of analog channels.

commit 828832194f0a32097046fbd5c33edd6eee8c7a60
Author: Martin Ling <martin@nomad.lan>
Date:   Mon Dec 28 19:01:57 2015 +0000

    srzip: Count only logic channels in "total probes".

commit 8ccf5ceb173e0d0ce131d420512ba9a3a638c835
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 10 23:50:24 2016 +0100

    udev rules file: Add entry for Hantek 6022BE.

commit c940b7a32f0bad7fe50e8b3d6772f208beb71faa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 9 22:41:58 2016 +0100

    hantek-6xxx: libusb_get_device_descriptor() cannot fail.

commit f2a66a8ee669df5afa1b7bdade6e25ac0857fe4b
Author: Chriter <christerekholm@gmail.com>
Date:   Wed Sep 16 22:18:07 2015 +0300

    hantek-6xxx: Initial driver implementation.
    
    Note: This commit is based on the initial implementation by
    Christer Ekholm (but stashed into one commit), with some adaptations
    (forward porting, coding style and consistency fixes) by Uwe Hermann.

commit 6c6bc80a9932088b919b0cbaead8fa71a2df5067
Author: Chriter <christerekholm@gmail.com>
Date:   Wed Sep 16 20:41:22 2015 +0300

    hantek-6xxx: Initial driver skeleton.

commit 5af975b58773cf9deb22ae904b996c6db830b2db
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 5 18:51:39 2016 +0100

    maynuo-m97: Fix a typo in an error message.

commit 6cc931283d952be755c02db84044ce1f95e8426d
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Mar 5 09:16:26 2016 -0800

    scpi-pps: Add profile for Agilent N5763A 12.5V 120A supply

commit ba4dfbde11f48ce4bccda265f3db1e82901df99c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 4 09:37:16 2016 +0100

    fluke-dmm: Add support for the Fluke 289.
    
    Thanks to Julien Bresciani <julien.bresciani@free.fr> for providing
    the information about the required changes!

commit b84f91ff2ea924c5662d38034b3754d9a37265d4
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Feb 21 10:06:10 2016 +0100

    session: allocate correct amount of memory in sr_packet_copy
    
    We want the size of the struct, not of a pointer to the struct. And to
    be absolutely future proof, dereference the pointer we are assigning the
    memory to (not the one we are copying the data from). Found by Coverity,
    CID 50858.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 2217be1dd452ec00ac3c59e2db60f6b088593761
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 9 01:09:39 2016 +0100

    arachnid-labs-re-load-pro: Handle undervoltage condition.
    
    Support the SR_CONF_UNDER_VOLTAGE_CONDITION* keys.
    
    Undervoltage (and overtemperature) conditions now emit a
    warning-level message as well.

commit 2fe1011f1daf66279424bd20722c2c80e0b593a9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 9 01:28:38 2016 +0100

    Add SR_CONF_UNDER_VOLTAGE_CONDITION* config keys.
    
    Add two new config keys:
    
     - SR_CONF_UNDER_VOLTAGE_CONDITION
    
     - SR_CONF_UNDER_VOLTAGE_CONDITION_ACTIVE

commit 8084e0fa811df82b3a243c8ccc713a3af739a436
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 8 21:03:40 2016 +0100

    arachnid-labs-re-load-pro: Only support firmware >= 1.10.
    
    The "on\n" and "off\n" commands require this.

commit 8501448cfe508de842c0e2206232a7a832837294
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 8 08:52:23 2016 +0100

    arachnid-labs-re-load-pro: Add support for setting SR_CONF_ENABLED.
    
    The firmware has "on\n" and "off\n" commands since 1.10, so use them.
    
    Apparently you can only set the state (on/off) of the load, but it's
    not possible to query the current state.

commit 6e68da5140e80443bbb122f0c23ae5a17d91c697
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 8 08:24:48 2016 +0100

    arachnid-labs-re-load-pro: Convert to SR_DF_ANALOG.

commit 803db07a1af036a5da65581ddbac23b7f84a4388
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 30 18:44:40 2015 +0100

    arachnid-labs-re-load-pro: Add initial driver.

commit 6e8d31d4680a35a35c2605c90d3abcc559d70a56
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 29 01:58:05 2015 +0100

    arachnid-labs-re-load-pro: Initial driver skeleton.

commit 83bf4762e42a4d4a5c077f48d8f5715c9147d9b8
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Feb 1 22:37:36 2016 +0100

    beaglelogic: use standard # operator instead of ugly __STRING macro
    
    Also note that the __ namespace is reserved by POSIX for its private
    usage, so user land software should never rely on any kind of API
    with a __ prefix.

commit 29d3876a0b1d799f07ce8ca671d613e73612930b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 6 15:19:06 2016 +0100

    configure.ac: Bump package version to 0.5.0.
    
    0.5.0 will be the next major, API-changing release. Bump now, so that
    there is no confusion of tarball 0.4.0 and 0.5.0-git snapshots.

commit 89c82260b0bbfa4885b2b1d737d825c4bdeda3c9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 29 22:57:48 2016 +0100

    Bump libtool version (not package version) to 3:0:0.
    
    The last release (0.3.0) had the libtool version (current:revision:age)
    set to 2:0:0. Since this release adds, removes, and changes interfaces,
    the new version is 3:0:0.
    
    http://www.gnu.org/software/libtool/manual/libtool.html#Updating-version-info
    
    This changes the library filename (e.g. on Linux) from libsigrok.so.2.0.0
    to libsigrok.so.3.0.0, the SONAME (+symlink) becomes libsigrok.so.3.

commit 18b9bbb39cd236dd05acc40e21f5a1a16aad2e5d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 17 00:48:13 2015 +0200

    NEWS: Update for upcoming 0.4.0 release.

commit 10c4ca9c5bd9b2e917759e9fddc6f8655895b92c
Author: Soeren Apel <soeren@apelpie.net>
Date:   Fri Jan 29 23:13:32 2016 +0100

    hameg-hmo/yokogawa-dlm: Fix warning about pointer typecast

commit a084a8f2a4fd5a48e659e36ae47bc393fd9d6ffc
Author: Soeren Apel <soeren@apelpie.net>
Date:   Fri Jan 29 21:59:06 2016 +0100

    SCPI: Do not use RL1 lockout for Yokogawa devices

commit b18b8a92028475ca3d9ab33c06248d37075837be
Author: Soeren Apel <soeren@apelpie.net>
Date:   Fri Jan 29 21:39:20 2016 +0100

    yokogawa-dlm: Fix array_float_get()

commit 8cccbac8da97397b61aa094c67e62ee922b628ed
Author: Soeren Apel <soeren@apelpie.net>
Date:   Fri Jan 29 21:35:16 2016 +0100

    hameg-hmo: Fix array_float_get() and also use it for the time base

commit fe227d17aeda0c460367883f57c3b683fe4798a6
Author: Soeren Apel <soeren@apelpie.net>
Date:   Fri Jan 29 21:13:07 2016 +0100

    hameg-hmo: Add missing 20/50V vdiv entries

commit e786b19467f2a77c492baafee2705c9f0edcee47
Author: Soeren Apel <soeren@apelpie.net>
Date:   Fri Jan 29 21:08:49 2016 +0100

    hameg-hmo: Add more supported scope models

commit b90400ed89b6bdb4b0ffaed2fc3acb768ee3ca40
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 29 18:31:00 2016 +0100

    README: Bump bindings requirements to the upcoming 0.4.0 release.

commit db5449b918ee51c73d04bf3fded6d5b8c49b96df
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 29 18:30:32 2016 +0100

    README: Mention the missing libieee1284 requirement.

commit b165a24234b44a39e87661132ee0c92b49dac5ea
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat Jan 23 14:21:15 2016 +0100

    hung-chang-dso-2100: Fix session source fd
    
    For session sources without a file descriptor to poll a negative number
    should be passed for the fd parameter. The hung-chang-dso-2100 driver
    currently passes 0 instead, which is the stdin stream. Fix the issue by
    passing -1 for the fd parameter.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit eb8e6cd2cbcb9c552418dcd0b7973b38b88c805f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 29 18:00:11 2016 +0100

    Use libusb_error_name() more often for better diagnostics.

commit 9dfacd870618806defe64a0cbe1ccd330e11cb3d
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Jan 28 23:17:50 2016 +0100

    demo: fix infinite loop with 0 channels of one type
    
    The following command line exhibits the inifinit loop:
      sigrok-cli -d demo:analog_channels=0 --samples=8

commit e9227902208d2ab96349b60788596dfc2222941a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Jan 28 22:48:44 2016 +0100

    configure: replace buggy AX_RUBY_EXT by a proper implementation
    
    This actually allows to get the proper DLEXT expected by Ruby on
    the target system.

commit e469259a577069529e60c9741f098a0c5c56f813
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Jan 28 22:45:28 2016 +0100

    configure: check for swig version >= 3.0.8 for Ruby bindings

commit 3f48fc82b5bc13e749b30a47dd6ca06f8cd2b00e
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Jan 10 12:10:10 2016 +0100

    input: vcd: by default do not limit number of channels
    
    Accept (and set to default) 0 for numchannels which means 'unlimited'.
    I think it is convenient to read all channels of a vcd file by default.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit ab464eb3dc7fc9646592d882ca79aa0a8fa5101b
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Jan 10 12:08:54 2016 +0100

    input: vcd: register channels when parsing header not when initializing
    
    Benefits:
    
    * only channels really used in vcd will be added
    * we can give them the proper name found in the vcd file
    * less code :)
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 34724ffa340b4df9706aa02d686563ed72b7840f
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sat Jan 9 23:17:02 2016 +0100

    input: vcd: support 1 bit vectors
    
    Use the new process_bit() function to parse 1 bit vectors, too.
    
    This is the first step to fix bug #723. Minimal testcase vcd:
    
    $timescale 1 ns $end
    $var wire 1 n0 addr_0 $end
    $var wire 1 n1 addr_1 $end
    $enddefinitions $end
    #0
    0n0
    b1 n1
    #1
    1n0
    b0 n1
    #2
    0n0
    b1 n1
    #3
    1n0
    b0 n1
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 36dacf17bc5fe333c6557d073011e2033b6f544f
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sat Jan 9 23:05:58 2016 +0100

    input: vcd: refactor parsing a bit
    
    Move to a separate function which we want to reuse later.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit a66175c2b1e11c961329aa2634fa9de7f3a45d5a
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sat Jan 9 08:17:57 2016 +0100

    input: vcd: avoid needless copying
    
    Current code moves the identifier string one byte to the front to
    overwrite the bit value, so 'tokens[i]' is a string to compare against
    the desired value. This copying is unnecessary, just pass a properly
    setup pointer.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 76bc28c3f1cbd88f01eda7251e9f4f1d88c506f2
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sat Jan 9 18:27:14 2016 +0100

    input: vcd: try to continue when a vector was found
    
    No need to bail out on vectors. As long as there are tokens left, we can
    try to parse the rest. Also, print a message so the user knows what's
    going on. Here is a testcase vcd:
    
    $timescale 1 ns $end
    $var wire 1 n0 addr_0 $end
    $var wire 1 n1 addr_1 $end
    $enddefinitions $end
    #0
    0n0
    b1 n1
    #1
    1n0
    b0 n1
    #2
    0n0
    b1 n1
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 73f052d329574e6fa9fc8bebcc7682b120da5bab
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sat Jan 9 17:40:10 2016 +0100

    input: vcd: properly bail out on missing identifiers
    
    If we hit the missing identifier case, then we reached the end of the
    token list. So, we should break out of the loop, and not continue.
    Otherwise we will go past the end of the array as this minimal testcase
    shows:
    
    $timescale 1 ns $end
    $var wire 1 n0 addr_0 $end
    $enddefinitions $end
    1
    
    gives:
    
    $ ./sigrok-cli -I vcd -i no_mod.vcd -O vcd -o /tmp/o.vcd
    Segmentation fault
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit e85e550d92e680f19c9be759dfc2b29ce72ae7c5
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Wed Dec 30 22:04:38 2015 +0100

    input: vcd: allow optional index item
    
    A $var block can have an optional index item which looks like '[<sth>]'.
    Parse it, too, and append it to the channel name.
    
    This fixes bug #322. A first version was posted by Simon Richter. This
    version is rebased and simplified.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 650847e7d3caf097042397bd4522a7a393cb89ab
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 28 18:46:55 2016 +0100

    hameg-hmo: Fix some compiler warnings.

commit 8fff75196f79d60369cc05545409fc567c6b7bf4
Author: Soeren Apel <soeren@apelpie.net>
Date:   Fri Jan 8 23:02:20 2016 +0100

    hameg-hmo: Replace floating point comparison for vdiv
    
    This should fix bug #731.

commit a5be5d5bc008ebdab19b7ed2efe5e5a5b99bb349
Author: Soeren Apel <soeren@apelpie.net>
Date:   Fri Jan 8 23:00:55 2016 +0100

    Trace32 import module: Send trigger only once
    
    As we're downsampling, several record time stamps can match the specified
    trigger time. For this reason, it's possible that several trigger packets
    are sent when a file is loaded. This prevents the issue and sends a
    trigger packet only on the first matching record.

commit 27d44cf6e0eaaa75979510596d6148193a8434c0
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 11 14:31:47 2016 +0100

    Implement Ruby bindings on top of SWIG/C++ bindings.

commit 0441038e2f37da659cf46a1878fc6906926425d6
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 11 14:32:22 2016 +0100

    Makefile: use PYSIGROK_FLAGS only for building python bindings

commit 1b4aedc06f4ea5e63c604bf37e5c95c592fab73a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 7 23:46:36 2016 +0100

    Use ALL_ZERO in a few more places.

commit ff7c7cda93a8457777eda9466c561d62313a9d49
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 7 23:22:42 2016 +0100

    lecroy-logicstudio: Fix some compiler warnings on MinGW.
    
    src/hardware/lecroy-logicstudio/protocol.c: In function 'handle_fetch_samples_done':
    src/hardware/lecroy-logicstudio/protocol.c:261:3: warning: passing argument 6 of 'libusb_fill_bulk_transfer' from incompatible pointer type
       recv_bulk_transfer, (void *)sdi, USB_TIMEOUT_MS);
       ^
    In file included from ./src/libsigrok-internal.h:31:0,
                     from src/hardware/lecroy-logicstudio/protocol.h:26,
                     from src/hardware/lecroy-logicstudio/protocol.c:23:
    /home/uwe/sr_mingw/include/libusb-1.0/libusb.h:1546:20: note: expected 'libusb_transfer_cb_fn' but argument is of type 'void (*)(struct libusb_transfer *)'
     static inline void libusb_fill_bulk_transfer(struct libusb_transfer *transfer,
                        ^
    src/hardware/lecroy-logicstudio/protocol.c: In function 'fetch_samples_async':
    src/hardware/lecroy-logicstudio/protocol.c:314:4: warning: passing argument 6 of 'write_registers_async' from incompatible pointer type
        handle_fetch_samples_done);
        ^
    src/hardware/lecroy-logicstudio/protocol.c:200:12: note: expected 'libusb_transfer_cb_fn' but argument is of type 'void (*)(struct libusb_transfer *)'
     static int write_registers_async(const struct sr_dev_inst *sdi,
                ^
    src/hardware/lecroy-logicstudio/protocol.c: In function 'lls_start_acquisition':
    src/hardware/lecroy-logicstudio/protocol.c:1122:3: warning: passing argument 6 of 'libusb_fill_interrupt_transfer' from incompatible pointer type
       recv_intr_transfer, (void *) sdi, USB_TIMEOUT_MS);
       ^
    In file included from ./src/libsigrok-internal.h:31:0,
                     from src/hardware/lecroy-logicstudio/protocol.h:26,
                     from src/hardware/lecroy-logicstudio/protocol.c:23:
    /home/uwe/sr_mingw/include/libusb-1.0/libusb.h:1602:20: note: expected 'libusb_transfer_cb_fn' but argument is of type 'void (*)(struct libusb_transfer *)'
     static inline void libusb_fill_interrupt_transfer(
                        ^

commit d64b5f43ccaab6d490da05b84fa9b31b7cccfcb7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 23 15:25:18 2015 +0100

    sysclk-lwla: Minor whitespace and consistency fixes.

commit 0cadb8a350578d857423a3bf3c0ed990cdb2608e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 22 19:36:19 2015 +0100

    Minor whitespace and cosmetic fixes.

commit 3591481e871eec154a764e1c78004095144de5b5
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Jan 3 22:27:45 2016 +0100

    dmm: vc870: drop unused variable
    
    There is no status bit for RMS. We know about RMS if certain modes are
    active. So, drop this superfluous variable.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit ee2e9be21be59e9455a78ce3598db49e3b38e6f6
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Jan 3 22:27:44 2016 +0100

    dmm: vc870: support effective voltage & current
    
    And rename the status variable because in sigrok the term RMS is used
    instead of "effective value".
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 2e1c4817c7f89b6a7eab8e9801b25d73a95089fb
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Jan 3 22:27:43 2016 +0100

    dmm: vc870: render POWER_FACTOR as such and not as frequency
    
    The primary display is the power factor, the secondary is the frequency.
    This got mixed up, so change the order. We also need to fix the
    conversion factor.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 4867dd177f1dbaf99e44c29548d614d3f324eeb9
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Jan 3 22:27:42 2016 +0100

    dmm: vc870: keep the order when processing modes
    
    is_power_apparent_power is index 0 of function 0x39, so it is better to
    process it first and the later indices after that (we need to add
    another one with a different patch later).
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit b4a0770ef8dc5deba8072679039ac4288cbc3454
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Jan 3 22:27:41 2016 +0100

    dmm: vc870: fix AC conversion factors
    
    Testing showed that AC current needs to be handled different from DC.
    Note that ACA is still untested because of limited testing equipment.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit b89462e45706e9b4f65eced96c7d76347f4b5569
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Sun Jan 3 22:27:40 2016 +0100

    dmm: vc870: show display value properly in debug output
    
    It was confusing to see the display value (5 digits) printed in debug
    output as a float. Print it the same way as shown on the real device,
    without comma, of course.
    This also allows to simplify the code a little.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 32ba0d80054df01767ec323c621ab1c6bc5f310c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Jan 4 18:53:30 2016 +0100

    resource: Replace ssize_t with gssize to avoid unistd.h

commit c61e208d26325c38c9c928b00890a70f55633ddf
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Jan 3 22:22:57 2016 +0000

    python: Provide sensible __str__ and __repr__ functions for enum values.
    
    This fixes bug #668.

commit f014a8fd4cbea56c3ecd23a5b2cbb7c38d905253
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 3 03:00:45 2016 +0100

    proto.h: Add missing unistd.h #include.
    
    The ssize_t and size_t usage requires the unistd.h #include.
    
    Thanks to Daniel Glöckner for the bug report.
    
    This fixes bug #721.

commit e43887683cc1920fa0d6f9e557bff0e62fa7c8a3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 3 02:51:01 2016 +0100

    baylibre-acme: Replace g_close() with close() for now.
    
    This g_close(), the only one in the whole code-base, would unnecessarily
    raise the minimum glib version to 2.36.
    
    Thanks to Daniel Glöckner for the report.
    
    This fixes bug #724.

commit 8c529898116e9a6bf7083fb3b748b24d006392a4
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Dec 30 18:39:48 2015 +0100

    C++: Avoid std::map::emplace() for GCC 4.7 compatibility
    
    This fixes bug #720.

commit 6954fdbca9e3bca9acbbe6e1eaf4e4e85062bc1e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 3 00:39:44 2016 +0100

    src/backend.c: Add missing winsock2.h #include.

commit fa69e191b2d50f5feac40c67cf225d4d6c71f940
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 29 23:49:15 2015 +0000

    win32: Call WSAStartup() at sr_init() time.
    
    Should fix bug #692.

commit 8141a0325c2d31a37ecaeef6532d932112700f01
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 31 18:47:55 2015 +0100

    Rename sr_driver_scan_options() to sr_driver_scan_options_list().

commit 0c697a4b339451514d4814974708816ce7858b8e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 31 18:45:17 2015 +0100

    Rename sr_dev_config_capabilities() to sr_dev_config_capabilities_list().

commit 7d7fd93c947dcaa94f3d90bfb6b0bf3ce01d774d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 31 18:43:18 2015 +0100

    Restore number "categories" in sr_configkey.

commit e318f01b2f17d60fc4b25feb7d23e948cb5ffb8f
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 3 01:59:42 2015 +0000

    Make SR_CONF_MASK an internal constant.

commit cffdc3e63b132795bfcaab91864c1c6b124e87fa
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Nov 2 01:03:07 2015 +0000

    Make SR_CONF_{SCAN,DEVICE}_OPTIONS into internal constants.
    
    These are no longer needed in the public API as we have new wrapper functions.
    They are still used internally by drivers.

commit 36bb818d6f10ac1187f160f4c2ab1169aeb4e86f
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Nov 2 22:05:02 2015 +0000

    bindings: New configuration enumeration API.
    
    The new methods wrap the new libsigrok C API helper functions and eliminate
    the need to pass complex types back to the user and wrap them with SWIG.
    
    Fixes bugs #479 and #480.

commit 8f3168b89bcd79b555d86601270d81e5c8e3bdfe
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Nov 2 00:23:23 2015 +0000

    Add new sr_driver_scan_options() helper function.
    
    This function replaces the pattern of calling config_list() with
    SR_CONF_SCAN_OPTIONS to obtain a list of scan options.

commit e7136c626f433bcdc101eaa24191ce5682803540
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Nov 2 00:40:40 2015 +0000

    Add new sr_dev_options() helper function.
    
    This function replaces the pattern of calling config_list() with
    SR_CONF_DEVICE_OPTIONS to obtain a list of device options. Note
    that this does not include the SR_CONF_{GET,SET,LIST} bitmask,
    which is now retrieved for a specific key by calling
    sr_dev_config_capabilties().

commit 71e9c54dab31384224b566c705d6084253f08bdd
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Nov 2 21:35:26 2015 +0000

    Add new sr_dev_config_capabilities() helper function.

commit 12f2f640cbe9167ad386a2d9069ec882d70cda5b
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Nov 2 20:52:00 2015 +0000

    bindings: Wrap enum sr_configcap as Capability class.

commit c57aa1ac19b437281e60c394483a15aec9080916
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Nov 2 20:46:28 2015 +0000

    Make SR_CONF_{GET,SET,LIST} into a new enum.

commit 039a2fd78a61ad8c6e9159be9ba06b605a456155
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 27 12:26:06 2015 +0100

    src/usb.c: Only allow hex characters in CONN_USB_VIDPID.
    
    (and also allow case-insensitive specification)
    
    Thanks to Hannu Vuolasaho for the fix.

commit 52fb2d448480fd820fadff464a676e61dabc557f
Author: Wolfram Sang <wsa@the-dreams.de>
Date:   Tue Dec 29 12:45:07 2015 +0100

    modbus: silence a build warning
    
    Refactor handling the size of modbus_devs, so it doesn't produce a build
    warning and still allows the compiler to remove unused code.
    
    This fixes bug #637. It could be reverted once modbus_devs
    unconditionally has a member in the struct.
    
    Signed-off-by: Wolfram Sang <wsa@the-dreams.de>

commit 0a1f7b09b3fa4cc4da29c7acf53717e14b004b63
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 22 20:15:57 2015 +0100

    Prefer postfix-increment for consistency across the code-base.
    
    Only when there are technical reasons use prefix-increment.

commit a078d3ec527c0a8180f59086e62a8905ae79aa65
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 25 23:20:00 2015 +0100

    korad-kaxxxxp: Add workaround for a Korad KA3005P issue.
    
    In some situations, the reply to the *IDN? command contains an
    additional trailing 0x01 byte for unknown reasons.
    
    This issue seems to be reproducible by changing the voltage using the knobs
    on the device, then turning on the output and turning it off again.
    
    The next korad-kaxxxxp scan() operation would contain the trailing 0x01
    byte, which would lead to the detection of the device in libsigrok no
    longer working until the next power-cycle.
    
    Work around this issue by treating both the ID string with and without
    the trailing 0x01 byte as valid.

commit ae9ca5b1df8137083e37588665f7322306346420
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 24 01:19:11 2015 +0100

    korad-kaxxxxp: Add support for the Velleman PS3005D.

commit 1d80e1c64140bb74857042751c460962b445cb35
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Dec 22 23:42:36 2015 +0100

    sysclk-lwla: Use static array for LWLA1034 init sequence
    
    Just as in the LWLA1016 initialization, make use of a static array
    for the constant part of the LWLA1034 capture setup sequence.

commit e35a4592488d7492a46921dd8bd130eae5faf11a
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Dec 22 15:52:40 2015 +0100

    sysclk-lwla: Attempt initialization three times
    
    This is a desperate measure to improve the success rate of device
    initialization even after it got into a bad state. Combine this
    with a reduced USB timeout (1 second) so that if it fails, it fails
    quickly. Also ignore USB errors from the initial dummy read of the
    device test ID.

commit 04f2428354068c6ed85ad090dd4baac253e940c4
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Dec 5 18:16:39 2015 +0100

    sysclk-lwla: Use static array for init sequence

commit 786485772ffd28dfb1ca7375ca64118ccd7af25c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Dec 5 17:47:52 2015 +0100

    sysclk-lwla: Work around short transfer quirk
    
    Detect whether the FX2 firmware of the LWLA device exhibits the
    short transfer bug. If so, work around the problem by limiting
    reads to at most 64 bytes at a time. This slows down the memory
    read after acquisition quite noticably, but makes the device
    usable even in adverse conditions.

commit 940805ce7dbd26c32f2e8b3512fdc54432b412db
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Dec 5 10:06:15 2015 +0100

    sysclk-lwla: Skip unused registers in status poll
    
    Reduce the number of long registers read in bulk during status
    polling from 10 to 5. The LWLA1034 driver used to do that already
    in an earlier iteration, which was then changed to be more like
    the original vendor software. The reason for bringing it back now
    is that it reduces the response size to 40 bytes, which works
    around the spurious 64 byte limit bug in the FX2 firmware of the
    LWLA devices.

commit ef7df53d3609413341b521ab64f223f80e49a01a
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Dec 14 21:47:46 2015 +0100

    sysclk-lwla: Declare model_info structs as extern
    
    This fixes bug 714.

commit fc6cbfce2ba3f7f15f79acd6754ec6745e091ae6
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Dec 5 10:41:16 2015 +0100

    sysclk-lwla: Close USB handle on drain error

commit 407b6e2cff817c6b05f1f038e2fecd94ad11fa86
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Dec 4 20:08:07 2015 +0100

    sysclk-lwla: Various cosmetic improvements

commit 6d2897e394950bb661a27fd33dbcd14d8c56c61f
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Dec 20 20:20:56 2015 +0100

    Add the Lauterbach Trace32 logic analyzer data import module

commit 8a66b0777ce093fcab54ae9cf89a645cc03c6731
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon Dec 7 20:26:11 2015 +0100

    Add RL64 and RL64S endianness helper macros

commit d01c4c56d57491edb1d430646e88cf5341d878e6
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon Dec 7 20:14:19 2015 +0100

    Whitespace fixes

commit 30726a8a3222e8effcc63c7a25db1546b6d558fd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 21 16:22:44 2015 +0100

    input/raw_analog: Fix two compiler warnings.
    
    ../src/input/raw_analog.c:63:67: warning: integer overflow in expression [-Woverflow]
      { "S32_LE",     { 4, TRUE,  FALSE, FALSE, 0, TRUE, { 1, INT32_MAX+1}, { 0, 1}}},
                                                                       ^
    ../src/input/raw_analog.c:65:67: warning: integer overflow in expression [-Woverflow]
      { "S32_BE",     { 4, TRUE,  FALSE, TRUE,  0, TRUE, { 1, INT32_MAX+1}, { 0, 1}}},
                                                                       ^

commit 21cbe810fe12fbbc93b6f80c950c377528353442
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 21 15:58:03 2015 +0100

    input/raw_analog: Use ARRAY_SIZE.

commit 221cec31fc51ffeeb2ad222bb9e796229fa7e9c4
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun Nov 29 08:03:57 2015 +0100

    input/raw_analog: set scale and offset appropriately

commit e6b15cb5e609c9263f501d3b12965206feddb42b
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Nov 28 19:55:12 2015 +0100

    input/raw_analog: Add input module for raw analog signals

commit 4d376e082cbc17da30cf20d18bec8f65b14b7ae0
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Wed Nov 25 01:41:41 2015 +0100

    analog: add conversion from various integer formats to float

commit 74c9a8d2bd361d59cd6eb6e20c26a37c6f4d12a1
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Nov 28 16:52:08 2015 +0100

    input/wav: initialize channel list before going into ready state
    
    The sr_input_dev_inst_get API documentation guarantees an input is fully
    initialized as soon as the device instance is returned. An sdi
    implementation should not set sdi_ready any earlier.
    
    This fixes parts of bug #387.

commit 7cccc9155c6cdca46deee310be112eb23b374c3b
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sat Nov 28 23:18:50 2015 +0100

    bindings/cxx: make sure the config value reference is kept
    
    fixes glib warning:
    GLib-CRITICAL **: g_variant_unref: assertion 'value->ref_count > 0' failed

commit 8dd5d426f777b47bb3135cc3bb9cde7348801f52
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Sun Nov 29 20:49:40 2015 +0100

    z60_libsigrok.rules: Add udev rule for LeCroy LogicStudio16.

commit c7b17bcba3751c7849229089cce8773bb4355be7
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Thu Oct 8 20:13:53 2015 +0200

    lecroy-logicstudio: Initial driver implementation.
    
    This supports both 8 and 16 channel modes with samplerates up to
    500 MHz. Voltage thresholds are currently fixed at 1.58V.

commit 17b93fd7c0c7af90042eac513d837cf1ec2b5f9c
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Nov 16 19:47:04 2015 +0100

    Add the RB64 macro.
    
    Reads an unsigned 64 bit integer from memory.

commit 8eb4299c5b5dac419b769d2e6581707cec47ea6b
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Nov 8 17:37:34 2015 +0100

    bindings: Fix doc extraction for enums
    
    The source file enum.hpp was not found when not building in the source
    tree.  Also, extraction of the brief description did not work correctly
    when there was additional XML markup inside the <para> element.

commit 8abdf0066e4203eafe5b65ed0a995d4588961126
Author: Hannu Vuolasaho <vuokkosetae@gmail.com>
Date:   Fri Nov 27 20:10:14 2015 +0200

    korad-kaxxxxp: Workaround for Korad device bug
    
    The sixth character from ISET? is read and discarded. If the device is
    turned off and on again, this won't be there and causes 10 ms delay in
    every ISET? Luckily, this value isn't queried that often. To get the
    sixth byte, the *IDN? command has to be issued before ISET?.

commit bcf9384d3d2cad0effb5ef2769697d8af05b8a17
Author: Hannu Vuolasaho <vuokkosetae@gmail.com>
Date:   Mon Nov 30 22:47:56 2015 +0200

    korad-kaxxxxp: Fix typo in Korad driver device enum

commit 17124cf9adf2b1017180bab854bf8a2d50639e0b
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Tue Nov 24 22:31:35 2015 +0100

    output/wav: use the right buffer for SR_DF_ANALOG

commit 8b5aefc681c1d4158ce4c0c95f2a2888ea274a12
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Tue Nov 24 21:03:04 2015 +0100

    input/wav: fix and simplify conversion of integer samples
    
    Size of individual samples is specified by unitsize, not samplesize.
    The sample immediate is not necessary.

commit b944e336d60cb9948b757f47a97b9f3bf145f534
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Tue Nov 24 20:55:14 2015 +0100

    input/wav: increase search range for data chunk, report errors

commit 288f8ce23cf0cf9a66e0ffe824f693009f942d07
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Sun Nov 22 22:14:15 2015 +0100

    input/wav: fix error in offset calculation

commit c7224164a073461d9be8dc54120dc13673e65f61
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Fri Nov 27 00:44:50 2015 +0100

    output/wav: track and free memory for float conversion buffer

commit c01378c95f34e60d3b67f84dc3a6c3c6c154186d
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Thu Nov 26 22:55:55 2015 +0100

    input: fix leak of config data in several input modules

commit da3d141f04e9a17bd41c5adfb5c83369fe3759df
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Thu Nov 26 04:29:28 2015 +0100

    output: fix options memory leak

commit 2dbe445d55f0d7166bb481f4991e10bec4cd2789
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Thu Nov 26 03:07:47 2015 +0100

    output/analog: track and free memory for float conversion buffer
    
    ==18779== 800,000 bytes in 196 blocks are definitely lost in loss record 29 of 29
    ==18779==    at 0x4C29110: malloc (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)
    ==18779==    by 0x4E635C3: receive (analog.c:319)
    ==18779==    by 0x40870B: datafeed_in (session.c:316)
    ==18779==    by 0x4E59D4E: sr_session_send (session.c:1201)
    ==18779==    by 0x4E59F8B: sr_session_send (session.c:1159)
    ==18779==    by 0x4E62595: send_chunk (wav.c:234)
    ==18779==    by 0x4E62A06: process_buffer (wav.c:290)
    ==18779==    by 0x40954A: load_input_file_module (input.c:123)
    ==18779==    by 0x4097AB: load_input_file (input.c:157)
    ==18779==    by 0x40531E: main (main.c:288)

commit 877a6d09d54d48814e8cf27a67eab0756136f2ae
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Thu Nov 26 03:04:39 2015 +0100

    session: free memory for datafeed callbacks, reported by valgrind
    
    ==17549== 32 (16 direct, 16 indirect) bytes in 1 blocks are definitely lost in loss record 22 of 39
    ==17549==    at 0x4C29110: malloc (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)
    ==17549==    by 0x5359200: g_malloc (in /usr/lib64/libglib-2.0.so.0.4200.2)
    ==17549==    by 0x536EE2D: g_slice_alloc (in /usr/lib64/libglib-2.0.so.0.4200.2)
    ==17549==    by 0x5370165: g_slist_append (in /usr/lib64/libglib-2.0.so.0.4200.2)
    ==17549==    by 0x4E595C3: sr_session_datafeed_callback_add (session.c:512)
    ==17549==    by 0x409527: load_input_file_module (input.c:111)
    ==17549==    by 0x4097AB: load_input_file (input.c:157)
    ==17549==    by 0x40531E: main (main.c:288)

commit fe7b8efc6b36aa707365f1d23c645303a5f2307a
Author: Stefan Brüns <stefan.bruens@rwth-aachen.de>
Date:   Thu Nov 26 02:30:42 2015 +0100

    session: fix use after free of session->devs as reported by valgrind
    
    ==7478== Invalid write of size 8
    ==7478==    at 0x4E59182: sr_session_dev_remove_all (session.c:302)
    ==7478==    by 0x4E591CD: sr_session_destroy (session.c:265)
    ==7478==    by 0x4095D9: load_input_file_module (input.c:143)
    ==7478==    by 0x4097AB: load_input_file (input.c:157)
    ==7478==    by 0x40531E: main (main.c:288)
    ==7478==  Address 0x7877eb8 is 88 bytes inside a block of size 96 free'd
    ==7478==    at 0x4C2A37C: free (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)
    ==7478==    by 0x4E5F454: sr_input_free (input.c:573)
    ==7478==    by 0x4095C3: load_input_file_module (input.c:140)
    ==7478==    by 0x4097AB: load_input_file (input.c:157)
    ==7478==    by 0x40531E: main (main.c:288)

commit b3cfc6e98e34e54a11d5a9563f6f7ac282c92983
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 29 00:23:53 2015 +0100

    Make all sizeof() consistently use parenthesis.

commit 09ffac33b7af7bba92f2be461dfb8a01e96e2d60
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Nov 27 23:44:11 2015 +0100

    sysclk-lwla: Simplify trigger mask generation

commit 93ed0241aaf6e791e113b741435fa857891e86c2
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Nov 27 22:47:29 2015 +0100

    sysclk-lwla: Drain pending replies on initialization
    
    When opening the device, drain any pending data from the USB
    buffers so that the device won't get stuck on crashes etc.

commit 567674b4f8a71ff369fad9a31f7d9db00abbd6bc
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Nov 27 21:26:13 2015 +0100

    sysclk-lwla: Remove double USB set configuration
    
    This was a pointless attempt to make the reset hiccups go away.
    It didn't help, the problem must be something else.

commit 7ed808179f5542c903a476266c4b175a6f2a18a7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Nov 27 14:32:28 2015 +0100

    sysclk-lwla: Cut down on size_t overuse
    
    Do not use size_t for values whose width is defined by the device,
    not the host. Also don't use size_t for simple indices with known
    small range, unless type compatibility considerations apply.

commit 43af7604d0910e9831d027d5a53ca806cee8bdfc
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Nov 27 03:19:43 2015 +0100

    sysclk-lwla: Fix copy'n'paste mistake in comment

commit 9e9dba7b41bdd87d4ce442bc9bf6507518e97000
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 27 00:15:15 2015 +0100

    Use the ALLZERO macro in more places.

commit 2c5bdf1bbdf8d68b8ff9b352c790f50f23d90a23
Author: Hannu Vuolasaho <vuokkosetae@gmail.com>
Date:   Wed Nov 25 00:56:23 2015 +0200

    Support for Korad KA3005P

commit 16fc7ee29ffa196d29a20fddd81234792f88b12c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 27 00:16:05 2015 +0100

    korad-kdxxxxp: Rename driver to korad-kaxxxxp.
    
    This matches the supported / supportable devices better.

commit 89b3a0d8d1cd44e3959a5c332954f34d6e9bd685
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 27 00:14:05 2015 +0100

    doxygen: Only use @since on public API functions.

commit 2cdd40205e1532a847a94f96d60ab0611e9db3ed
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 27 00:12:57 2015 +0100

    z60_libsigrok.rules: Add sigrok fx2lafw VID/PID pairs.

commit db0e5c999df2872e9be422a6ec48920eb3f4eb3f
Author: Petteri Aimonen <jpa@git.mail.kapsi.fi>
Date:   Wed Feb 4 17:46:33 2015 +0200

    VCD input: Chunk up the samples in 1MB blocks.
    
    This gives about 100x speed improvement when converting VCD->SR.
    
    Also should allow practically unlimited number of channels.
    
    This fixes bug #551.

commit 3393f185a5109832db68966a44b46204cc5c53c5
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Nov 23 20:36:08 2015 +0100

    session: Remove debug spew on I/O events
    
    This really is a bit much with some drivers that do lots of small
    I/O transfers.

commit e8cd7d602c521ded30497e20cfc2dae35c7012f1
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Nov 22 17:51:05 2015 +0100

    contrib: Add SysClk LWLA1016 to udev rules

commit be64f90b53d09d9720dc6e06ff8ab61d96c03932
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Nov 22 17:45:54 2015 +0100

    sysclk-lwla: Implement support for LWLA1016
    
    Refactor the sysclk-lwla driver to separate the generic logic from
    the model-specific implementation. Based on this, implement support
    for the SysClk LWLA1016 device.

commit ce19d4c6157b2998aa88a2f32670dd7bdcca02e8
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Nov 10 20:52:09 2015 +0100

    sysclk-lwla: Remove global driver instance pointer
    
    Obtain the sr_dev_driver pointer from the device instance so that
    the remaining references to the global di pointer can be removed.

commit e4ce146fefe7cfd475b9d8fdec1101b188b746db
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 21 20:27:25 2015 +0100

    sr_usb_find(): Increase the 'bus' limit to 255.
    
    On some systems it can happen that the USB 'bus' number is a lot larger
    than 64, but sr_usb_find() currently errors out if it is > 64.
    
    Example:
    Bus 250 Device 006: ID 1ab1:04ce 1ab1 DS1000Z Series[...]
    
    Increase that limit so that the code will work everywhere. This bus number
    is queried via libusb_get_bus_number() which returns an uint8_t, so we're
    limiting to 255 here.
    
    Thanks to 'ssi' on IRC for reporting the issue.

commit d79244dc342ae5cc3f402145cc510fd7b030cc1e
Author: Matthieu Gaillet <matthieu@gaillet.be>
Date:   Wed Nov 4 22:58:15 2015 +0100

    serial-dmm: Add support for Velleman DVM4100 & PeakTech 3415.
    
    (both are using the new dtm0660 DMM parser)

commit eed3dec849336f610e75e4bb80961391d4e931ea
Author: Matthieu Gaillet <matthieu@gaillet.be>
Date:   Wed Nov 4 22:58:15 2015 +0100

    Add dtm0660 15-byte DMM protocol parser.

commit b98b70222fd756784e7bb55a4d3356e0e3405679
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 15 19:01:13 2015 +0100

    usb.c: Fix usb_get_port_path() issue on Mac OS X.
    
    Apparently (some versions of) Mac OS X have the same problem with
    usb_get_port_path() as FreeBSD does. Work around this in the same way.
    
    Thanks to hanyazou@gmail.com for the patch!
    
    This fixes bug #673.

commit 382bea8250c8f69fff2f6b947a6ad0d884328610
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 15 16:12:35 2015 +0100

    chronovu-la: Add missing libusb dependencies.
    
    The chronovu-la driver now uses libusb (in addition to libftdi), so add
    a missing <libusb.h> #include and libusb dependency in configure.ac.

commit 67f890d5bb259539b930df15146f138974a849de
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 9 00:38:18 2015 +0100

    chronovu-la: Properly handle multiple devices.
    
    The driver should now be able to cope with e.g. multiple ChronoVu LA8
    and/or ChronoVu LA16 devices being connected to the same PC.
    
    It now also provides the serial number and connection ID, which can be
    used by frontends to differentiate multiple devices.
    
    Also improve the scanopts / drvopts / devopts lists handling.
    
    This fixes bug #504.

commit d0f1fa0758e9f95beac0a431d96dddb86de50760
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 8 17:38:02 2015 +0100

    asix-sigma: Drop unneeded asix_sigma_driver_info.
    
    This is not needed, but also causes linker issues on some platforms.

commit 2c24077466a299ead689c90f01f55f6d86c7386b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 6 18:18:34 2015 +0100

    Constify a lot more items.
    
    This fixes various compiler warnings when -Wdiscarded-qualifiers is used.

commit 45ec8f775680124d49e82251f258104cf4414f17
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Nov 7 22:29:12 2015 +0100

    build: Delete generated files on make clean

commit 7252a09e8fb0b436851ab3fd041d014b0ba4addd
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Nov 7 22:20:19 2015 +0100

    build: Enable uninstall of Java bindings
    
    This is needed for make distcheck to work.

commit 9448951db5de17f6fc969e5bc2e68e5985c6fa27
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Nov 7 22:08:45 2015 +0100

    build: Skip Python bindings during distcheck
    
    setup.py attempts to relink the bindings at installation time,
    which breaks distcheck. Thus, disable the Python bindings during
    distcheck for now.

commit 0a9d05dc7cf555fb29be0780b8274bdec34956e5
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Nov 7 21:57:20 2015 +0100

    build: Distribute missing files

commit 37829c15b5ddbe6f01c6b9373cf026fac9e4fcab
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Nov 7 21:51:40 2015 +0100

    build: Make ChangeLog generation distcheck-safe

commit e5ef649be3167dbb9f6403e2c1d0e2e1b09d3a0c
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Nov 2 21:59:00 2015 +0100

    Constify sr_dev_driver::name and sr_dev_driver::long_name.
    
    This fixes a bunch of warnings when compiling with -Wwrite-strings.

commit 3ba56876b4a5469b0c39a6f162f517ce8610b9e4
Author: jry <jrysig@gmail.com>
Date:   Thu Nov 5 11:41:27 2015 +0100

    asix-sigma: Split into api.c and protocol.[ch] modules.

commit ee95d6bd8b94dfd6ac67d850e17879a4e5875b6a
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Mon Nov 2 17:16:58 2015 +0100

    Java: Remove explicit constructor deletes since SWIG 2 doesn't like them
    
      bindings/java/org/sigrok/core/classes/classes.i:247: Error: \
        Syntax error in input(3).

commit e13648d0416aa0cb3c81f234389c92a30d46d527
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Nov 1 23:29:32 2015 +0100

    Java: Fix leaking global refs
    
    This fixes issue #690.

commit c470ae86dade608f747340f6f0699d657d33fd21
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Nov 1 23:27:41 2015 +0100

    Java: Don't use JNIEnv* captured by lambdas, it may be invalid for the context

commit 908aad38164869c2ecf066a73962a3864c644587
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Nov 1 15:59:47 2015 +0100

    Java: Fill jlongs with 0 when doing SWIG style pointer marshalling
    
    This prevents valgrind complaints and also makes pointer comparison
    from the Java side work.

commit 32fd1edc2333b78c671afd3fc1f87a1bce925bd1
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Nov 1 15:58:00 2015 +0100

    Revert "Java: Avoid dangerous writes via casted pointers"
    
    This reverts commit 865de99391194e45a0e80ea534fc5e27d5287925.
    
    This fixes bug #688.

commit ae2cdde4d20e600480ae2cb86b7488fa13400812
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Nov 1 23:42:21 2015 +0000

    python: Fix string conversions for Python 3.
    
    Fixes bug #478.

commit 5dd538ded0d5873541af7cdf2e54c3e6d8297b49
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Nov 2 14:30:24 2015 +0100

    build: Set CXXFLAGS when building Python module
    
    Set both CFLAGS and CXXFLAGS when executing setup.py to build
    the Python bindings. Newer versions of distutils/setuptools have
    apparently started to pick up the latter when compiling C++.

commit 3d8691326666a32925aa555f3088185ccd5d846b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Nov 1 21:40:28 2015 +0100

    build: Match up Python headers with interpreter version
    
    Check for either Python 2 or Python 3 header files depending on
    the version of the Python interpreter. Also require the module
    version to exactly match the interpreter version.
    
    This may fix bug #645.

commit 8105e82913aface2a430c51ef3e9a45cfce68170
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Nov 1 19:38:40 2015 +0100

    openbench-logic-sniffer: Avoid recreating event source
    
    With the current driver API and the corresponding session event
    handling, it is not possible to destroy and then re-create an
    event source with the same key within the same main loop iteration.
    
    The next generation driver API will fix this problem. But for now,
    just change the driver to make do without that sort of thing. Also
    increase the I/O timeout to 100 ms to be safer in the event of all
    kind of delays the OS environment may induce.
    
    This fixes bug #678.

commit d09a82a8fe04f9554f99c5141dd9eb7552612156
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Oct 30 16:41:30 2015 +0100

    Remove obsolete SR_INPUT_META_MIMETYPE metadata key.
    
    This was never really implemented, since getting the mimetype of a
    file or stream in a cross-platform way is a gigantic tangle.

commit c958ab59d60992504046d73c7bf41db4fd7747fd
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Oct 30 16:38:54 2015 +0100

    input/csv: Remove obsolete mimetype format match.
    
    Mimetypes never worked, and in any case this caused a segfault due to a
    missing SR_INPUT_META_REQUIRED flag.
    
    This fixes bug #681.

commit b04a532fa3fc9d544add735821cc003015f96abc
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Oct 31 16:02:30 2015 +0100

    build: Also look for python-2.7 pkg-config module
    
    Apparently Gentoo names the module python-2.7 instead of python27.

commit 58cc125b0f645726fac9133bf06d3a91b75b8c27
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Oct 31 10:19:51 2015 +0100

    sysclk-lwla: Read full 64 bit of capture duration field
    
    Evaluate all 64 bit of the duration field in the capture status
    record. Although unlikely in practical use, due to compression
    it is possible for the duration in ms to exceed 32 bit.

commit 30f34dbdf0ee8a389b4219ed7808bec64421f3e0
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Oct 31 01:39:03 2015 +0100

    sysclk-lwla: Define constants for long registers

commit 586ff70a2116d36ddd9521704c4531dfc93d6ec1
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Oct 31 01:11:31 2015 +0100

    sysclk-lwla: Clarify use of SRAM control registers
    
    Assign more meaningful names to things and introduce new constants.

commit a6dc3dacab23bf7c8da008f21a03e2a1242e77ea
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 30 15:07:25 2015 +0100

    zip: Provide fallback if zip_discard() is unavailable
    
    zip_discard() was introduced in libzip 0.11, which some systems
    do not have yet. Provide a fallback replacement for zip_discard(),
    and reduce the requirement to libzip 0.10 again.
    
    This fixes bug #674.

commit 014512254abcc74d203376f2e038053b94cf1116
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Oct 29 22:53:25 2015 +0100

    C++: Declare std::default_delete friend as struct
    
    std::default_delete<> is originally defined as struct, not class.
    This does not really make much of a difference, but some compilers
    complain when the struct/class tag is not consistent across all
    declarations of the type.

commit cea8c3124f982606f4b466374c568d0f723b8197
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Oct 29 21:48:49 2015 +0100

    C++: Suppress deprecation warnings from glibmm
    
    Ignore warnings due to use of std::auto_ptr<> in the glibmm headers.
    This should be reverted once glibmm is fixed.

commit 8ebf1469a91b7f7899d84386dee021575752b6d8
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Oct 29 22:39:44 2015 +0100

    build: Use common SWIG defines for Python and Java
    
    Make the Python and Java bindings use the same set of preprocessor
    macros for the SWIG parsing stage, taken from a make variable. Add
    G_GNUC_{BEGIN,END}_IGNORE_DEPRECATIONS to that set.

commit e1172cf847e522b07d063c36c3f54b0a5dc8429f
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 25 03:44:55 2015 +0100

    sysclk-lwla: Read test word twice during initialization
    
    During initialization of the LWLA1034, read the 64-bit test word
    twice and verify the result of the second read only. This better
    matches what the original vendor software does.

commit 3a322bbc3b0f4d79a79cffac00aeb05ff69ce535
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 25 02:26:44 2015 +0100

    sysclk-lwla: Clarify function of registers 10B0 to 10BC
    
    Apparently, these four registers form an interface for indirect
    access to another internal 64 bit wide memory. This is likely the
    same memory as that accessed by the bulk transfer commands 7 and 8.

commit 8e0f9bf782cb9e84a244bbd1b91db96a3f4f56e6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 29 23:59:12 2015 +0100

    Makefile.am: Avoid non-portable -t option for $(INSTALL).
    
    The 'install' tool doesn't have a -t option on all platforms
    (e.g. Mac OS X or FreeBSD).

commit 9e5366df4f83d3f5c0afb1489bb2d4d4ea426e18
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 29 18:51:09 2015 +0100

    korad-kdxxxxp: Minor cosmetics and consistency changes.

commit c40ed60f27a3c918b29f72a73074b97ef0ecfe86
Author: Hannu Vuolasaho <vuokkosetae@gmail.com>
Date:   Thu Oct 22 01:05:37 2015 +0300

    Over voltage and current protection support
    
    Developed against Velleman LABPS3005D and seems to work.

commit b16d975a5c879b817583512b944b57198b71644e
Author: Hannu Vuolasaho <vuokkosetae@gmail.com>
Date:   Wed Oct 21 19:04:37 2015 +0300

    Support for regulation status and fix for mysterious M
    
    Added support for SR_CONF_REGULATION which returns value for CH1
    Also VELLEMAN LABPS3005D (only device currently supported) sends single
    'M' character in beginning of return value, which is specially discarded.

commit 865de99391194e45a0e80ea534fc5e27d5287925
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Oct 26 07:29:50 2015 +0100

    Java: Avoid dangerous writes via casted pointers
    
    Writing to an object through a pointer of incompatible type is
    really evil. Even when the data size matches, it is still a
    violation of strict aliasing rules.
    
    Replace all instances by direct casts of the value, without the
    unnecessary and dangerous indirection.

commit b0b0e2009cae6b1e85992acb5213944aeff5fb53
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Oct 26 05:47:21 2015 +0100

    SWIG: Avoid unseparated template closing brackets
    
    SWIG 2.0.12 fails with a syntax error on ">>".

commit 4aa9a1e5698c74e2295f52313c33804761176fc1
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 23:30:49 2015 +0000

    C++: Catch exceptions from stoi() and stod().
    
    Fixes bug #483.

commit 90bd8829b147b495c0fcd39ede6665a2acefba0e
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 19:26:42 2015 +0000

    java: Add doxygen output directory to .gitignore.

commit f2831ab35b4988930535dfd135884873b1b5b00d
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 16:02:54 2015 +0000

    java: Usable wrapping of Configurable.config_keys().

commit 36e3f6a9cecffe72cfb85f85ed3ea7a43f586fec
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 14:43:15 2015 +0000

    Makefile.am: Make SWIG wrappers also depend on new templates.i file.

commit df979d6dc6949b1d5c3814b177cb71d6c40d03d4
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 14:04:49 2015 +0000

    python: Give all enum values __doc__ strings.

commit ef9643a2bbb9f3c9a93a7a8c54100e32c1b3d3da
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 12:06:20 2015 +0000

    python: Add docstrings for enum constants.

commit 8fb7efe20311903dd8101962107d21a02a9884ce
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 03:01:30 2015 +0000

    java: Add docstrings for enum constants.

commit 0bcdeb90c4d689a8d51797c266c76946619f482e
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 02:07:35 2015 +0000

    C++: Include enum classes when generating documentation.

commit ace872d5296ab7352e94f09746c574db256c07d6
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 01:57:26 2015 +0000

    C++: Declare namespace in enums.hpp so it can be used independently.

commit e5c22906e804f540647ab182d9538499964eb633
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 25 01:39:16 2015 +0000

    java: Make enum values available as normal constants.

commit 564d009e88456e03e11e92a3e4cad4512ebf513d
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Oct 26 07:11:20 2015 +0100

    Java: Remove obsolete SourceCallback interface

commit 9e7176bd00016554a15b2687939d6e7b8536b2eb
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Oct 26 07:04:10 2015 +0100

    C++: Avoid const ref args to appease Java bindings
    
    The Java bindings currently have some weird problem with function
    arguments passed by const reference. Not all types are affected,
    but the collection types that involve custom typemaps are.
    
    For now, revert back to pass-by-value for the problematic types.

commit bf03d63565f60d758f53ecde0b30631463e44609
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Oct 26 05:18:06 2015 +0100

    C++: Use C++98 syntax for default arguments to appease SWIG
    
    Looks like SWIG silently ignores default arguments specified via
    aggregate initialization. This is rather unfortunate, especially
    if the argument types are complex.

commit a98729a742ebbb9df9dbb9ce8aae1cc4c3f1e00d
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Oct 15 19:21:28 2015 +0200

    C++: Replace custom deleters with std::default_delete
    
    Replace custom Deleter classes with std::default_delete<>, declared
    as friend so it can invoke the private destructor. Inexplicably,
    std::shared_ptr<> does not use default_delete<> by default, so it
    is still necessary to explicitly specify the deleter when creating
    shared_ptr instances.
    
    With this, unique_ptr and shared_ptr instances now use the same
    default delete mechanism.

commit f17b45465500f1d1aad58479802018949004cce5
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Oct 15 18:32:44 2015 +0200

    C++: Use smart pointers instead of manual delete
    
    Make use of std::unique_ptr<> to manage the lifetime of members
    or container elements, so that manual invocations of delete can
    be avoided. This also provides for exception safety.
    
    Since std::unique_ptr<> is only movable but not copyable, adapt
    the code to avoid copies and assignments of these pointers.

commit d5d7b09eb76de71a42b780b97aee5f5019d2d799
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 17:57:30 2015 +0200

    C++: Move C struct pointers out of ownership classes
    
    Reduce needless over-generalization. There is no design need
    for the ParentOwned and UserOwned classes to contain the C base
    struct pointer. Instead, just make the _structure pointer a
    private member of each class that needs one.

commit b6ab954d67b584af662323ae79ae6da0fbd3a588
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 17:11:37 2015 +0200

    C++: Rename get_shared_pointer() to share_owned_by()
    
    This makes it clearer that this method assigns the parent
    (owner) reference.

commit 67b82fc9c9b66baacc9f12b7e65a1e4ff0065618
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 17:01:05 2015 +0200

    C++: Use shared_from_this() exclusively on this
    
    Never call shared_from_this() on any object other than "this".
    Adapt the API so that it can be made protected.

commit 21d1bec60e6d69f6f2ef6f3dc3e07219153285c0
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 14:51:51 2015 +0200

    C++: Make most members private instead of protected
    
    Use protected only for members which are actually needed by
    sub-classes. Declare all the rest private.

commit 4c9208a799064a4eb3c76701edf3a007811dbc85
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 14:31:18 2015 +0200

    SWIG: Hack around SWIG segfault on private destructors
    
    Apparently this problem has been fixed in SWIG 3.0.6. However,
    until we can require that version, define "private" as "protected"
    when running the SWIG parser.

commit 15bebf575da5fe1f587a052c3dc254eea1bf7659
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 13:57:42 2015 +0200

    C++: Make value get accessors const
    
    Declare accessor methods that return value members const. For now,
    skip all cases where constness would have to be applied transitively
    to shared objects.

commit a73d49263611b0d65a3ca1ad85bbee592cf1a234
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 12:35:01 2015 +0200

    C++: Make some methods static to match the C API
    
    Context::package_version() and Context::lib_version() do not access
    context state and should be static. However, leave the logging
    related methods alone for now, as making them static would entail
    making the callback data a global static, since the C API lacks
    destroy notification callbacks.

commit 0ab8e5d22bbb82674a825125c4cb23b8f3b78858
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Oct 14 20:56:51 2015 +0200

    C++: Declare all callbacks invoked from C noexcept
    
    If one of these functions does throw an exception, std::terminate()
    will be called. Without this, the behavior is undefined since the C
    stack is not prepared to deal with exceptions.

commit 15914cdb0fc6c4c4e0acd410dd58177d0aa17fd2
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 12:19:27 2015 +0200

    C++: Use noexcept instead of throw()
    
    Runtime-checked exception specifications via throw() are
    deprecated in C++11.

commit c6e18e007a2ee65cc1fe03fb7e86ac5fe47d7907
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 12:12:28 2015 +0200

    SWIG: Define "noexcept" empty to work around SWIG bug
    
    The SWIG 2.0.12 on my system bails out with a syntax error on the
    "noexcept" keyword in C++11 code. Define "noexcept" to nothing (for
    the SWIG parser only) to work around this problem.

commit 6c11b49607bb7f51277983e8aabcfd7a50abaf83
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 11:39:07 2015 +0200

    C++: Make most constructors explicit
    
    Unless implicit conversion is desired, constructors that can be
    called with one argument should be marked as "explicit".

commit ce3e1e6132d7f6242f10bc8b8e205a6714451321
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 10:48:12 2015 +0200

    C++: Do not use C-style casts
    
    Never ever.

commit 58e21229dd553446fd389f75c6f595da9567f886
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 03:38:19 2015 +0200

    C++: Consistently use nullptr instead of NULL

commit d370545d6071690e7a8cc747db1134ced091e0de
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 11 03:12:02 2015 +0200

    C++: Use move() and avoid passing containers by value
    
    Make use of std::move() to transfer arguments passed in by value.
    Take complex container arguments by const reference, as passing
    those by value is rather unorthodox even for C++11 style code.

commit 211cc97471b2b837dbd4a78e796d61cea58a1b04
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 25 23:05:49 2015 +0100

    tests: Drop another obsolete sr_analog_float_to_string() test.

commit a00106b7f819a2e64a65cfe767edae93bf2fb403
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Oct 24 22:27:45 2015 +0100

    scpi: Move closing of discovered devices to sr_scpi_scan_resource().

commit b7b873cea33d23b8368bef067934d03eab45c76f
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Oct 24 21:33:34 2015 +0100

    rigol-ds: After successfully finding a device, close it properly.

commit d0fa4ac1e786490b47b9f4284ad045f65d1e058d
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Oct 21 00:29:50 2015 +0100

    java: Don't use SWIG attribute mechanism.
    
    Using the attribute mechanism results in badly named wrappers like
    getLog_level(), as well as incompletely applied typemaps for templated
    container types. If we just avoid this mechanism entirely, we get the
    same foo() and set_foo() accessors as we have in the C++ API.

commit d4db558810aba7c3ee66510a036f48cecf0d9d0d
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Oct 21 00:20:18 2015 +0100

    java: Remove overrides for overloaded methods.
    
    These are now wrapped correctly without needing this.

commit f3095e7e2e2a4cc034a9253179c04dc5d129e882
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Oct 21 00:18:03 2015 +0100

    java: Remove need for conversion methods on container wrappers.

commit c7855def613435e18c1424ce87ffda8a42f1c53f
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Oct 20 23:14:45 2015 +0100

    SWIG: Declare template specialisations for containers before typemaps.
    
    It seems this is necessary to correctly apply typemaps involving
    these template specialisations.

commit 7977054d61554b6b24195f2255935881a92d935d
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Sep 23 00:30:06 2015 +0200

    scpi_usbtmc_libusb: remove libusb_clear_halt() hack which is not useful anymore

commit a73665a3fa56f5997e20b24cc8c4fb8831ca131f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 24 21:36:20 2015 +0200

    transform/scale: Fix g_variant_new() argument.

commit 938bdc25b766125350ba1fd46f5f95fdc813fb32
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Sep 24 21:43:06 2015 +0200

    scpi_usbtmc_libusb: set_configuration only if it is not already set
    
    This avoids the issues described here:
    http://libusb.sourceforge.net/api-1.0/caveats.html#configsel

commit e40e9ca28d81d5ac43e1cb306390cfb7463b89e8
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Sep 23 00:24:54 2015 +0200

    scpi_usbtmc_libusb: add Rigol DS2000 to the RL1 blacklist
    
    The Rigol DS2000 series also give a USB timeout when trying to apply
    RL1 lock or unlock.

commit 222fdfd526fde6d8450067675679eca6cc5d211b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 24 21:14:50 2015 +0200

    Drop unneeded sr_analog_float_to_string().
    
    A simple g_strdup_printf() is sufficient, no need for an extra
    libsigrok API call here.

commit a5c38703eeea8661e563c30631601b8334dd2b7c
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Thu Oct 15 22:38:12 2015 +0200

    drivers: Fix behaviour when trying to set an invalid capture ratio.
    
    Trying to configure an invalid capture ratio would reset the
    previously configured value. Instead, we should just reject the
    new value and keep the original one.

commit 087c4d59c09ee159700d3f5a01dfe2f77cbf0a8c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 24 20:51:13 2015 +0200

    fx2lafw: Drop obsolete macro usage.

commit 3e91de2bd679e253570df91e4010f2a7c403f8c1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Oct 21 23:41:50 2015 +0200

    fx2lafw: Add the official fx2lafw sigrok VID/PID pairs.
    
    As supported by sigrok-firmware-fx2lafw >= 0.1.3:
    
     - 1D50:608C: fx2lafw-sigrok-fx2-8ch.fw
    
     - 1D50:608D: fx2lafw-sigrok-fx2-16ch.fw

commit 22fb1bffc33b47f575c4b1c967b5051ddb505c5c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 15 19:49:57 2015 +0200

    analog.c: Various Doxygen additions and improvements.

commit 5cee3d08e4943f9b0c844ee85f8c3d4a043cb654
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 15 19:40:59 2015 +0200

    analog.c: Return SR_ERR_ARG upon invalid arguments.
    
    (instead of segfaulting)

commit 8ea0c90268574ccb4ff43344f7bb08f15c776a82
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 15 19:38:02 2015 +0200

    sr_analog_float_to_string(): Make 'digits' argument unsigned.

commit 6b71bf1ba076f697bde8e41dbaa413bb3ec44326
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 15 12:13:43 2015 +0200

    Add a few unit tests for the analog conversion functions.

commit dd13d47a9ef6c9a5c1c1920d8ac57e22bd1d9960
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 2 16:18:35 2015 +0200

    bindings: Use SR_DF_ANALOG, drop SR_DF_ANALOG_OLD support.
    
    All SR_DF_ANALOG_OLD packets are automatically converted to SR_DF_ANALOG
    in the session already.

commit edb691fcedb767093885c61d19d8d490c9c8c9c2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Sep 29 18:34:55 2015 +0200

    SR_DF_ANALOG2 and sr_datafeed_analog2 renames.
    
    Rename SR_DF_ANALOG2 to SR_DF_ANALOG, and 'struct sr_datafeed_analog2'
    to 'struct sr_datafeed_analog'.

commit 5faebab2903dc91949edc31f0a4b118d86090a30
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Sep 29 13:55:46 2015 +0200

    SR_DF_ANALOG_OLD and sr_datafeed_analog_old renames.
    
    Rename SR_DF_ANALOG to SR_DF_ANALOG_OLD, and 'struct sr_datafeed_analog'
    to 'struct sr_datafeed_analog_old'.

commit ca79993bba12e8cb48c4327e92b9c296c10a9866
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Sep 10 00:34:53 2015 +0100

    session: Convert from SR_DF_ANALOG to SR_DF_ANALOG2 automatically.
    
    This fixes bus #640.

commit 453629c1375ff86494f44129aaebbc618b8830cf
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Sep 10 00:19:23 2015 +0100

    output/csv: Support SR_DF_ANALOG2.

commit b73cac758e32a28c56b9f021405b04838face3e3
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Sep 10 00:03:18 2015 +0100

    output/wav: Support SR_DF_ANALOG2.

commit 0662a7d083b29730f376a34cb1b7009b307db979
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Sep 9 23:57:18 2015 +0100

    transform/invert: Support SR_DF_ANALOG2.

commit b1aa4f34bc5f48ed9e08ff63eb762f9b0e4ceb60
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Sep 9 23:49:01 2015 +0100

    transform/scale: Support SR_DF_ANALOG2.

commit 2d237f3ce88eacbaf6ff84a38fd99f2ed6ed0f8f
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Sep 9 23:39:15 2015 +0100

    transform/scale: Use a rational rather than floating point factor.

commit 85aa1b599fdb40d8a8df65744186688f85e53dd7
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Oct 20 21:05:36 2015 +0100

    java: Fix SWIG warnings due to dodgy %extend redefinitions.
    
    If we're going to %extend these methods, we need to firstly ignore the
    originals, and secondly implement all possible argument combinations.
    
    This fixes the rest of bug #417.

commit e66728886ff684e286a2544986116251e4c5531e
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Oct 20 20:38:37 2015 +0100

    python: Prevent warning about deprecated NumPy API.
    
    Without this we get:
    
    /usr/include/python2.7/numpy/npy_1_7_deprecated_api.h:15:2: warning: #warning
    "Using deprecated NumPy API, disable it by " "#defining NPY_NO_DEPRECATED_API
    NPY_1_7_API_VERSION" [-Wcpp]
    
    As far as I'm aware we're not using any deprecated NumPy C API features.
    
    This fixes part of bug #417.

commit fa72105fe621bce7767f2b3512223182f2bf6f33
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Oct 10 04:45:13 2015 +0200

    python: Fix PyObject_CallMethod() arguments
    
    Pass nullptr instead of the empty string for format, and remove
    the excess varargs argument. Also, avoid NULL in favor of nullptr.

commit 2c3c9b999cd5c1130afeeee4094400592c9e1bde
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Oct 10 04:38:54 2015 +0200

    python: Wrap session stop callback

commit ee9953ef12514d833c6719777dfc285d56c0ffc1
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 9 19:46:14 2015 +0200

    session: Make event source injection API private
    
    Also remove the corresponding functionality from the bindings.

commit f91cf612dfde284c8a146417644fbfba05cca1a2
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 9 19:24:51 2015 +0200

    C++: Add bindings for session stop notification

commit 2e5e3df4e4a18e3c539220c650f2e2ba188430c7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 9 15:49:12 2015 +0200

    session: Keep reference to main context while running

commit 5de0fc55a6ac8da084caf427f6131482a40855dc
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 9 02:35:47 2015 +0200

    session: Make sr_session_run() optional
    
    Introduce a new API function sr_session_stopped_callback_set()
    which can be used to receive notification when a session stops
    running. This allows applications to integrate libsigrok event
    processing with their own main loop, instead of blocking in
    sr_session_run().

commit 45d835edc7f1ce505245056021216d4bdc8a0ae0
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Oct 8 20:51:55 2015 +0200

    resource: Do not require size to stay valid after close
    
    Chalk one up for uber-correctness, just in case.

commit 0a4549ff1851180e4ed390132c1233304e07751b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 16 19:48:13 2015 +0200

    Add support for the Tenma 77-7732 multimeter.

commit 20f9f1fbaa6c61019b0dfaef27fdf40010cce0c5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 16 19:38:52 2015 +0200

    Add support for the Tenma 77-9380A multimeter.

commit 896fc9c7231c7567cda84404eb0fcdd889b556a2
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 16 20:45:43 2015 +0200

    build: Require libzip 0.11
    
    This is needed for zip_discard().

commit eaa6a7a3e8f9b62e6aa139f976c243266628263f
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 16 20:35:32 2015 +0200

    srzip: Avoid recent-ish zip_file_add()

commit ef2bcf114f1d40d7016eefc668caf3d91541be34
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 16 21:28:07 2015 +0200

    korad-kdxxxxp: Use PRIi64 format for int64_t

commit b1cadcfbef49ab24dbcf0987b927c4bffa207fcc
Author: Karl Palsson <karlp@remake.is>
Date:   Tue Oct 13 16:19:24 2015 +0000

    drivers: Add support for Tenma 72-7730 multimeter
    
    Tested with a 72-7730 device.
    
    Signed-off-by: Karl Palsson <karlp@remake.is>

commit 739a1ec4f8714ee77f19c393345a67d321982c11
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 13 23:26:40 2015 +0200

    configure.ac: Korad KDxxxxP depends on libserialport.

commit d70830427530115003f3c8a592a853965ba4fc10
Author: Hannu Vuolasaho <vuokkosetae@gmail.com>
Date:   Fri Sep 25 16:43:17 2015 +0200

    Initial driver for Korad KDxxxxP (Velleman LABPS3005D)
    
    With this driver it is possible to set voltage target and current
    limit. Also enabling and disabling the output is possible.
    
    Analog output sends read back values from output. If output is
    disabled analog outputs 0.00.
    
    In protocol.c there is a g_usleep() call. This gives almost
    every time enough time for PSU to parse and process input.
    
    Multichannel devices aren't supported.

commit e75ee7de25d52356ba7cc44b7141b24283e49d1a
Author: Hannu Vuolasaho <vuokkosetae@gmail.com>
Date:   Thu Sep 24 21:58:38 2015 +0200

    korad-kdxxxxp: Initial driver skeleton.

commit a7da85f5299dd4162b26ab9c64224e52b52470ab
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Fri Oct 9 15:52:28 2015 +0200

    baylibre-acme: Fix EEPROM fields endianness.
    
    Use RB32 instead of RL32 since integer types in probe EEPROM are in network
    byte order.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 4c3a4bca321df48455d4484753783dc6da17aa15
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Fri Sep 25 14:48:30 2015 -0700

    baylibre-acme: Read EEPROM contents into buffer before processing.
    
    Instead of using a non-standard packed attribute, read the contents of the
    probe EEPROM into a buffer and then process it using the R* macros.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 453a0c2ece77fc2dc7cb8a3025a1dec9cd5bfb6e
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Sat Sep 19 20:08:26 2015 +0200

    baylibre-acme: Use fixed-size integer types in struct probe_eeprom.
    
    Standard integer types may differ in size on different targets. Use fixed-size
    types instead.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 7f4d69305b1d86cbe3785b5d041dcac1351f0731
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Oct 4 22:11:39 2015 +0200

    C++: Remove leftover Context::begin_save() method

commit 655b116cc102a2ada89e95fd3daa728aa78f10eb
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Oct 3 14:08:32 2015 +0200

    build: Do not define FIRMWARE_DIR on Windows
    
    The hard-coded location is bound to be wrong anyway. Instead, rely
    on the new resource lookup code to find the firmware files in a
    location relative to the library or executable.

commit 127c9cec824721bf52e8951f330d1d5a16c1a9b0
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Oct 3 13:58:50 2015 +0200

    resource: Make definition of FIRMWARE_DIR optional

commit 2c38a41a60b8ebb8137d3b5b14ae652c66af6034
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 2 20:09:46 2015 +0200

    session-file: Use 32-bit int for channel count
    
    SR_CONF_NUM_LOGIC_CHANNELS is defined as SR_T_INT32. Create the
    GVariant with the correct type to avoid a type mismatch error in
    sr_variant_type_check().

commit 5eff221e8c9a84be71a564441c6edf705f8ba8fa
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Oct 2 00:36:10 2015 +0200

    usb: Skip add/remove of FD on destroyed source
    
    This avoids nasty GLib-CRITICALs on Windows with some drivers.

commit e2eaf8580aaa8869a694b3c6af4c7f832a752b31
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 27 00:03:21 2015 +0200

    C++: Wrap resource access API
    
    Introduce a ResourceReader delegate class with virtual methods
    corresponding to the C callback functions.

commit 8e2d6c9db788785466d61fdac4d8fdc1535bc20c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Sep 26 22:41:05 2015 +0200

    drivers: Load firmware via new resource API

commit 7d89fd60e5bce5bbb3271a5ecd54c3c6c63dc6bf
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Sep 26 18:10:28 2015 +0200

    resource: Move sr_file_get_size() to resource.c

commit bee246665b05a59f91ff7d51040cbaee614ab0c7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Sep 26 13:38:30 2015 +0200

    resource: New internal API for accessing resource files
    
    The resource API provides a generic means for accessing resources
    that are bundled with sigrok, such as device firmware files. Since
    the manner of resource bundling is platform-dependent, users of
    libsigrok may override the functions used to open, close and read
    a resource. The default implementation accesses resources as files
    located in one of the XDG data directories or a directory defined
    at compile time.

commit 98654c99daf85bd2a81a9c87f517e800c31e34f2
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 20 20:32:03 2015 +0200

    srzip: Avoid low-level FD-based I/O
    
    Use in-memory buffers instead of temporary files. This avoids
    the need for low-level I/O on the FD returned by g_mkstemp().
    Refactor the code accordingly. Also plug a number of leaks and
    tighten the error checking.

commit 5e1fb33469841b194e606752b865fa0d08b99067
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 20 14:10:42 2015 +0200

    session-file: Remove old session save API
    
    Completely remove the old session save code that has been
    superseded by the srzip output module. Also refactor a bit,
    plug a number of leaks and tighten the error checking.

commit 8d4097ffa69249be0fac8ab5d6a6e1e0b5fc368b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 20 14:07:01 2015 +0200

    virtual-session: Plug ZIP archive leak
    
    Refactor a bit to keep the code manageable. Also allow
    stopping of a running acquisition.

commit 02e49ae5d2e37daa6e3e76a4123000bc5d77ee1f
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 20 14:06:06 2015 +0200

    virtual-session: Advertise all config keys

commit 4619fab47acf4fb0a1c035072c2e8552b4bcbae3
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Sep 19 20:43:25 2015 +0200

    input: Use fseeko/ftello to get the size of a file
    
    Introduce the sr_file_get_size() utility function to retrieve the
    size of an open FILE stream. This is based on fseeko() followed by
    ftello(), which are POSIX functions but quite portable in practice.
    Since these calls operate on FILE streams instead of filenames, the
    issue of filename encoding no longer arises.

commit 5e364d4fe0b6367717d7dcf3389685b8fe985211
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Sep 19 00:24:50 2015 +0200

    input: Clean up input file scanning
    
    Do not use Unix low-level I/O for reading a regular input file.
    Read in the file header once and re-use the buffer for all input
    modules participating in the scan. Also re-use a prefilled metadata
    table instead of creating it anew for each input module tried.

commit ff85d65ec69bdc53b258d20df64e5cd022339f30
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Sep 30 19:42:19 2015 +0200

    drivers.c: Fix HAVE_HW_GWINSTEK_GDS_800 position.

commit b11afbb142a9ddc3fd2c99f3d3be39683cdec4ac
Author: Martin Lederhilger <martin.lederhilger@gmx.at>
Date:   Sun Aug 16 19:52:02 2015 +0200

    gwinstek-gds-800: Initial driver implementation.

commit 7c198f968b8145321e3b7066c2a549b028a6320b
Author: Martin Lederhilger <martin.lederhilger@gmx.at>
Date:   Sun Aug 16 14:52:49 2015 +0200

    gwinstek-gds-800: Initial driver skeleton.

commit 6e799d0799abb2c8c0ca75238fff902e31453108
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Sep 25 09:00:05 2015 +0200

    manson-hcs-3xxx: Fix use-after-free and memory leaks.
    
    Thanks to Hannu Vuolasaho for the report!

commit e57057aee778e723da572a6b5e2bd01526cc7beb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Sep 25 08:52:58 2015 +0200

    Fix a few "value never read" scan-build warnings.
    
    This fixes parts of bug #423.
    
    The list of fixed warnings:
    
    src/output/srzip.c:285:3: warning: Value stored to 'ret' is never read
                    ret = zip_append(o, logic->data, logic->unitsize, logic->length);
                    ^     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    src/scpi/scpi.c:610:2: warning: Value stored to 'ret' is never read
            ret = SR_OK;
            ^     ~~~~~
    src/scpi/scpi.c:667:2: warning: Value stored to 'ret' is never read
            ret = SR_OK;
            ^     ~~~~~
    src/dmm/vc870.c:410:2: warning: Value stored to 'info_local' is never read
            info_local = (struct vc870_info *)info;
            ^            ~~~~~~~~~~~~~~~~~~~~~~~~~
    src/hardware/conrad-digi-35-cpu/api.c:130:2: warning: Value stored to 'ret' is never read
            ret = SR_OK;
            ^     ~~~~~
    src/hardware/fx2lafw/api.c:658:2: warning: Value stored to 'timeout' is never read
            timeout = fx2lafw_get_timeout(devc);
            ^         ~~~~~~~~~~~~~~~~~~~~~~~~~
    src/hardware/gmc-mh-1x-2x/protocol.c:941:3: warning: Value stored to 'retc' is never read
                    retc = SR_ERR_ARG;
                    ^      ~~~~~~~~~~
    src/hardware/gmc-mh-1x-2x/api.c:168:2: warning: Value stored to 'model' is never read
            model = METRAHIT_NONE;
            ^       ~~~~~~~~~~~~~
    src/hardware/ikalogic-scanalogic2/api.c:325:2: warning: Value stored to 'ret' is never read
            ret = SR_OK;
            ^     ~~~~~
    src/hardware/openbench-logic-sniffer/api.c:185:3: warning: Value stored to 'devc' is never read
                    devc = sdi->priv;
                    ^      ~~~~~~~~~
    src/hardware/rigol-ds/api.c:813:3: warning: Value stored to 'devc' is never read
                    devc = sdi->priv;
                    ^      ~~~~~~~~~
    src/hardware/scpi-pps/api.c:405:2: warning: Value stored to 'ret' is never read
            ret = SR_OK;
            ^     ~~~~~
    src/hardware/yokogawa-dlm/api.c:239:2: warning: Value stored to 'ret' is never read
            ret = SR_ERR_NA;
            ^     ~~~~~~~~~

commit 36cbd69e12d8957592c94420d98552bb00d67be6
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 22 16:12:01 2015 +0200

    demo: Strictly round up the number of samples to send
    
    This avoids getting stuck when the time limit is less than
    half of the sampling interval.

commit 98c01fe1277e5a386377347635a8a7fee8abc534
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 22 06:54:33 2015 +0200

    demo: Increase timer interval to 100 ms
    
    Timer intervals shorter than about 100 ms are unnecessarily taxing
    on system resources. Also, on systems like Windows the smallest
    resolvable time unit without using high precision timers is about
    15 ms. Regular timer intervals should be well above that value to
    avoid being dominated by noise and round-off.

commit a49a320deaddbcc8caedb3247a695b97e22b37b3
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 22 06:49:17 2015 +0200

    demo: Fix continuous mode and honor time limit
    
    Also deal more gracefully with changes to the samplerate while
    running.

commit 01b062390aa2fa488571f02b743fc4e6e6167657
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 22 00:53:28 2015 +0200

    scpi/usbtmc: Add Agilent DSO1000 series to RL1 blacklist.
    
    These are rebadged Rigol DS1000 scopes, and suffer from the same USBTMC
    implementation.

commit de285cce11aca3afd0d4adfdd514c691e6a71c64
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 21 13:45:36 2015 +0200

    scpi/usbtmc: Implement Rigol DS1000 workaround on any firmware version.
    
    Firmware versions starting with 00.02.04 apparently cause the in and out
    bulk endpoints to end up in a HALT state. This is likely related to the
    larger transfer size quirk implemented in the Linux kernel for the Rigol
    DS1000: this USBTMC implementation does not have that workaround.
    
    Instead, if the firmware version is >= 00.02.04, both endpoints have the HALT
    condition cleared on device close.
    
    This fixes bug #354.

commit 04229f7bfc750f2b67e8dd54ac82ae6bb7eae1e4
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 21 13:41:03 2015 +0200

    scpi: Pass SCPI device instance to open and close callbacks.
    
    Only close() really needs this (for access to a Rigol firmware quirk),
    but do the same in open() for consistency.

commit 27cd728f8a52026be5d83890c3d911fa29ee62f9
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 21 12:39:33 2015 +0200

    scpi/libgpib: Fix format argument in error message.

commit 6703bb2983deb65a3ce162acbae251ee487fb6af
Author: Scott Allen <saydisp-git@yahoo.ca>
Date:   Fri Sep 18 21:42:24 2015 -0400

    Fix RadioShack 22-812 DMM incorrect readings.
    
    The wrong byte was being used to test for the nano indicator.
    
    This resulted in reported resistance and capacitance readings being off
    by orders of magnitude.
    
    This fixes bug #657.

commit 115826529c6e7b69aff731c87e54ecb19cc2b649
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 19 16:28:52 2015 +0200

    scpi/usbtmc: Implement blacklist for RL1 feature.
    
    This is initially for the Rigol DS1000 series which pretends to support
    RL1, but doesn't.

commit b07a1b04e5da31e02b45ddd32e6b006b0329e02c
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Sep 7 09:15:52 2015 +0100

    sr_analog_to_float: Avoid comparison between signed and unsigned.
    
    The check for p == q is basically checking whether p/q == 1. We should
    be normalising the rational before it gets here though, so in this case
    we should have p == q == 1 here.

commit 53e5d3d14d30707ea7d84e75e469314a0ae570bf
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Sep 9 23:41:27 2015 +0100

    sr_rational_set: Accept signed numerator.

commit 18ea6b76fdc77c4b1c1cc08bea4cd42d465787e6
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Sep 7 09:15:35 2015 +0100

    sr_rational: Make numerator signed.

commit 83c1dbd9b547edc3f0aec80d7427b14672654d4a
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 5 18:26:30 2015 +0100

    sr_packet_free: Support SR_DF_ANALOG2.

commit dbdfa4fb50f1ecf16b1d88d0d938c6235474128d
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 5 18:22:33 2015 +0100

    sr_packet_copy: Support SR_DF_ANALOG2.

commit 7d65dd3a8654ff303c76b917865941e3ae379458
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Sep 17 18:14:09 2015 +0100

    sr_analog_to_float: Support packets with multiple channels.

commit 3e27754989f631bd059d2797c61cdf1c884b1f1e
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Sep 17 02:04:19 2015 +0100

    sr_analog_to_float: Fix byte reordering.

commit fa74a26bc94c718bf1b965d553e89c29b4d7133c
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Sep 10 00:45:32 2015 +0100

    output/analog: Allocate correct buffer size for sr_analog_to_float().

commit 39e0113533dedca8f929fcf682881f1c5afee362
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 5 18:03:23 2015 +0100

    sr_packet_copy: Allocate memory to copy analog data.

commit 2a8f2d41adcd0aa9e498c4eea2a5f82263039e5c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 19 17:59:54 2015 +0200

    No need to check return value of libusb_get_device_descriptor().
    
    Since libusb 1.0.16 this is guaranteed to always succeed.
    
    This fixes bug #658.

commit 8de8551b8809b0818c20690c3014df6e6c4ee7fc
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 19 17:58:22 2015 +0200

    Remove unnecessary call to libusb_get_device_descriptor().

commit 069d9f25d9f63e35885a7e4c83e8587f0356d8f9
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Sep 20 16:43:43 2015 +0200

    scpi-pps: cleaner rewriting of output regulation GVariant

commit d66c93ccdafabffc0dda4f16bf3924a829cdb3bd
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Sep 20 16:22:21 2015 +0200

    scpi-pps: sr_scpi_get_string() is already called by scpi_cmd_resp()
    
    This double call was causing the following error:
    sr: scpi_usbtmc: USBTMC bulk in transfer error: LIBUSB_ERROR_TIMEOUT.

commit 6ab604c5c2001b5d47a00ce635c0a2438bed4d06
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Sep 20 16:19:48 2015 +0200

    scpi: add obviously missing else statements

commit 485a285abea07fa296ee56517cf95b4dbab69e29
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Sep 20 16:18:18 2015 +0200

    scpi: don't stop parsing table at command 0 which is a valid command
    
    command 0 is SCPI_CMD_REMOTE

commit 06f63a749ea15ae88e8183404a0d6e3d1fd85de3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Sep 20 16:15:01 2015 +0200

    scpi: scpi_cmd_resp() shouldn't return SR_OK without filling the gvar
    
    scpi-pps at line 212 assumes that an SR_OK return means that the gvar
    is valid, which leads to the following error:
    ** GLib:ERROR:/build/glib2.0-2.45.8/./glib/gvarianttypeinfo.c:184:g_variant_type_info_check: assertion failed: (0 <= index && index < 24)

commit baed0211a1ecada69c5ab53cf979e2e543a0ceaa
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Sep 17 23:31:04 2015 +0200

    scpi/usbtmc: Support RL1 feature.
    
    This automatically locks out local controls when a USBTMC device is
    opened, and returns local control on close.

commit b41bbfdbe2ae6076a6e074ef9652d299657e83fd
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Wed Sep 16 15:24:40 2015 +0200

    baylibre-acme: gpio: Don't set direction in get/set functions.
    
    GPIO direction should be set once right after exporting. There's no need
    to reset it again - in fact it's a bug which causes the probe to be reset
    every time the value is read/set and gives incorrect results when reading
    the GPIO values with direction == 'in'.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 4678bdb60792377cec015d7e18cf8ffd80419c69
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Wed Sep 16 14:18:11 2015 +0200

    baylibre-acme: Add basic support for ACME revB.
    
    Revision B of ACME hardware introduces probes with on-board at24cs02
    EEPROM. Extend the ACME driver to support reading the contents of
    the EEPROM via linux' sysfs interface.
    
    Also: make the driver be able to tell the difference between revisions,
    add new GPIO layout and set the shunt resistance for revB at probe
    registration.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 8f1961209b399eb29933168e8126e59b5943f854
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Wed Sep 16 13:30:54 2015 +0200

    baylibre-acme: Check for power-switch presence at probe's initialization.
    
    Only perform a single check at initialization time to see if the probe is
    equipped with a power-switch. This is done in preparation for revision B
    support which has this kind of information encoded in EEPROM.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 133016f6ab9fe8a360d5cfc13d0b6ac68cc14bcf
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Wed Sep 16 10:55:42 2015 +0200

    baylibre-acme: Move enum channel_type to protocol.c.
    
    This enum is private and only used within protocol.c. Don't expose it
    in protocol.h.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit ad6181e25ea04c1cfed6bd89d108a60454ab6cb6
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Sep 16 22:35:13 2015 +0200

    sysclk-lwla: Set USB device configuration
    
    After opening the USB device, set the device configuration to 1.
    Actually, do it twice, just as the vendor driver seems to do. This
    is supposed to trigger a lightweight reset of the device.
    
    Originally, I omitted this reset sequence from the sigrok driver
    because it simply did not work at all for me. However, it does seem
    to work now, so that may have been a problem in libusb or the kernel
    which is now fixed.
    
    With some luck, this change may finally fix #327.

commit c81069b33760f6de36466410ad4bbc9cb762e938
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Sep 16 21:31:42 2015 +0200

    sysclk-lwla: Clean up open/closed state handling
    
    Use states SR_ST_ACTIVE and SR_ST_INACTIVE to indicate that the
    device is open or closed, respectively. Do not use any of the
    other state values. Improve the robustness of the open and close
    methods in face of errors. Introduce a separate flag to indicate
    that a running acquisition should be canceled.

commit 225d3cb0c52fc3df5b26fec94d3b3d2de796a41c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 30 18:20:41 2015 +0200

    sysclk-lwla: Streamline trigger setup logic
    
    Prepare the trigger masks at config_commit() time, so that the
    trigger setup can be validated before starting an acquisition.
    Accordingly, do actually report validation errors back to the
    caller.

commit 2a09aac26862e8b8c88baa74634f6cb8f62352fc
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Sep 16 23:33:45 2015 +0200

    fx2lafw, sysclk-lwla: Avoid g_stat()
    
    It turns out that g_stat() breaks apart when using 64 bit stat on
    32-bit systems. Since the actual type of GStatBuf is decided when
    glib/gstdio.h is included, it is thus possible for GLib itself to
    be compiled with a different type than user code.
    
    Ouch. Unfortunately going back to plain stat() also means that we
    lose Unicode filename support on Windows.

commit eb2373f1674706bd050c9b7c00927e42b70ea0f2
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 15 18:26:51 2015 +0200

    configure: Check for numpy Python module
    
    This fixes bug #533.

commit 9851d35b0aa4745f93a4812af8f25d21de041020
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Sep 10 18:52:15 2015 +0200

    lascar-el-usb: Fix copy-paste errors.

commit 3182d4ebb3618e8745e83650f2568bf42d612f93
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 14 17:54:48 2015 +0200

    Makefile.am: Shorten ChangeLog target a bit.

commit 1a65c5e86fc040608160c77a57008f69b3fd05ca
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 14 00:01:18 2015 +0200

    motech-lps-30x: Fix blocking serial write timeout.
    
    This fixes bug #438.

commit d545c81c96b5058e52e5354269972876026dd7e3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 14 00:00:22 2015 +0200

    norma-dmm: Fix blocking serial write timeout.
    
    This fixes bug #434.

commit 936b1c00e86855b854390d8cdb54ccb3d631dec0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 13 23:57:32 2015 +0200

    gmc-mh-1x-2x: Fix blocking serial write timeout.
    
    This fixes bug #432.

commit 8b9eb639b2e12ab2f9d710af7342f26283747904
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 13 23:55:22 2015 +0200

    conrad-digi-35-cpu: Fix blocking serial write timeout.
    
    This fixes bug #430.

commit b9ed8eabfd5cc35cfc2c7b61d5d64fa18b478205
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 13 23:53:55 2015 +0200

    brymen-dmm: Fix blocking serial write timeout.
    
    This fixes bug #427.

commit 84d328ac9810d4b210ef1b0fd04c7f47bde1f928
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 13 23:48:09 2015 +0200

    center-3xx: Fix blocking serial write timeout.
    
    This fixes bug #428.

commit 5360d6d70684bc4e3ed4bbe31c842242b9d32761
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 13 23:47:16 2015 +0200

    mic-985xx: Fix blocking serial write timeout.
    
    This fixes bug #433.

commit 896e1a45e0f7004a993c9d5d7928f284f2ba91cf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 13 23:20:03 2015 +0200

    manson-hcs-3xxx: Fix blocking serial write timeout.
    
    This fixes bug #437.

commit 32c45845f70c41137cbfa7e772bf79791e269895
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 13 22:44:40 2015 +0200

    tondaj-sl-814: Fix blocking serial write timeout.
    
    This fixes bug #436.

commit 428d79a810fd4e2b905faf06f0b2e6cadaed82fe
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 13 21:43:17 2015 +0200

    Drop obsolete SR_CONF_MEASURED_2ND_QUANTITY.

commit 000f504f246f713a86d653e0d6ee6c98a07e74fd
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 13 20:12:12 2015 +0200

    classes.cpp: Define _XOPEN_SOURCE for isascii()
    
    The GNU libstdc++ headers use isascii(), which is not part of any
    POSIX standard. On BSD, this breaks the build. It is however part
    of XOPEN, which on Linux is apparently enabled implicitly for C++.
    
    This should fix #649.

commit 56c8705e37314dafe35b680d2254b6f844e0ecc2
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 13 18:35:28 2015 +0200

    Build: Move _POSIX_C_SOURCE definition to config.h
    
    Do not redefine it though when already set, so that it can be
    overridden by the user, or indirectly by the compiler settings.

commit 6ec6c43b4738dbc7091f4a49a4ec80ea6102cb52
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 13 18:22:17 2015 +0200

    Build: Include <config.h> first in all source files
    
    Since Autoconf places some important feature flags only into the
    configuration header, it is necessary to include it globally to
    guarantee a consistent build.

commit 4d6a50085ea9ea4f25850b22737f621a3e13d953
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Sep 11 23:22:54 2015 +0200

    libsigrok-internal.h: Remove unused prototypes
    
    The sr_source_* prototypes are not used anywhere, so remove them.
    Also get rid of the SERIAL_PARITY_* aliases for SP_PARITY_*.

commit cbc1413f31f3946ce79da5540cfbeace8924c9d1
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Sep 11 23:08:10 2015 +0200

    serial: Make serial device event sources more robust
    
    Disallow polling for input/error and output-ready events at the
    same time, and ensure only a single FD event source is installed.
    Also, do not leak if the FD event source is removed by means
    other than calling serial_source_remove().

commit 0c536bcd004aa4b4f0ba9673b4d460551e8b16c1
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 13 15:39:04 2015 +0200

    Fix two more format warnings uncovered by MinGW build

commit 7419638d4c5d21dadccfd8f234c5671c5330dc33
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 13 15:07:54 2015 +0200

    Build: Force ISO-conforming format syntax on MinGW
    
    On MinGW, two implementations of printf() are available: either
    the Microsoft native one or a standard-conforming replacement from
    gnulib. Since we build in C99 mode, headers such as <inttypes.h>
    already select the standard-conforming variant. However, MinGW's
    GCC does not seem to know about this and assumes MS-style format
    syntax by default, which triggers a lot of wrong warnings.
    
    Thus, on MinGW, explicitly decorate sr_log() with the gnu_printf
    format flavor attribute. Also use GLib's printf replacements in
    the logging implementation to make sure we link to a conforming
    printf on any platform, independently of the compiler flags.
    
    This gets rid of the mistaken -Wformat warnings for sr_log(), but
    does not cover functions such as g_strdup_printf() which do not
    explicitly specify the gnu_printf flavor in the format attribute.
    This can be overcome by adding "-D__printf__=__gnu_printf__" to
    CPPFLAGS, but it would be inappropriate for libsigrok to define
    this on its own.

commit 22c50ed973443db12a5569dbc3d698bf98167833
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 13 12:32:03 2015 +0200

    log: Bring back the "sr: " default log prefix
    
    This got lost accidentally with the removal of the logdomain API.

commit 782b16447b25ce31d41764ae91681a6aa4f3fe0d
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 13 11:58:44 2015 +0200

    log: Remove sr_log_logdomain_{get,set} from the API
    
    The confusingly named sr_log_logdomain_set() simply set a global
    string prefixed to the log message by the default log callback.
    This is pretty much useless, misleadingly named, and not used by
    either sigrok-cli or PulseView.

commit 6433156c3275df933e4bf6dcfb020c91fca0ae86
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 13 02:29:38 2015 +0200

    Fix log varargs bugs indicated by -Wformat
    
    A few of these were pretty serious, like missing arguments,
    passing integers where a string was expected, and so on.
    In some places, change the types used by the code rather than
    just the format strings.

commit 6d9da8efbf1429301922eb7ab1551866362544ab
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Sep 13 00:58:36 2015 +0200

    log: Output timestamps at level SR_LOG_DBG too
    
    SR_LOG_DBG and above are targeted at developers, so it makes sense
    to extend timestamp output to that. Also sanitize the calculation
    of the timestamp components a bit.

commit be92d5b4ee4a7ebc5096e9e4718be0ed34ce690c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Sep 12 22:41:22 2015 +0200

    log: Use generalized sr_log() to implement logging helpers
    
    Get rid of the specicialized sr_err(), sr_warn(), etc. functions.
    Instead, define the logging helper macros in terms of sr_log(),
    and remove the sr_log() helper macro so that no function is hidden
    by a macro anymore.
    
    Decorate sr_log() with G_GNUC_PRINTF to detect varargs errors. This
    unearthed a gazillion warnings all over the place which will have
    to be fixed.
    
    Also convert the helper macros to ISO C99 __VA_ARGS__ style instead
    of relying on a GNU C extension. Paste the log prefix directly into
    the format string to make this work.

commit ab0b34584c94349c12ad7b33fb6b52f4f1242755
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Sep 11 19:15:55 2015 +0200

    session: Return immediately if there are no event sources
    
    Some drivers, such as zeroplus-logic-cube, run everything they do
    right away in dev_acquisition_start(), never installing any event
    sources. Handle that evilness by returning from sr_session_run()
    immediately if there are no sources.

commit c2bf5506ee7864975917a7b6e7e93b78226887ce
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Sep 10 09:46:45 2015 +0200

    session: Port to GLib main loop
    
    Replace the custom session main loop with the GLib main loop.
    This is phase one of the port, which leaves the session and
    driver APIs unchanged while replacing the internals.

commit 041b579d530af4c9bbdb534d0c932c177f1b9014
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Sep 10 20:41:55 2015 +0200

    serial: On Windows, include <windows.h> for HANDLE

commit 69f68553ae4004d74a702b60274754ef7b93cc14
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Sep 10 19:38:10 2015 +0200

    sigrok.m4: Remove SR_PROG_MAKE_NO_PRINT_DIRECTORY

commit bcc3694ff76ce61ab3754b4ad3e1a27bc8ea162b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Sep 10 19:35:17 2015 +0200

    Build: Use GNUMAKEFLAGS for --no-print-directory

commit 96e05afa77df9d3ee49ba602503476a798f4db06
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Sep 10 18:36:30 2015 +0200

    hung-chang-dso-2100: Enable only if libieee1284 is available

commit c9404469185faf035390aeb6ced077a70601b756
Author: Daniel Glöckner <daniel-gl@gmx.net>
Date:   Mon Sep 7 02:18:14 2015 +0200

    hung-chang-dso-2100: Add driver
    
    The Hung-Chang DSO-2100 is a parallel port PC oscilloscope sold back
    in 1999 under brand names like Protek and Voltcraft.
    
    This inital version of the driver has the following limitations:
    
     - Hardcoded calibration values. All parameters are set to 50%.
     - No support for auto triggering
     - No support for TV sync trigger modes
     - No support for the "scroll acquisition" mode
    
    In scroll acquisition mode the device behaves more like a multimeter
    and reports the current voltage of a probe on request. While in this
    mode the sample rate is limited by the parallel port interface, it is
    the only way to capture both channels at the same time (well, sort of).
    
    Calibration would need auto triggering. The calibration values are very
    temperature dependent and the device takes literally hours to reach its
    final temperature. Every vdiv setting needs its own set of calibration
    values. Without hardware modifications, the calibration settings wear
    of in less than a second while waiting for a trigger because the
    capacitors storing those values are not recharged in state 0x21.

commit 05ac4a9828fc73bee0d420e96104d9cf3c5b658a
Author: Daniel Glöckner <daniel-gl@gmx.net>
Date:   Mon Sep 7 02:18:13 2015 +0200

    hung-chang-dso-2100: Initial driver skeleton.

commit 7237e91262251a138cf150f9fcfe7b05d0e5904b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Sep 9 09:16:58 2015 +0200

    portability: Use g_strerror() in favor of strerror().

commit 34577da641d836dcf27433fee3c6384565ca7847
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Sep 9 09:17:59 2015 +0200

    portability: Use g_ascii_strcasecmp() in favor of strcasecmp().
    
    This is more portable and guaranteed locale-independent.

commit ba3070ff3412bd547d2f1554430818de9f003733
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Sep 9 08:21:01 2015 +0200

    Makefile.am: Use @ORDER@ instead of |.
    
    This is set to | (or left empty) by SR_PROG_MAKE_ORDER_ONLY for
    portability reasons, since not all Make implementations support
    order-only prerequisites.

commit fd31865ef42ad6b48f47a616c1aebd9e5b4c1ec1
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Sep 7 12:32:05 2015 +0100

    Don't rebuild Python or Java bindings unless C++ interface changes.

commit 42f4619d6b436e1db7685692281ae60999527106
Author: Soeren Apel <soeren@apelpie.net>
Date:   Tue Sep 8 19:09:54 2015 +0200

    Fix #550 by allowing an empty trigger match list
    
    1e7659609bddd40471faf9a8e81ee7554d77dce9 is related
    to this change and required to fix #550 as well.

commit 1e7659609bddd40471faf9a8e81ee7554d77dce9
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 8 14:25:10 2015 +0200

    Don't free trigger when destroying the session.
    
    The trigger must be freed by the client.

commit 4512ccd36c141fb881f4cfbbc607a727182b69a6
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 8 04:47:46 2015 +0200

    Build: Show compiler versions in summary

commit a6e8a8f766359e098fb12e8e015137223cd7437e
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 8 04:42:22 2015 +0200

    sigrok.m4: Add SR_PROG_VERSION macro

commit c178386178e60347d81cd818d5f5bf163fa7ebe7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 8 04:10:44 2015 +0200

    sigrok.m4: Suppress make variable for ORDER

commit 39cf2004dc389632cf5bbae9557ed0ee7c86f1e9
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 8 04:02:04 2015 +0200

    Build: Fix restore of LIBS after temporary change

commit 1b8d3a6d09c277d7401bc9d8a1e24c45f01e8f8a
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 17:27:54 2015 +0200

    session: Compile USB-specific code only if available

commit c1adbb1e235629d62be02e8b579478ed1594da44
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 15:01:52 2015 +0200

    Build: Add configure check for libusb event-abstraction
    
    This is intended to make people notice when libusb is too old
    for the new Windows code. However, this is not foolproof, since
    the libusb version may be different at runtime.

commit 534b634ce2e58682d454c5b61ea9f94408dc01e4
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 12:41:29 2015 +0200

    USB: Handle live changes to the set of FDs to poll
    
    Introduce new internal session API for changing the set of polled
    file descriptors for an already installed event source. Use the
    new API to apply changes to the USB poll FDs when requested to do
    so by libusb. Doing so is necessary to make the generic USB code
    work on Windows.

commit 1b0c6b6d1539b7b49bd1d6cdfab13feb8ddfd795
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 08:50:29 2015 +0200

    USB: On Windows, assume G_IO_IN for the event mask

commit 3a1a6d6b04d7937f025adb557c9051fb21dffa92
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 07:25:51 2015 +0200

    session: More main loop debug output

commit 4b9e2532135a07cfda6e2ac7a68c69486411b2b7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Sep 4 23:47:08 2015 +0200

    USB: Remove Windows-specific event handling code
    
    For the generic code to work on Windows, a version of libusb
    with the experimental event-abstraction changes is required.

commit 2defc4116b57a73a69c1ad284a22bd2b2f7d8c68
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 23:57:03 2015 +0200

    sigrok.m4: Update serial

commit 3841c4c58db129870722e004ef0a96286bc3caab
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 23:38:52 2015 +0200

    Build: Use SR_PROG_MAKE_NO_PRINT_DIRECTORY

commit 82b01e42f8c1bace29fb273417571543548618ad
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 23:38:28 2015 +0200

    sigrok.m4: Add SR_PROG_MAKE_NO_PRINT_DIRECTORY macro

commit 6aa7fcf16a7ff39f85612d7aae39a7df20ae7ea1
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 22:32:13 2015 +0200

    Build: Show compiler and flags in configure summary

commit 5b9e9bba746c25f3b3f0a962dc5586eef3d78197
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 22:28:14 2015 +0200

    Build: Use SR_PROG_MAKE_ORDER_ONLY
    
    As of now, the resulting substitution @ORDER@ is unused.

commit c2b0f42989bb0f206e736dff5ac5946d93618545
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 22:24:44 2015 +0200

    sigrok.m4: Add SR_PROG_MAKE_ORDER_ONLY macro

commit 8c2024e021895aa129f4bf607dfc2f6cab8640d1
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 21:49:17 2015 +0200

    Build: Implement libieee1284 check via SR_ARG_OPT_CHECK

commit 38662688e8063cc21612629b06fca1c5b3f4af04
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 21:18:50 2015 +0200

    sigrok.m4: Add generic macro for optional dependencies
    
    Provide SR_ARG_OPT_CHECK, a generalized variant of SRG_ARG_OPT_PKG
    that can be used with custom check commands. Implement the latter
    in terms of SR_ARG_OPT_CHECK.

commit aff94d065e3ef50fa022b3e79b0dc435ae2c5b0a
Author: Martin Lederhilger <martin.lederhilger@gmx.at>
Date:   Mon Sep 7 22:43:20 2015 +0200

    scpi: Fix incorrect serial_read_nonblocking call().
    
    There was a problem in scpi_serial.c in the scpi_serial_read_data()
    function. Incoming data was written at the read position in the buffer,
    although it should be written at the count position in the buffer.

commit dd7a4a71caf4a0c0a7d2a24b780cbdffd6602621
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Sep 7 14:33:30 2015 +0200

    drivers: Match dummy FD passed to source add/remove

commit 5a7d8dac9042e5db6f2e058f20d7344ad322d17a
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Sep 5 03:56:16 2015 +0200

    USB: Handle the case of a callback removing its event source

commit 358c4ed5b8d9c010cfe78ca44607a2b376593cee
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Sep 4 18:51:55 2015 +0200

    USB: On Windows, block to wait for libusb events
    
    This is another attempt at getting the mess that is libusb event
    handling on Windows under control. Until libusb makes its HANDLEs
    available for polling, we have no choice but to block while waiting
    for libusb events. Since we do not want to force drivers to deal
    with multi-threading issues, that means we have to block in the
    session main loop.
    
    Fortunately, it turns out that our drivers aren't using multiple
    event sources, so it is actually possible to block the main loop
    without disrupting too much. This also gets rid of the USB thread
    on Windows. Thankfully, libusb does not seem to care that we are
    now calling libusb_handle_events_timeout_completed() twice per
    iteration: first a blocking call (with timeout) in the callback
    wrapper, followed by the non-blocking call in the driver-supplied
    callback.

commit 92248e7821d6ed98390088dab3a4edd329ef414a
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 1 03:36:03 2015 +0200

    session: Allow multiple poll FDs per event source
    
    Turns out that having one event source per libusb poll FD is
    a bad idea. There is only a single callback for all poll FDs,
    and libusb expects to be called only once per poll iteration,
    no matter how many FDs triggered.
    
    Also, they should all share the same timeout, which should get
    reset on events from any polled FD. The new timeout handling made
    this problem apparent, as it caused the callback to be invoked
    multiple times on timeouts, once for each separate event source.
    
    In order to fix this, change the implementation to allow for an
    arbitrary number of poll FDs per event source. This number is
    zero for timer FDs, one for normal I/O sources, and one or more
    for libusb sources (Unix only).
    
    Also, on Windows, do not get an additional timeout from libusb
    in the event loop. This is only appropriate when polling the
    libusb FDs directly, which we aren't doing on Windows.

commit 7637fa35b57b82df733bdee07a0f08f2ab323a13
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Sep 1 00:36:30 2015 +0200

    session: More poll spewing

commit 15408b51f3f165f13fb19c647b5991e0b755817c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 31 21:11:08 2015 +0200

    log: Output time stamps at log level spew

commit c650d3ecbfeea1015df5ca38fa941bcb01254ed8
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 31 19:08:37 2015 +0200

    drivers: Use timer sources instead of polling stdin

commit 027bf07796c340509bd2b010021f36a5990e51d0
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 31 03:55:41 2015 +0200

    demo: Use simple timer source instead of pipe
    
    Get rid of the Unix pipe and the GIOChannel wrapping it. Instead,
    install a simple timer event source with the appropriate timeout.

commit b5887bd0c308d78a151d3d3ff44d1f5ef28a8c4d
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 31 03:23:13 2015 +0200

    session: Add poll debug spew

commit faa5d7d997718acdd2b293a32dd62e28268b391f
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 31 02:35:57 2015 +0200

    session: Unify handling of I/O and timer sources
    
    Handle I/O sources and timer ("dummy") sources within the same
    polling loop, so that both may be used together. Slightly change
    the API to improve consistency: a timeout value of -1 now disables
    the timeout, and 0 makes the source always time out immediately.
    The "dummy" sources already behaved that way, although it wasn't
    documented as such.
    
    Make sure that I/O events are processed preferentially: Skip any
    timeout callbacks if an I/O event occurred within the same poll
    iteration. This applies to both timer/idle sources and timeouts
    of I/O sources.
    
    Do not create dummy GPollFDs for timer/idle sources. Instead,
    split the sources array into an I/O section and a timer section,
    and create corresponding GPollFDs only for the I/O section. Use
    GArray to simplify the handling of the dynamic arrays.

commit 62d7945f8059ccbf56dfa2e5eb60671dd5bc959b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 30 21:43:30 2015 +0200

    session: Properly accumulate event source timeouts
    
    Keep track of when source timeouts are due and properly compare
    against accumulated elapsed time between invocations. This prevents
    sources with short timeouts from blocking other sources with longer
    timeouts indefinitely.

commit 4399cc0f41077cd975601a095fd272a2bf27bb99
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 30 15:25:33 2015 +0200

    session: Do not expect meaningful errno on non-UNIX
    
    Looking at the g_poll() implementations for various systems, it
    appears that on Windows the return value is 0 if the wait was
    interrupted, and errno is never set. Also, the MacOS X wrapper
    around select() does not clear revents on timeout.
    
    To deal with these issues, check for EINTR only on Unices, and
    assume revents to be invalid unless g_poll() returned a positive
    value.

commit 32af282c5e1d64e878438aafe7c69efd2b4a4bd6
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 30 14:23:38 2015 +0200

    session: Check for errors from g_poll()
    
    If the call to g_poll() in sr_session_iteration() fails, report
    the error back to the caller. Do not treat EINTR as error though.
    
    Check for session abort only if a source callback was actually
    invoked, or at least once if none of the callbacks are invoked.
    Stop checking for abort if the session has already been stopped,
    just in case a callback sets abort_session again.
    
    Also change the documentation to match the actual behavior.

commit 89efe06460024c2a33e57178f5812bf23c2f9888
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 30 12:20:03 2015 +0200

    session: Fix USB timeout handling
    
    In sr_session_iteration(), remove the inverted evaluation of the
    block parameter if a USB source is present. This stops the deluge
    of USB event callbacks due to the timeout always being zero.
    
    Also, just for cleanliness, initialize the revents member of each
    GPollFD instance to zero.

commit 452986bec416f00ac7fd573a460b9374d47fbf54
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Sep 2 14:07:06 2015 +0200

    Build: Fix installation of Python bindings
    
    Apparently setup.py install behaves differently when given
    the --root option, so omit that if DESTDIR is empty.
    
    Fixes #644.

commit a2e4d88205d08729d7a2f43dbd818ac68fdcf693
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 31 21:08:08 2015 +0200

    python: Fix the build for Python >= 3.
    
    SWIG_init() returns void for Python 2.x and 'PyObject *' for Python 3.
    
    Use an #if to handle both cases properly, otherwise the Python bindings
    for either Python 2 or 3 will fail to build.
    
    Python 3.x failure:
    
    sigrok/core/classes_wrap.cpp: In function ‘PyObject* PyInit__classes()’:
    sigrok/core/classes_wrap.cpp:59002:5: error: return-statement with no
    value, in function returning ‘PyObject* {aka _object*}’ [-fpermissive]
         return;
         ^
    
    Python 2.x failure:
    
    In file included from /usr/include/dirent.h:244:0,
                     from /usr/include/glib-2.0/glib/gdir.h:32,
                     from /usr/include/glib-2.0/glib.h:45,
                     from /usr/include/pygobject-3.0/pygobject.h:7,
                     from sigrok/core/classes_wrap.cpp:3179:
    sigrok/core/classes_wrap.cpp: In function ‘void init_classes()’:
    sigrok/core/classes_wrap.cpp:59002:12: error: return-statement with a
    value, in function returning 'void' [-fpermissive]
         return NULL;
                ^

commit b05409d7923df5205c07e5cce2d2791eb74cf268
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 30 21:15:02 2015 +0200

    Remove SR_OK_CONTINUE.
    
    This brings error reporting back to the usual: either return codes
    are SR_OK (0) or they are < 1 indicating an error.
    
    This fixes bug #633.

commit b93006789f5cbce740bb2cece5a87d2969076e25
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 30 21:13:51 2015 +0200

    output/csv: Avoid using SR_OK_CONTINUE.

commit 2d05415f2e4358838c5238d99ef67140ea238768
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 30 20:30:32 2015 +0200

    scpi: Avoid using SR_OK_CONTINUE.

commit 2634b7781242796352616a571b794700f409baf7
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 16 20:03:10 2015 +0200

    serial: Check event ptr before using.
    
    This avoids a NULL dereference when called twice.

commit 661cc2ec46ea3b7f3b7f560604559b9d54e8448d
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 17 01:58:45 2015 +0200

    Convert SR_CONF_MEASURED_QUANTITY to SR_T_MQ.

commit 83478149b1d5a0476c15241dfce1fb2cf014e0c5
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 29 23:01:02 2015 +0200

    deree-de5000: Drop SR_CONF_MEASURED_QUANTITY functionality.
    
    This was superfluous -- there is no need to be able to query the
    last MQ(s) sent by the device, since they're already being sent
    along with the measurements in analog packets.
    
    Since there is also no way to change the MQ (that is done with the
    buttons on the device), there is no need to even list the possible
    MQs.

commit 75772c721d45d3b33618388e41d2d874c4f88302
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 29 22:20:29 2015 +0200

    Change SR_T_MQLIST to SR_T_MQ.
    
    The need to make this a list no longer applies.
    
    SR_T_MQ is thus a type consisting of a tuple with two elements: the first
    item is the MQ (type G_VARIANT_TYPE_UINT32), and the second is the MQ
    flags value (G_VARIANT_TYPE_UINT64).

commit 28d86fa9a5d24bbcafeddbe2330f18a3e91501b1
Author: Daniel Glöckner <daniel-gl@gmx.net>
Date:   Thu Aug 27 11:21:48 2015 +0200

    Check for libieee1284
    
    Will be needed by the Hung-Chang DSO-2100 driver.

commit 4ec436c4d5b1712c9b5162171586e9bbedf41f09
Author: Daniel Glöckner <daniel-gl@gmx.net>
Date:   Sat Aug 22 17:39:39 2015 +0200

    sr_session_send: pass transformed packet to datafeed callbacks
    
    After the packet has been passed through the transformation modules,
    the transformed data is in packet_in but the following code uses
    the packet variable which still points to the original input.
    
    This fixes bug #631.

commit 1e6b5b930340cc87e6c49e0563b289267ae00cb4
Author: Daniel Glöckner <daniel-gl@gmx.net>
Date:   Sat Aug 22 18:00:30 2015 +0200

    hantek-dso: fix memory leak
    
    This fixes bug #632.

commit 96127d0feaf7333fba880c5bcf1267de6360e6a8
Author: Daniel Glöckner <daniel-gl@gmx.net>
Date:   Sat Aug 22 17:31:43 2015 +0200

    lascar-el-usb: fix memory leak
    
    This fixes bug #630.

commit 80e20c10e3de3250f339affbf2abcd4b832f7b60
Author: Daniel Glöckner <daniel-gl@gmx.net>
Date:   Sat Aug 22 17:19:33 2015 +0200

    es51919: fix memory leak
    
    This fixes bug #629.

commit d40b8557a9625cccfb9bef99c77dd803bdd356e7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Aug 29 14:50:44 2015 +0200

    Don't set _POSIX_C_SOURCE for VXI/RPC related files.
    
    Make vxi.h the first #include in all affected files and #undef the
    _POSIX_C_SOURCE macro in vxi.h.
    
    This avoids various build issues on e.g. FreeBSD or Mac OS X where
    setting _POSIX_C_SOURCE leads to the unavailability of certain types
    such as u_long (as used in the VXI/RPC code).

commit c05a0ba528e96671b1c94c1971d4671b4767f0e9
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 29 01:54:17 2015 +0200

    Build: Pass compiler flags from make to setup.py
    
    Extend setup.py to allow environment variables to be set on the
    command line. Use that functionality to replace the pkg-config
    invocations with flags passed on from make. Suppress the annoying
    -Wstrict-prototypes warning by overriding the OPT variable.
    
    Also move the "cd bindings/python" from Makefile.am to setup.py
    to side-step problems with "cd" in make rules.
    
    This also fixes bug #628.

commit 5b869e978a67802bc56713534987870a279405cb
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Aug 27 12:30:13 2015 +0200

    Build: Go back to _POSIX_C_SOURCE=200112L

commit bbb3996c06f2b1ebc9529d1e2181ddc55f70d9da
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Aug 26 23:09:03 2015 +0200

    configure: Enable largefile support on 32-bit systems

commit 8006cdc53d4f52f055559b95986b13c3c3826745
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 28 16:26:36 2015 +0200

    configure.ac: Add libserialport dependency to kern-scale.

commit ca7dbb56161f9f4b7f842103fca59d41d559c793
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 28 16:26:07 2015 +0200

    Various key lists: Add reminders of what needs updates upon changes.

commit 55c9f09dbc7edd24b0da8dda8837aff6a932e3c5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 28 16:10:15 2015 +0200

    session.c: Fix key order.

commit f7bcc68604cea023043c3067d8bd952d86d69a89
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 28 14:25:24 2015 +0200

    analog.c: Fix key order, add missing items.

commit c984f2f997ab2c5fdeef72d131e04a92619f89fd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 28 14:14:10 2015 +0200

    output/analog: Fix key order, add missing items.

commit 29ae6f0880eb8dab93507382b5b35d36df8ef1e0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 28 14:01:09 2015 +0200

    hwdriver.c: Fix key order, add missing items.

commit 607dcdeae13d04fd5c6d41da46d9c29a04206a86
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Aug 27 22:06:26 2015 +0200

    kern-scale: Add initial driver contents.
    
    This currently supports (and is tested on) the KERN EW 6200-2NM,
    other models will be added later.

commit 9380ec2f05e67518b1b23057749df3684a0cf05e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Aug 27 21:42:46 2015 +0200

    kern-scale: Initial driver skeleton.

commit e5d953b5592c1ca2af9a0f64f2dfc817a931e59a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Aug 27 21:21:03 2015 +0200

    Add a protocol parser for KERN scales.
    
    (KERN & SOHN GmbH, http://www.kern-sohn.com/)

commit 34eaf4bcbbff5e2165f38afc9123c5ddd9a40079
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Aug 27 21:21:34 2015 +0200

    output/analog: Support mass related units / MQ flags.

commit 28af4c714e2e3fd032e800f2c60dcda8953f5a3b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Aug 27 20:44:23 2015 +0200

    Add a few scale related flags.
    
     - SR_MQ_MASS: Mass, as measured by scales / balances.
    
     - SR_UNIT_*: Various units of mass.
    
     - SR_MQFLAG_UNSTABLE: A flag denoting that a value has not
       yet stabilized (settled). E.g. when placing an object on a scale
       it'll take a few moments until a stable reading is available.
       Measurement values marked with SR_MQFLAG_UNSTABLE denote that they
       are "unsettled", unstable values (not yet stabilized).
       The absence of SR_MQFLAG_UNSTABLE denotes that the value is stable.
    
     - SR_CONF_SCALE: A device class for weighing scales / balances.

commit 68799618f6ed6e4becc862e9e1061c61e31dd1fe
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Aug 26 13:55:53 2015 +0200

    Build: Define feature test macro _DEFAULT_SOURCE
    
    This basically makes glibc expose the same set of features as
    if gcc was invoked without any restricting -std=c* option. Unlike
    _GNU_SOURCE however, it does not enable GNU-specific extensions.
    
    So, with this macro defined the behavior of Linux with glibc
    should match that of other platforms.

commit 65489c1ada6a362a492b7929c1a567a80266f202
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Aug 26 13:13:39 2015 +0200

    Build: Use TESTS prefix instead of CHECK for flag variables
    
    In order to avoid confusion of the flags-gathering pkg-config
    result with the actual test for the availability of "check",
    change the pkg-config output variable prefix from CHECK to TESTS.

commit a1f7c854c502cca8fe7e5576b9a01ad1086f9170
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 17 01:43:22 2015 +0200

    Add SR_T_MQLIST.
    
    This type consists of an array, with each item a two-member tuple,
    representing an MQ/MQflags pair: the first item is the MQ (type
    G_VARIANT_TYPE_UINT32), and the second is the MQ flags value
    (G_VARIANT_TYPE_UINT64).
    
    A GVariant of type SR_T_MQLIST can thus always represent more than
    one MQ/MQflag pair.

commit 0176c92fea8f47f6f9030a4a02f84d414741068f
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 17 01:38:10 2015 +0200

    Add key info tables for MQ and MQflags.

commit 2fb60e23299037456a626ad65d15b89a78393917
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 17 01:30:14 2015 +0200

    Replace sr_config_info with sr_key_info.
    
    The tables defined with this struct can now be used for information
    on items other than config keys.
    
    Functions to access these tables have been renamed sr_key_info_[name_]get.
    These take an extra argument, keytype, which should be set to SR_KEY_CONFIG
    to get the config key tables. Other key types will be added.

commit 0b2b92f6c3db384cad10e3229e3fa149fc429ef4
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 16 20:02:21 2015 +0200

    scpi/usbtmc: Use sr_usb_close().

commit 67e95ed37d57c9bcdff452eb5fe4c4416069410e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 16 20:00:26 2015 +0200

    Add sr_usb_close().

commit 558d438d1f944284be13bec06db7ca67876ea234
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 17 02:02:03 2015 +0200

    scpi: Strip leading/trailing spaces from *IDN? response.

commit c0d257790a7ad0ddc8e83736fa2ade0bf57f3661
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 16 20:44:37 2015 +0200

    scpi: Propagate error codes in API functions.
    
    This allows client drivers to detect e.g. timeout conditions.

commit 9c24d16a1d01a01f88f254fbd5f5e413e796f3cf
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 16 15:54:02 2015 +0200

    Make sr_next_enabled_channel() from scpi-pps available library-wide.

commit 91ef511db2370904f8765a13e315fbddaf5ffe07
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 16 15:12:34 2015 +0200

    scpi: Make helper functions from scpi-pps available library-wide.

commit 5a1afc0907abfee5848484f944789213d6be9752
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 16 01:04:04 2015 +0200

    scpi: Move SCPI-related definitions to separate header file.

commit 64bc73f5282ec0e7da6e00a8d078191e5375dc5c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Aug 25 17:01:22 2015 +0200

    sigrok.m4: License header consistency fixes.
    
    Use the same wording and formatting as in the rest of the codebase.

commit e662d9e8e5c6a5d677194fc217da3a88040387a3
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Aug 25 12:50:35 2015 +0200

    Build: Limit system features to C99 and POSIX
    
    Use -std=c99 to try and enforce standard compliance.

commit 2d2240bb99e343379e9648e10d796d107705f06f
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Aug 25 00:17:09 2015 +0200

    Build: Fix SR_CHECK_COMPILE_FLAGS
    
    Do not put "no" into the flags if the check fails.

commit ba1c29dc2227dc0d4c47e189ce0682ee63a862a7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 24 22:20:30 2015 +0200

    Build: Reduce unnecessary config substitutions
    
    Variable substitutions with a constant value may as well be
    set directly in Makefile.am.

commit bc8ff24de6948efee1313c7884e56090d8424c8e
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 24 22:06:27 2015 +0200

    Build: Leave LIBS alone during configure
    
    Put the extra libraries into SR_EXTRA_LIBS instead of LIBS.
    Create an SR_CHECK_LIBS macro to make that easy. Substitute
    SR_EXTRA_LIBS into libsigrok.pc, too.

commit 4ed3d9b6db3192ef57c2dccd788c5c6f6e783011
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 24 11:18:09 2015 +0200

    Build: Simplify driver dependency check

commit 2d143826b0862a25a599825e50d78b58b53c67ac
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 24 09:25:37 2015 +0200

    Build: Add private copy of C++11 check macro
    
    Place a copy of ax_cxx_compile_stdcxx_11.m4 from the Autoconf
    macro archive into our private m4/ directory. This is cleaner
    than trying to parse M4 file versions etc. Plus, the macro is
    now always available.

commit 0ab8386a5c0b6fa58ce2a8c3aa2ca337bcb49005
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 24 00:08:01 2015 +0200

    Build: Prefer newer versions of libftdi and SWIG

commit 26b67f11415046f8b100e32f37bb09e86731107d
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 23 23:53:01 2015 +0200

    Build: Use commas to separate missing dependencies
    
    Beautify the output. Also fix the PyGObject test.

commit be21d81a154df69df77cc3350296c2addae7dab9
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 23 21:17:36 2015 +0200

    Build: Reduce autogen.sh to a trivial stub
    
    Use autoreconf instead of invoking the various Auto tools
    separately. Get rid of the Darwin-specific guesswork -- it
    does not make sense to handle this at the level of libsigrok.
    
    People should set up their ACLOCAL_PATH themselves as appropriate
    for their own system; just as they already need to set up various
    other paths.

commit b84a733105eea68cbc568850eba20bd571debad7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 23 21:08:54 2015 +0200

    Build: Check for accepted compiler flags
    
    Introduce the SR_CHECK_COMPILE_FLAGS macro and use it to check
    for additional compiler flags. Put the accepted flags into the
    separate substitution variable SR_EXTRA_CFLAGS.
    
    With this and the preceding changes, bug #578 should now be fixed.

commit 1bb196e4969b299d316bdcff2201a44dd517f240
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 23 20:07:38 2015 +0200

    Build: Move package check macros to m4/sigrok.m4
    
    Define generic macros for pkg-config dependency checks etc. in
    m4/sigrok.m4, so they can be easily reused by downstream modules.

commit 4cf2f34f430be5d38a7973c31f811fdb15a58329
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 23 15:02:30 2015 +0200

    Build: Make compiler warnings configurable
    
    Use the SR_ARG_ENABLE_WARNINGS macro to configure and check for
    the availability of compiler warning flags. Maintain separate
    sets of warning flags for C and C++.
    
    The configure option --enable-warnings=[min|max|fatal|no] can
    be used to set the compiler warning level for all languages.
    The default level is "max".

commit 24138539c1a11dd221443317b4941f151bcbdb12
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 23 14:52:00 2015 +0200

    Build: Move custom Autoconf macros to separate file
    
    Place custom Autoconf macros which other sigrok modules may
    re-use into a separate file m4/sigrok.m4. Also, introduce new
    macros for defining the package and library versions, and for
    gathering compiler warning flags.

commit 2abad185cdb2e43417a2df91143fab7ecc700550
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 22 20:27:53 2015 +0200

    Clean up .gitignore

commit ea1d5351455e68ae967f48956b980f9b185ddf53
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 22 20:58:11 2015 +0200

    Build: Place Autoconf macros into m4/ directory
    
    This separates the M4 macros from the other cruft in autostuff/
    to prepare for the introduction of custom macro files.

commit cb4d28efd1b261c36abc74eb9a117c5b322b481b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 22 00:07:48 2015 +0200

    Build: Do not omit first argument to m4_warn()
    
    It seems that contrary to what the documentation says, leaving
    the category argument to m4_warn() empty is not allowed. Use
    the "unsupported" category for lack of a better choice.

commit aafcb3fe87809d3e6d12b9a440adccf516fb3eb5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 19 15:44:43 2015 +0200

    FreeBSD: Also check for swig3.0.
    
    On FreeBSD (for example) the SWIG binary can also be called "swig3.0".
    
    This fixes (together with the recent "swig2.0" addition) bug #557.

commit a9cb82ace2fb98f04078996ee6eb29d227b7abb2
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Aug 18 21:24:39 2015 +0200

    Build: Get rid of recursive make invocations
    
    Do not invoke $(MAKE) just to execute some clean rule.
    This gets rid of the "jobserver unavailable" warnings.

commit 90420ef6bcc9dc081a3dc39e09df546fbc1e5753
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Aug 18 20:09:53 2015 +0200

    Build: Tell setup.py where to find SWIG

commit 3f03ffaf2f7c9c65d0bf35e611df8fb720ed0e8c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Aug 18 18:01:54 2015 +0200

    FreeBSD: Also check for swig2.0 in addition to swig.
    
    On FreeBSD (for example) the SWIG binary is called "swig2.0".
    
    This fixes bug #557.

commit 731c01f248b8b7b9bd87e6b21ee92f806eff762b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Aug 18 17:58:28 2015 +0200

    FreeBSD: Fix compile/link error due to missing libusb_get_version().
    
    The FreeBSD libusb-1.0 API implementation doesn't have libusb_get_version().
    Use our CONF_LIBUSB_1_0_VERSION macro instead.

commit dbde3b65133bca6a00d589b735be5f4ba0049194
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Aug 18 18:06:08 2015 +0200

    Build: Avoid $< in explicit rules
    
    Although useful, makes other than GNU make do not like this.
    Name the prerequisite explicitly instead, and circumvent any
    VPATH substitution other makes may do.

commit da0763d0968c5725d75bddedae6029aab837606b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Aug 18 17:46:29 2015 +0200

    Build: Skip C++ CFLAGS and LIBS check when disabled
    
    It is not a good idea to invoke PKG_CHECK_MODULES with an empty
    list of modules to check, so skip the invocation in that case.

commit b8b727e45f55a91171d52f93ac387784914ffbf1
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Aug 18 15:02:01 2015 +0200

    Build: Fix typo that broke the driver enable options

commit d37c7109bf4e3b3e3ed0a477d96c1cc77b1623f7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 17 05:08:48 2015 +0200

    Build: Make SR_DRIVER() handle dependencies
    
    Turn the hardware driver dependency handling on its head, by
    making SR_DRIVER() take a list of dependencies to check for.

commit 7c16e74d45b91123206efee2116d86462c8e707c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Aug 17 02:08:39 2015 +0200

    Build: Make dependency on git change more robust
    
    It can sometimes happen that .git/HEAD or .git/refs/head/*, which
    are added as config.status dependencies during configure, do not
    exist anymore at build time.  For instance, when the current branch
    is deleted after switching to a different one.
    
    Wrap the dependencies inside $(wildcard ...) to avoid this problem.
    Note that this is a GNU make feature.  However, it should be fine
    as it is only used for git builds.  Even if a non-GNU make is used,
    the construct will hopefully just expand to nothing.

commit 965d68898a08c30b26925483290498f627fd309e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 16 23:56:43 2015 +0200

    Build: Show glib/libzip version requirements in configure summary.

commit 2700e63d482d2e60eab1f95dfd726b7572c43a27
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 16 23:53:23 2015 +0200

    Build: Fix a typo causing libftdi1 detection issues.

commit 2cbde1519811c36313a9ee8f57c99313c243e911
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Aug 16 18:53:32 2015 +0200

    Build: Properly namespace the version defines
    
    Use the CONF_ prefix for the configured host define as well as
    the various build-time version macros.

commit 1f61c22ff5e0d1d169894ad606831b44fde19468
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 15:59:52 2015 +0200

    Build: Cleanup up and modernize autotools setup
    
    Note that some --enable options of configure have become
    --with or --without options.

commit c5f179a9753fde952fcfd5585378f5605ab90741
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 02:28:54 2015 +0200

    Build: Simplify the hardware driver selection
    
    Replace DRIVER() and DRIVER2() by a single SR_DRIVER() macro.
    Derive the names of shell variables and preprocessor defines
    programatically to cut down on repetition.

commit 7e2cadd003e67991d7ed4905463f131762faeed5
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 19:55:02 2015 +0200

    Add dist tarball to gitignore

commit 5a3e34285da1544941fd314079f05a1715fc3de3
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 19:43:29 2015 +0200

    setup.py: Do VPATH search for swig/enums.i
    
    Also, in swig/classes.i include swig/enums.i rather than plain
    enums.i, to guard against future name clashes.

commit cf5b338e0736d97e363ea3c1652261354d1d7522
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 19:18:36 2015 +0200

    Build: Depend on swig/enums.i where appropriate

commit bc81463bb8d1dcd5eb8105dc9e6cd1fd1049a4b9
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 19:02:15 2015 +0200

    enums.py: Place swig/enums.i into build directory

commit 122322a9ba21f755f1efe36df0288c125052e99b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 18:33:05 2015 +0200

    Build: Do not distribute generated headers
    
    version.h and enums.hpp are generated at build time and should
    not be included in the distribution tarball.  This seems to have
    triggered a weird error when doing a VPATH build of the dist
    tarball.

commit 9ac018d0fc7119dc7d016e9952bb7825b247d504
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 18:10:50 2015 +0200

    Build: Pass nostdinc option to automake
    
    It seems automake automatically adds the directory containing
    the generated version.h to the include path.  Use nostdinc to
    disable default includes altogether.

commit b5f0731971349eaad70d6fd2f8c704c4f5f3802c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 17:54:14 2015 +0200

    Build: Use angle brackets for enums.cpp include

commit 31ac7735ea82342fcef3ea16ebdf81bcf812d27c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 16:59:47 2015 +0200

    Build: Distribute bindings sources
    
    A couple of files referenced during the build were missing from
    the distribution, causing a tarball build failure.

commit 8b2a184327900fd7d08bb09f58699d62e2578eea
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Aug 15 16:10:36 2015 +0200

    Build: Prefix directory to include of enums.hpp
    
    This fixes a build problem due to the reduced include search paths
    introduced by my recent changes.  Also fix a couple of other
    includes to use angle brackets.

commit 7f289d14ec52a352cc2c6a8671175a55f2f67083
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Aug 14 21:01:59 2015 +0200

    Build: Append git revision hash to version
    
    Append the git revision hash to the libsigrok package version,
    unless HEAD exactly matches a release tag.  Note that this does
    not affect the version known to autoconf -- e.g. source tarballs
    created by make dist will not receive a revision suffix.
    
    Changes to git HEAD automatically trigger a reconfiguration.
    Uncommitted changes do not, which is why I left out the -dirty
    suffix.

commit b9eb8e1a8cdb4ac6449cfa881da96bcf9bc687ad
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Aug 13 00:38:47 2015 +0200

    Consistently use SR_PACKAGE_VERSION instead of VERSION

commit 27a2497dc2ef29d7ca348e8103033f09c71d28e1
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Aug 14 18:03:47 2015 +0200

    Build: Delay expansion of $datadir in FIRMWARE_DIR
    
    Make it so that $(datadir) is resolved at make time, as per
    autotools recommendations.  Note that $datadir is not fully
    resolved at configure time to begin with, i.e. part of it
    already was evaluated at make time.

commit b2478a23db9a966678aa6cb8c4f0b53b13b13fa6
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Aug 14 17:53:06 2015 +0200

    Build: Make version.h a configuration header
    
    Use the proper tool for the job and make libsigrok/version.h
    a secondary configuration header, so that autoconf's AC_DEFINE
    machinery can be used to generate it.  Note that the header
    template is still hand-written, enabling fine control of the
    content.

commit 4960aeb03533f503c32c50cdd94277d561112c1a
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Aug 13 02:06:41 2015 +0200

    tests: Include <libsigrok/libsigrok.h>
    
    This matches the global style and avoids the "../" path
    components.

commit c1aae90038456a61d0f9313d34e6107c3440d3e7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Aug 13 01:18:51 2015 +0200

    Build: Set local include directories in Makefile.am
    
    Move the include flags for files in the source tree from
    configure.ac to Makefile.am where they belong.  Also use
    AM_CPPFLAGS instead of CFLAGS/CXXFLAGS to make sure the
    files in the build/source tree are always picked up first.
    
    Also, remove the include/libsigrok sub-directory from the
    search path, thereby making the <libsigrok/> prefix mandatory
    when building libsigrok itself.  This matches the convention
    already imposed on users of the library.

commit 3cd4b381744eb88fd4ba32565bd408c33b431629
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Aug 15 23:40:29 2015 +0200

    Introduce OutputFlag

commit 7df31ae8978fd719646384ba1889fd69a038a45c
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Aug 1 21:41:32 2015 +0200

    output/srzip: Prevent memory leak in case filename is empty

commit bd7b83cf631d515ae7e9560400cef2d9f662299a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Aug 15 21:06:30 2015 +0200

    backend: Output lib versions, host, and endianness in sr_init().
    
    This should help to more easily debug issues reported by users.

commit 6d930b4159c2df2a500610f50c6df360f4dcd29a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Aug 14 01:03:57 2015 +0200

    brymen-bm86x: add some error checking

commit c442ffda0fc6fa9bc3c5397a21ef1d04f01a64a1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Aug 15 17:16:01 2015 +0200

    Various minor cosmetics and consistency fixes.

commit ad0293f19c96385cc6e44f552de9636cb34f53a9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Aug 15 17:09:29 2015 +0200

    Drop comment mentioning non-existing function.

commit dff0a894356803e238c9ad49c147fbe9aa81c568
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 5 17:23:54 2015 +0200

    Doxygen consistency fixes (@foo instead of \foo).

commit 8d5228015d0f07ce6626aa52ffb80bc4129f7dbe
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jul 29 19:31:43 2015 +0200

    Various errno/strerror() related fixes.
    
     - Don't #include <errno.h> in files that don't actually need it.
    
     - Don't use strerror() on error codes from functions that don't set
       errno. Replace strerror() with sr_strerror() for libsigrok functions.

commit 6c7d80afcaf043eb8128a3102519032850fec1af
Author: Hubert CHAUMETTE <hchaumette@baylibre.com>
Date:   Fri Jul 31 09:44:09 2015 +0200

    libsigrok: demo: close pipes on dev_acquisition_stop()
    
    Fixes a bug where new acquisition failes due to leftover pipes from
    previous acquisitions:
            sr: demo: dev_acquisition_start: pipe() failed
    Indeed, PulseView had 2024 pipes opened. With this fix, it stabilizes at
    33 with sampling thread active.
    
    Signed-off-by: Hubert CHAUMETTE <hchaumette@baylibre.com>

commit 37875f7506143d97f44014260f07e6408ee8c9dc
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Jul 30 07:29:11 2015 +0200

    output/srzip: Use sr_output->filename instead of option
    
    This fixes parts of bug #570.

commit 81b3ce374c3b6d48e5ed321ac7a871ce4248a0bb
Author: Soeren Apel <soeren@apelpie.net>
Date:   Wed Jul 29 21:19:49 2015 +0200

    Add filename field to sr_output and make it accessible
    
    This fixes parts of bug #570.

commit 176c7219bbb509d8e3e149315db7db6bd2fb9655
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jul 25 19:50:36 2015 +0200

    Only build BayLibre ACME driver if <sys/timerfd.h> is available.
    
    This fixes bug #610 (Android build issue).

commit a394bd28136cad6536f6eab09803ae6f3fa9cb68
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jul 25 16:59:04 2015 +0200

    ols: Don't #include <libserialport.h> directly.
    
    The driver is not using sp_* calls directly, so no need to #include
    the header file.

commit e6b8f35fa70c4fac4b73ec6ccd7292e1c8ed2372
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jul 18 18:03:29 2015 +0200

    Bump version to 0.4.0 (the upcoming next major release).

commit 025f6ed862b3a1dc8aa5deb3e44b4c2230ef3aa6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jul 18 17:54:41 2015 +0200

    Append "-git" to the version string.
    
    This avoids confusion with the released tarballs.

commit 338143ea0371133c2b3f56bb2cc5e8726c0141d8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jul 9 21:05:44 2015 +0200

    Convert a few more occurrences of d->priv to d->context.

commit 41812aca436805b0614f2a8f31cf2f8ce494aea0
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon Jul 6 21:55:36 2015 +0200

    Fix #442 by renaming sr_dev_driver.priv to .context

commit c11a1e6122998b247df66c59d2076eb814818497
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jul 10 01:03:16 2015 +0200

    fx2lafw: Use the USB_INTERFACE #define.

commit dc2903bbdbc97d4d0968ffc23d475cf21adc8575
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jul 10 00:59:48 2015 +0200

    fx2lafw: Fix segfault wrt libusb_detach_kernel_driver().
    
    Move the libusb_detach_kernel_driver() call after the code that
    sets the usb->devhdl pointer, otherwise it'll be NULL and result
    in a segfault.
    
      #0  libusb_kernel_driver_active (dev=0x0, interface_number=0) at libusb/core.c:1711
      #1  dev_open (sdi=0x12d99f0) at src/hardware/fx2lafw/api.c:374
      [...]
    
    Tested on a device with the default Cypress VID/PID and one with
    the Saleae Logic VID/PID, both works fine.

commit 39e4517759d391e5572e81d9796d4d8c6892d25e
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon Jul 6 21:20:26 2015 +0200

    fx2lafw: Fix #445 by detaching the kernel driver (if any)
    
    This avoids the need to run "rmmod usbtest" on Linux for devices
    with the standard Cypress FX2 USB VID/PID (04b4:8613).

commit 536141ff49330b48ed8230547a9bec738d84a309
Author: Daniel King <damaki.dmk@gmail.com>
Date:   Mon Jul 6 21:16:29 2015 +0200

    Demo: Fix #314 by always honoring sample limit changes

commit e2b99f04d8edd268b220ad7369f3029da34f3ac4
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Jul 5 21:06:05 2015 +0200

    Fix #505 by providing a separate property list for the analog group

commit 815e3cb83e715fad442c491d406f6ceba79e3a74
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Jul 5 18:01:45 2015 +0200

    Fix #574 by setting up the transfer first, then starting acquisition

commit d586a7f4bd0d83a1e432d5ca1ee63af94bdb4e13
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Wed Jul 1 12:30:09 2015 +0200

    baylibre-acme: Remove unnecessary close().
    
    The timerfd descriptor is closed automatically by
    g_io_channel_shutdown(). No need to close it manually.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 7a1a3a36a98eda90c2fe4a78326ea68afe94a041
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Wed Jul 1 10:47:38 2015 +0200

    baylibre-acme: Use SR_HZ_TO_NS() when configuring the timerfd.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 7e5a048ff26d516291c3d382c7d70bdbf42628d3
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Tue Jun 30 15:07:50 2015 +0200

    baylibre-acme: Add a workaround for slow data acquisition.
    
    At high sampling rates and maximum channels we are not able to acquire
    samples fast enough, even though frontends still think that samples
    arrive on time. This causes visible shifts in frontend plots.
    
    To compensate for the delay introduce the following workaround: check
    if we are late (if any clock events have been missed) and resend the
    last frame n times (n == number of missed clock events).
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit a0648b1a12699429d8a70b8eeb05942885bd32b3
Author: Daniel Lezcano <daniel.lezcano@linaro.org>
Date:   Thu Jun 4 19:01:27 2015 +0200

    baylibre-acme: Use timerfd instead of a fake pipe.
    
    Currently baylibre-acme uses a fake pipe as the input channel required by
    libsigrok API and calls sleep() in the data acquisition callback to create
    intervals between measurements.
    
    Switch to a more elegant approach: use Linux' timerfd and set a periodic
    timer equal to the sampling rate. Then read the data every time the timer
    expires.
    
    Signed-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit f9b0ab6b2db8b997a79e0dde37b7240779c76cea
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu May 28 15:45:56 2015 +0200

    baylibre-acme: Close sysfs files after stopping the acquisition.
    
    Add a missing call to dev_acquisition_close() in dev_acquisition_stop().
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 4e88b86cc81ce6569c4bbf947fc2f0f47f4ce8a1
Author: Daniel Lezcano <daniel.lezcano@linaro.org>
Date:   Wed May 27 20:22:02 2015 +0200

    baylibre-acme: Optimize reading of values from sysfs.
    
    Opening a file has a cost (security, allocation, syscalls). The
    read_sample() function always does an open/read/close sequence.
    
    In order to optimize that, let's open the file at the moment the
    acquisition starts, close it when the acquisition stops and make
    read_sample() only lseek() to the beginning of the file and read
    the value.
    
    Signed-off-by: Daniel Lezcano <daniel.lezcano@free.fr>
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit fe473123ba836445d477149f2e2c0ae372fc0c4c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Jun 24 19:16:49 2015 +0200

    sysclk-lwla: Do not create channels in reverse order
    
    This was originally done as an optimization in combination with a list
    reversal which has since been removed from the code.  Thus, un-reverse
    the channels so that the UI lists them in the correct order again.

commit a93086528e5b476812e42b423f7a8a53812af6f4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 23 00:39:59 2015 +0200

    yokogawa-dlm: Minor cosmetics, consistency fixes, typos.

commit 49f49cb55e948e5e05d1334fd5236a0ed02a8e4c
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Jun 7 11:52:30 2015 +0200

    yokogawa-dlm: Return correct value for SR_CONF_HDIV

commit 2dcf82e9cb486dc235c1e0b96334d4edb0f19130
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Jun 7 11:51:40 2015 +0200

    yokogawa-dlm: Remove dlm_setup_channels()

commit c65a021c050b3ef05ccc844cf24ee8e620eb669e
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Jun 7 11:50:29 2015 +0200

    yokogawa-dlm: Introduce config_channel_set()

commit f3c60fb6affce2ebd81250db1d60bee733e5f479
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Jun 7 11:40:39 2015 +0200

    yokogawa-dlm: Config get/set/list handler updates

commit f77afcf0aa421af3f8ae29d7b877a9cd114f3339
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Jun 7 11:37:27 2015 +0200

    yokogawa-dlm: Fix number of digital groups

commit 6fd78a9fd0fbad97a486225c1e9efd562fa07b7b
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Jun 7 11:36:38 2015 +0200

    yokogawa-dlm: Prevent duplicate channel index

commit 7048bb1f356305caf458862ebdf22ae0645dae66
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Jun 7 11:35:21 2015 +0200

    yokogawa-dlm: Add support for the DL9000 series

commit b7c53d48a8170dc07bee1bafb481db3e2ea38e14
Author: Daniel Gröber <dxld@darkboxed.org>
Date:   Sun May 3 00:31:49 2015 +0200

    fx2lafw: Add DSLogic Pro and DSCope firmware loading support

commit 65e0036635a54b3273436b4ea7918aea25bad788
Author: Carl-Fredrik Sundström <audio.cf@gmail.com>
Date:   Mon Jun 22 16:53:51 2015 +0200

    dslogic: Fix incorrect samplerate setting.

commit aae2273b99b9155ea1b91bc65eb4c91e06e3c8e2
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed May 6 00:32:30 2015 -0700

    bindings/python: Handle import failures without crashing
    
    When the import of gi.repository.GLib failed, we would get a NULL
    pointer that we passed along without any checking. In this situation,
    the entire program would crash with a segmentation fault, and no
    message to indicate the problem.
    
    When the import fails, abort the SWIG init and print a message. The
    Python interpreter then prints out a backtrace, which can be useful
    in tracking down the problem.

commit 9a5185c736b8ab2fdfb7a1b55e5a3a4ad4ff5cfb
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat May 16 17:30:47 2015 -0700

    scpi-pps: Chroma 62000P: Get capabilities from device name
    
    The Chroma 62000P series comes in various models with different
    current and voltage capabilities. These are encoded in the *IDN
    string, so just get them from there, rather than needing a profile
    for every model.

commit 5281993e0ad0cd2dcb4e0d17aa399db91f500ba0
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri May 8 20:54:08 2015 -0700

    scpi-pps: Add profile for Chroma 62024P-80-60 DC Source

commit df705a7af74b156d24b9fa63ca7928e1ea780be2
Author: Jiří Pinkava <j-pi@seznam.cz>
Date:   Sat May 30 00:00:19 2015 +0200

    Java: install files into DESTDIR
    
    This fixes bug #537.

commit 84ab9da11fc9c1c90667f0e234423d4d306580dd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jun 11 18:27:43 2015 +0200

    saleae-logic16: Emit debug info of which bitstream is used.

commit c86813962979777f53432e7e3392b1d2f2b661b4
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sat May 9 13:16:28 2015 +0200

    saleae-logic16: Support new bitstream version 1.3 with renumbered registers

commit da005885c8ebbf98772f75126764f758b2640d11
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jun 7 20:58:46 2015 +0200

    scpi: Update names of a few *_OUTPUT_* items.

commit ae1827f557a90e49dc3428bc931bddc5437e7868
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jun 7 20:42:33 2015 +0200

    modbus: Consistently use the "Modbus" spelling.
    
    (as per modbus.org spelling)

commit f54ebe0c066447e547d1d57d4bc612981b7d679d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jun 7 20:40:32 2015 +0200

    modbus: Minor typos, cosmetics and consistency fixes.

commit ffb580cf732f060f167cbb3b910299395dd67aaa
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Feb 23 00:28:06 2015 +0100

    Actual implementation for the maynuo-m97 driver.

commit e1ccfb191062d13b98bb7536d162a044e0758678
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Feb 1 23:49:03 2015 +0100

    maynuo-m97: Initial driver skeleton.

commit e77e32a3bebcaadabb12eb29ceaf2d30371d16f0
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Feb 23 00:26:48 2015 +0100

    libsigrok.h: add new type of device: ELECTRONIC_LOAD.

commit c4b78389227b4d94ed211618f12a25f49d1ba8a3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Mar 15 23:58:17 2015 +0100

    libsigrok.h: Add SR_CONF_OVER_TEMPERATURE_PROTECTION_ACTIVE.

commit 4c938fc27f1679d5239133d2a821ab7f39a256de
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Feb 23 00:20:26 2015 +0100

    modbus: add a serial RTU backend.

commit daa39012054a10007986b2463ac61efe4cdd6ac8
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Feb 23 00:13:31 2015 +0100

    Add a modbus communication helper module.

commit a2632bcafcba2c3d3ea08db44a497ad6d05f1c5f
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Feb 23 00:26:16 2015 +0100

    libsigrok-internal.h: add helper macro to read floats from unaligend memory.

commit 7a0b98b544ca00f351295f21f895442680b1c014
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Mar 15 18:43:06 2015 +0100

    Rename SR_CONF_OUTPUT_* to SR_CONF_*.
    
    All those options are currently applied only to power-supplies
    but they could apply as well to electronic loads, except for the
    fact that electronic loads channels are called inputs and not
    outputs.
    Also when you think about an SMU (or any kind of 4-quadrants
    power-supply), their channels can both source and sink current,
    so they can be considered as input as much as output.
    Those SR_CONF_* are thus renamed so that they can be used in all
    those situations.

commit c1603f4574c8ce9648b51ea587b99cfb0bb02420
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat May 9 23:06:10 2015 +0200

    scpi-pps: don't fail acquisition start for devices with no CMD_SELECT_CHANNEL
    
    For devices such as the HP 6632B the following invocation was failing due to
    scpi_cmd(sdi, SCPI_CMD_SELECT_CHANNEL, ...) returning SR_OK_CONTINUE.
    
    ./sigrok-cli -d scpi-pps:conn=/dev/ttyUSB0:serialcomm=9600/8n1 --continuous
    sr: session: sr_session_start: could not start an acquisition (not enough data to decide error status yet)
    Failed to start session.

commit bbc42811d0c29e37e449d38d897b8e9cecdc8ba3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Apr 29 01:08:17 2015 +0200

    Use G_PI instead of defining our own version of PI.

commit 562a34908e47cf3b698a822b2e8177dc26422358
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 7 03:15:35 2015 +0200

    scpi-pps: Minor cleanups.

commit c80cf3e02eaa8e3154a69a7cae48c361d45ebb4f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 7 02:52:00 2015 +0200

    scpi-pps: Fix a compiler warning.
    
        CC       src/hardware/scpi-pps/profiles.lo
      src/hardware/scpi-pps/profiles.c:67:2: warning: missing initializer
      for field 'frequency' of 'const struct channel_spec'
      [-Wmissing-field-initializers]
        { "1", { 0, 60, 0.0001 }, { 0, 25, 0.1 } },
        ^
      In file included from src/hardware/scpi-pps/profiles.c:24:0:
      src/hardware/scpi-pps/protocol.h:106:8: note: 'frequency' declared
      here
        float frequency[3];
              ^

commit 8cb5affe00fbe43fe3587090d1cfcaf6f4030856
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 7 02:49:59 2015 +0200

    scpi-pps: Make some more items static.

commit 5c9e56c95b9e0756a3849d3d45bd40e90330043c
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Apr 23 09:38:14 2015 -0700

    spci-pps: Add profile for Agilent N5767A DC source

commit 6c0c9dd257353c5942d51024270dc82d7099a6de
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Apr 29 17:33:03 2015 -0700

    spci-pps/profiles: Support frequency control in Chroma 61604

commit 4264f1c03b3cd0e7d2634e207c79b1973789af28
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Apr 29 17:26:47 2015 -0700

    scpi-pps: Add infrastructure for controlling output frequency
    
    This patch only adds the needed infrastructure to control output
    frequency in the same manner as output voltage or current limit. This
    does require a new field in the channel_spec struct, for the sake of
    symmetry.

commit a77585d4ae95e103ebf3ae03fc0a219366c4c0c7
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Apr 29 17:05:59 2015 -0700

    global: Add configuration key for output frequency target
    
    This will be used to set up the output frequency of AC sources.

commit b94dd07b0823ae1607ce8159681a31833a01e199
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Apr 29 16:58:24 2015 -0700

    global: Treat SR_CONF_OUTPUT_FREQUENCY as float instead of uint64_t
    
    This makes 'output_frequency' symmetrical with 'output_current' and
    'output_voltage'. On a more fundamental level, there's no reason why
    frequency should be treated as a discrete quantity, other than
    "es51919 used it this way".

commit e8686e3ae36c190a88f1a15aebb7294bb6491578
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Tue Apr 28 13:03:58 2015 -0700

    asix-sigma: Avoid use of variable length arrays
    
    This was only done once in sigma_write_register().

commit 682fb08c88af64181a56c2db14ca3cef323c3ead
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Apr 30 16:18:46 2015 -0700

    python: classes.i: Declare strings with std::string
    
    This makes it consistent with the rest of the string declarations in
    this file, all of which use std::string.

commit 4ee1e2f35feb6b78640e6c8bd64b84cfd0675fd8
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Apr 23 09:39:23 2015 -0700

    spci-pps: Add profile for Chroma 61604 AC Source
    
    Only the capabilities which map directly to SCPI commands supported by
    sigrok are implemented at this time. This is sufficient to control
    the most often used functionality of this AC source

commit 0c08023f506c164e6d7bdf46cd82ef437a468997
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Apr 15 21:30:10 2015 -0700

    scpi: Accept *IDN responses with more than four tokens
    
    Some devices with more than one microcontroller report the firmware
    version for each of them, giving us more than four tokens. When that
    happens, sigrok aborts, even though it received a valid response.
    
    This happens, for example with the Chroma 61604:
    'Chroma ATE,61604,001060,1.25,1.34,1.20'

commit e35e1e7babee3cb3939e56f06322fa14f8580625
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Apr 27 00:06:03 2015 +0200

    Compile with -std=c11 along with _POSIX_C_SOURCE=200112L.
    
    With gcc 5.1 released and defaulting to std=gnu11, the code will be compiled
    according to different standards depending on the compiler version so we
    should better specify explicitly what standard we are targetting.
    C11 is now quite mature, it is supported in the just release Debian stable
    (gcc 4.9) and also in old-stable (gcc 4.7), so there should be no reason to
    use anything more ancient.
    We also should have no reason to need any non-standard GNU extension.
    So using only C11 + POSIX sounds like the best option right now.

commit 76372c5a9ce25d94ee992a5c84b8135f0d945293
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Apr 27 00:42:05 2015 +0200

    Define our own constant for PI.
    
    M_PI is not defined in the C standard nor in POSIX, it is a
    non-standard GNU extension.

commit ba464a121766fda8f8a1799b1b140b225c9774ee
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Apr 27 00:30:15 2015 +0200

    strcasecmp() is defined in strings.h.

commit 94b138a3c3d07cf5581c07536c53a97cebf885d9
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Apr 27 00:13:23 2015 +0200

    wav: Stricter check for valid chunk ID.
    
    isascii() is a superset of isalpha() and isblank() so the current
    code doesn't really make sense.
    Moreover, isascii(x) is just a funky and non standard way to
    write x < 128.

commit 2b51d48b386a2050d0ab34f242161617877d8e5f
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 20 10:02:34 2015 +0100

    C++: Change arguments of Input::send() from std::string to data+length.

commit 8d80146722786dc682ee7fa8cf168ab6f06a8271
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 19 18:39:35 2015 +0200

    Lower libserialport requirement to 0.1.1.

commit 468665dfa7a030ba3746e2796a196a47cacf4f76
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 16 22:33:29 2015 +0200

    Fix various warnings when building without libusb.
    
      ../src/backend.c: In function 'sr_init':
      ../src/backend.c:435:1: warning: label 'done' defined but not used [-Wunused-label]
       done:
       ^
    
      ../src/device.c: In function 'sr_dev_inst_connid_get':
      ../src/device.c:525:7: warning: unused variable 'connection_id' [-Wunused-variable]
        char connection_id[64];
             ^
      ../src/device.c:524:20: warning: unused variable 'b' [-Wunused-variable]
        int r, cnt, i, a, b;
                          ^
      ../src/device.c:524:17: warning: unused variable 'a' [-Wunused-variable]
        int r, cnt, i, a, b;
                       ^
      ../src/device.c:524:14: warning: unused variable 'i' [-Wunused-variable]
        int r, cnt, i, a, b;
                    ^
      ../src/device.c:524:9: warning: unused variable 'cnt' [-Wunused-variable]
        int r, cnt, i, a, b;
               ^
      ../src/device.c:524:6: warning: unused variable 'r' [-Wunused-variable]
        int r, cnt, i, a, b;
            ^
      ../src/device.c:523:22: warning: unused variable 'drvc' [-Wunused-variable]
        struct drv_context *drvc;
                          ^

commit 17dda6c5d46a9152fb72de2b89376ac0914fffdc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 15 21:08:13 2015 +0200

    ols: Whitespace fixes.

commit d6fe5201d5182dc8447c34a1040a407846d3b7eb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 17 17:17:53 2015 +0200

    .gitignore: Add tests/main.

commit 192d37e728b13393e9987f3cc888670b60efd197
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Mon Apr 13 11:44:14 2015 +0200

    baylibre-acme: Add a missing return value check.
    
    Check the return value of sr_gpio_setval_export() in bl_acme_set_power_off()
    and return an appropriate error if the call fails.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 09d217a40af9a6b23d11d9c0dbdf78f9aa76682c
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Mon Apr 13 11:44:13 2015 +0200

    Revert "baylibre-acme: Fix a compiler warning."
    
    This reverts commit 4cd97e5ad7bb63cb90d209506464fafd9f9eef8a.
    
    We should actually check the return value of sr_gpio_setval_export().
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 55462b8ba9f48931de9b9a7bfbc182a1d113b3b5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 12 19:28:03 2015 +0200

    windows: Fix various compiler warnings.
    
    Add LIBUSB_CALL where needed to avoid warnings such as the following:
    
      In file included from src/hardware/hantek-dso/api.c:34:0:
      src/hardware/hantek-dso/dso.h:212:13:
      note: expected 'libusb_transfer_cb_fn' but argument is of type 'void (*)(struct libusb_transfer *)'
       SR_PRIV int dso_get_channeldata(const struct sr_dev_inst *sdi,
                   ^

commit 76598cda5465e74e7427b5613f5859f02c2d2ad6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 12 18:54:43 2015 +0200

    input/wav: windows: Fix a compiler warning.
    
      src/input/wav.c:41:0: warning: "WAVE_FORMAT_PCM" redefined
       #define WAVE_FORMAT_PCM          0x0001
       ^
      In file included from [...]/include/windows.h:86:0,
                       from [...]/include/libusb-1.0/libusb.h:70,
                       from ./src/libsigrok-internal.h:31,
                       from src/input/wav.c:28:
      [...]/include/mmsystem.h:482:0: note: this is the location of the previous definition
       #define WAVE_FORMAT_PCM 1
       ^

commit 4cd97e5ad7bb63cb90d209506464fafd9f9eef8a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 12 17:26:48 2015 +0200

    baylibre-acme: Fix a compiler warning.
    
        CC       src/hardware/baylibre-acme/protocol.lo
      ../src/hardware/baylibre-acme/protocol.c: In function 'bl_acme_set_power_off':
      ../src/hardware/baylibre-acme/protocol.c:417:6: warning: variable 'val' set but not used [-Wunused-but-set-variable]
        int val;
            ^

commit 7c91c22a31a5017117116fa1fe6c2addbac813f1
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Tue Apr 7 16:55:24 2015 +0200

    baylibre-acme: Set update_interval when modifing samplerate.
    
    Both ina2xx and tmp401 linux drivers used by baylibre-acme expose
    the standard hwmon update_interval attribute, which affects the internal
    update interval of the chip.
    
    When setting samplerate for data acquisition try to modify this
    attribute accordingly.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 1fe04eb8d6c84c0013413991d0632022fc0643f7
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Fri Apr 3 14:58:11 2015 +0200

    baylibre-acme: Dynamically check per probe config options.
    
    PROBE_FACTOR and POWER_OFF options are advertised for all ACME probes
    (channel groups) regardless of whether they actually have given capability.
    
    Check these options in config_list() at runtime and only advertise them
    for probes which support them.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 1190c65397e8246bd3b437006bacc5b7dc9d2bde
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 12 16:34:26 2015 +0200

    Fix a USB timeout related issue in sr_session_iteration().
    
    This issue could lead to e.g. crashes when an OLS was used.
    
    This fixes bug #571.

commit b65630f78da2930fb828f6c6388c8655036fe8a4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 9 23:13:30 2015 +0200

    uni-t-dmm: Add a missing NULL (fixes a crash on Android).
    
    This caused an non-terminated driver list, which lead to a crash
    on Android (at least on ARM).

commit d93c14707e1700861339d86dd8fdd5fbefa170e6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 9 20:02:17 2015 +0200

    dslogic: Fix FPGA bitstream upload.

commit 4df5739a9f4272e57d737dc3a957b2f723bbaad1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 9 19:55:08 2015 +0200

    dslogic: Add #defines for timeouts and delays.

commit eac0c6132752224f46661ddc5a37a1e0e4694c27
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 8 19:14:05 2015 +0200

    rigol-ds: Drop unneeded check of g_strdup_printf() result.

commit 2d31e8bcbd98f0dee9047749324baedfcdd2be62
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 8 18:50:07 2015 +0200

    configure.ac: Drop unneeded AC_CANONICAL_SYSTEM.

commit b4aa89de4cfc44947bc0fab54d7e22bafa418ecb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 7 02:35:08 2015 +0200

    autogen.sh: Drop obsolete MinGW/MSYS items.
    
    For Windows builds (which require MinGW-w64) we currently support:
    
     - cross-builds using MXE (mxe.cc) and possibly other cross-compile setups
    
     - native builds using MSYS2 (sf.net/projects/msys2/)
    
    Neither of those require explicitly specifying ACLOCAL_DIR.

commit fc8f82e9650127b73a6bdcdad565b8e7f8f34e5b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 7 02:29:09 2015 +0200

    cxx: Makefile.am: Use libtool's -no-undefined option.

commit ff101fca121dd43e6323e572a5c655b6cab1e791
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Mar 18 12:30:26 2015 +0000

    windows: Fix building shared library on MinGW.

commit 032da34b786333a1af811235c5cf29855479f0b6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 4 20:57:22 2015 +0200

    sr_driver_list() now takes a context pointer.
    
    This requires sr_hw_cleanup_all() and sanity_check_all_drivers()
    to also take a context.
    
    The (runtime) generation of the driver list now happens in sr_init()
    and sr_driver_list() always returns that pre-generated list. This fixes
    a segfault when (correctly) invoking multiple sr_init() and sr_exit()
    calls with different contexts (caught by the unit tests).
    
    This fixes bug #565.

commit 07962655ecd48304d0663e0a91e54f52076c3f8b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 4 19:28:19 2015 +0200

    link-mso: Eliminate unneeded NUM_CHANNELS.

commit 0f2627632944d27fcd561a8b3a4713869b326232
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 3 21:05:02 2015 +0200

    fx2lafw: Use libusb_error_name() for reporting transfer status.

commit 07ffa5b315caab0d6d703e04f09035bc0f2b3ee4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 1 01:53:50 2015 +0200

    Replace some magic numbers with a #define.

commit dc89faeace016d0fbd8314937d0335a2ae76de14
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 28 19:36:47 2015 +0100

    Reduce unnecessarily high indentation level in some places.

commit 2ea67fc9bf2b8e777aa45f88477f8880e5bc6286
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 27 08:43:45 2015 +0100

    Minor cosmetics and consistency fixes.

commit b1f8310376265f622c6f7d81c0cc0580598ea973
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 27 08:39:49 2015 +0100

    Don't check g_free() arguments for NULL.
    
    The g_free() call is guaranteed to not segfault when NULL is passed.

commit e742b88f9aef970f8d6755858c930a47f79782fa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 31 23:14:41 2015 +0200

    cem-dt-885x: Add a missing break statement.

commit 72d69b7cd1fe52145634450e43a739e66068a588
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 31 23:14:24 2015 +0200

    zeroplus: Add a missing break statement.
    
    This fixes a bug when trying to trigger on a channel being 0/low.

commit 2cca921d919cba518dd1e281be678b77f6b8b6df
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 31 22:58:50 2015 +0200

    Fix a typo in a for loop (wrong variable).

commit ce3ecb70494b5bcf483607d6ecf0906394623601
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 26 21:57:56 2015 +0100

    sysclk-lwla: Use ARRAY_SIZE instead of G_N_ELEMENTS.
    
    Both do exactly the same, but we consistently use ARRAY_SIZE
    in the rest of the code-base.

commit f05406117d67de3bd8aa5f904573bdd5d7ba401f
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Mar 26 18:20:31 2015 +0000

    uni-t-dmm: Declare each meter type in only one place.

commit ca1c21ca3e603b4f383e56ddebbafaa73d89f894
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 26 23:49:35 2015 +0100

    unit tests: Update for sr_session_new() API change.

commit c879dca3d71f321c2a972594a2186f01f398dce8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 25 18:25:57 2015 +0100

    bindings/cxx/classes.cpp: Fix sr_session_load() invocation.

commit 60f6b00144d5b5a2446e55f0389009a468a79a7d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 25 17:37:01 2015 +0100

    bindings/cxx/classes.cpp: Fix a typo.

commit bb5f61105bac2d7826416472e2168d8f59300aea
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Mar 25 05:16:06 2015 +0000

    Call libusb_get_next_timeout() to get minimum timeout for g_poll().
    
    We should have been doing this all along, but we get away with it
    on Linux where libusb can do everything with fds, and we get away
    with it for many drivers that have a short timeout on their events.
    
    On Windows though, handling this correctly is essential.
    
    Fixes bug #343.

commit 4ed5d21d048c8feed085530b7fda6ed265a5913f
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Mar 25 01:43:30 2015 +0000

    Store a context pointer in struct sr_session.

commit 61e6e2da45373acea5dab93a6ede57aae9901b1b
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Mar 25 01:41:10 2015 +0000

    Make sr_session_new() and sr_session_load() require a context.

commit c72981ac41f3cfc1ae770111fc74a88bc8416a97
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 24 23:35:29 2015 +0100

    Revert "session_file.c: Use config_*() wrappers."
    
    This temporarily reverts commit 421bc3eba02f060319c752a26461148fc93563ec.
    
    We cannot yet use the sr_config_*() wrappers, otherwise loading *.sr
    files is broken. A fix is being worked on.

commit f6c30de4b031ab9a8d838c1ad6ff4118b03c0dc4
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Mar 24 20:06:17 2015 +0100

    Initial fix attempt for a thread-related issue on Windows.
    
    This is a partial fix for bug #343, which lead to a large amount of
    handles being created, and eventually to a frontend "hang".
    
    It's not yet a "full" fix as some issues are still observable,
    but it successfully improves the situation on Windows to the extent
    that frontend hangs due to large amounts of handles no longer seem
    to happen.
    
    Thanks to Boris Gjenero <boris.gjenero@gmail.com> for the debugging
    efforts, testing, and updating of this patch!
    
    Additionally, this seems to also fix a "SysClk LWLA hanging" bug
    and apparently not receiving any samples during an acquisition
    (tested on an LWLA1034).
    
    This closes bug #328.

commit 515ab0889ebde4b373d620044a1a98da37153056
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 23 20:18:39 2015 +0100

    Various #include file cosmetic fixes.
    
    Generally include system headers before local headers, unless there's
    a technical reason to use another order.

commit 98fec29ecbb5093856b69311be8e937c162edded
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 23 20:09:08 2015 +0100

    Various NULL-check consistency fixes.

commit a95f142e88fa5368adfabf87544acfdeed7d7604
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 23 19:54:53 2015 +0100

    Some more g_try_*alloc() fixes.
    
    As per documented rules in HACKING, we don't check "small" allocations.

commit 1a46cc62e2b528bcaeb1f8dc0c952a81b3bcba5c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 22 23:07:30 2015 +0100

    Improve readability and clarity of some numbers.

commit f3f19d1131025b68d29a11273b627c83d748e7ea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 22 16:04:18 2015 +0100

    Fix a bunch of typos.

commit 7637cc60ba0201202eec98f66d8494e6ba3d53bd
Author: Mike Walters <mike@flomp.net>
Date:   Tue Mar 24 15:54:53 2015 +0000

    Add udev rule for Rigol 1000Z series

commit 8249889dfa871a45d57a6f513d4a1a5751673558
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 22 00:17:07 2015 +0100

    demo: Fix SR_CONF_DEVICE_OPTIONS variant type.

commit 0f34cb472368be61aa2e7bc9d9d1b25bb28aa560
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 21 20:12:50 2015 +0100

    Channel names consistency fixes and simplifications.

commit db24496ac8575e917996e7812279987f2141c298
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 21 19:35:30 2015 +0100

    Remove unneeded #endif comments.

commit 93b118da4fec6976df924eb77121f07b361b8330
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 20 20:14:39 2015 +0100

    Consistency and whitespace fixes for switch statements.

commit d0148a506ed1007518704d72c0410d4361668fa4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 14 03:09:40 2015 +0100

    Make memset() invocations consistent across all files.

commit 0c5f2abc6697504b5d760dfa56cc90bea180198f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 11 23:32:39 2015 +0100

    Random whitespace and other minor fixes.

commit 421bc3eba02f060319c752a26461148fc93563ec
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 11 20:21:34 2015 +0100

    session_file.c: Use config_*() wrappers.

commit dcd438ee3523098201c7937e75e55775da3b506f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 8 00:28:17 2015 +0100

    Simplify a few config_set() callbacks.
    
    Also, extended logging and random whitespace fixes.

commit 329733d92c5004f0fe308eff26b9537fded2cdf3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 20 14:48:20 2015 +0100

    Constify a few arrays and variables.

commit 53cda65a6bff58efed83b9a1c9b058f7d713ba19
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 20 14:39:24 2015 +0100

    Remove unneeded explicit array size specification.

commit 1beccaed464a4d92a070988a0331fe399f9f7a7a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 20 14:36:47 2015 +0100

    Various minor whitespace fixes.

commit e8be616955f2bc4e2c72fc55d899056ad68fb75c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 20 14:34:18 2015 +0100

    tondaj-sl-814: Add missing SR_PRIV.

commit 145d794facd93b182e6c85d7613ce2e6d9a66d48
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 21 18:46:00 2015 +0100

    serial-dmm: Use g_malloc()/g_free().

commit c35276dd92b948d0c8c71bd816a8a75453895e81
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 21 18:43:17 2015 +0100

    vc870: Fix a compiler warning.
    
      src/dmm/vc870.c: In function 'flags_valid':
      src/dmm/vc870.c:380:54: warning: unused parameter 'info'
      [-Wunused-parameter]
       static gboolean flags_valid(const struct vc870_info *info)

commit 1a8639164e4e44a43fe1558e30823606f7b607b3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 21 18:26:52 2015 +0100

    Minor cosmetics, cleanups.

commit 8852eb75d14730484e66f9e0ff2b177934615a6f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 21 13:17:51 2015 +0100

    serial-dmm: Drop obsolete extern declaration.

commit bcbef5ed709a56e8cec3d7d0b5f73a00a4040984
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Mar 21 09:07:49 2015 +0000

    serial-dmm: Declare each meter type in only one place.

commit 4f840ce965b1c30c5ab75afecc56193cbaf5c1b3
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Mar 21 00:47:31 2015 +0000

    Pass driver struct pointer to driver callbacks.
    
    This lays the groundwork for subdrivers to share callbacks without
    needing a separate wrapper function for each subdriver.

commit 9e60a31fb954493754770fe2192db74b947c6867
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Mar 20 20:39:29 2015 +0000

    Construct driver array at runtime, from an array of per-file arrays.
    
    This lays the groundwork for drivers to define their own array of
    subdrivers, rather than having to list each subdriver here.

commit 702f42e8eb33d8d1ffb5b748097428c0f4434c6d
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Mar 19 16:15:52 2015 +0000

    rigol-ds: Add DS1000Z series support.
    
    Tested on an MSO1104Z with firmware 00.04.02.SP4.
    
    The analog channels are captured correctly. For the MSO series, with digital
    channels, there are two outstanding issues:
    
    1. Logic data is retrieved per-channel, one byte per sample, with the value
       in the LSB of each byte. The current datafeed logic format doesn't allow
       this format to be passed on directly. I suggest we resolve that rather than
       making the driver buffer and interleave the data.
    
       As stands, the code will retrieve data for all channels and pass it onto
       the datafeed with unitsize=1. Channel D0 can used correctly if selected
       alone. For other channels, data is passed to the frontend but the API does
       not provide a way to associate it with the correct channel.
    
    2. Channels CH3 and CH4 are multiplexed with D0-7 and D8-15 respectively, so
       enabling these is mutually exclusive. We don't currently have a way to
       express this constraint to the frontend.

commit c36f78f7728e8b5263bed440530a61caa6e30a26
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 29 23:30:41 2014 +0100

    Add initial Voltcraft VC-870 support.
    
    There are a few details that have yet to be implemented or
    reverse engineered and tested.

commit ded3e5087c53a85058b0e4332d4a37bb27d464ff
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 20 20:35:07 2015 +0100

    libsigrok.h: Add SR_MQ_POWER_FACTOR and SR_MQ_APPARENT_POWER.

commit 350b8b07f0d84653c0e8bbb4ef61d670d24e7c2a
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Wed Mar 18 14:26:43 2015 +0100

    baylibre-acme: Fix a double free in bl_acme_set_shunt().
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit cfcdf576775a6e53f25dec50ec710bfc89723147
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Mar 18 18:10:56 2015 +0000

    scpi-pps: Add profile for Rigol DP821A.

commit 7d4f1741e377099b9151226eb950ccbf89281fb0
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Mar 18 18:02:06 2015 +0000

    scpi-pps: Initialise sdi with status SR_ST_INACTIVE.
    
    Without this change a segfault occurs at exit after scan, because
    dev_close() is called and the device is believed to be open.

commit 40c2c9159cde208105fa2631019dc857b9918907
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Mar 19 19:22:04 2015 +0000

    rigol-ds: Fix broken channel group check in config_list().

commit f579d08bc592e0ca6a6183e8f75fcd2d4bc72710
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Mar 19 17:50:24 2015 +0000

    rigol-ds: Data source is a device option, not per channel group.

commit 98bfc4741f76b07e7db4c9628a6924004fc4fff4
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Mar 18 15:14:29 2015 +0000

    rigol-ds: Use sr_scpi_get_bool().

commit bff16ba817a5609e91ca803892354ab7dbc396df
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Mar 18 16:35:39 2015 +0000

    rigol-ds: Fix double free.
    
    std_dev_clear() frees all channel groups, so this one is not required.

commit 16aca7661b7ab34a399c323bb9214721e2b1be0c
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Mar 18 16:35:08 2015 +0000

    rigol-ds: Fix wrong channel group malloc size.

commit 6f1346fbd7bbb6cca97d8a6c02b36156fce24ec2
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Mar 19 21:55:48 2015 +0000

    Change API of channel accessor functions to take struct sr_channel *.

commit 837b08660a2ffaef0d2e47ef9555bd3af3f4874f
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Mar 19 21:41:51 2015 +0000

    Add sdi pointer to struct sr_channel.

commit 5e23fcab889c62864b92aa3ad6902ce3e9f5be49
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Mar 19 21:37:33 2015 +0000

    Simplify channel creation.
    
    We always follow sr_channel_new() with a call to add the channel to the sdi.
    Tidy up a bit by adding this functionality to sr_channel_new() instead.

commit bc497772512c2fd37516964ade58b69448aae37c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 18 23:08:26 2015 +0100

    fx2lafw: Replace obsoleted strncmp() calls.
    
    The fixed lengths for strncmp() can no longer be used since strings of
    various lengths can be passed to match_manuf_prod(). Use strcmp() instead.

commit 6fcf3f0a22e3dd2467fd09b0cad92b36e0409fc4
Author: eightdot <gituser@eightdot.eu>
Date:   Mon Mar 16 10:34:08 2015 +0100

    Various fixes/updates to make the driver compile.
    
    This patchset was originally done by eightdot <gituser@eightdot.eu> by
    manually forward-porting parts of the changes done by Bert Vermeulen (see
    previous commits), but then heavily modified by Uwe Hermann to be based on
    top off the (git-)rebased patches from Bert Vermeulen instead.
    
    Note: This initial DSLogic code is *not* yet in a working or usable
    state. It should be considered as a basis for further work only, for now.

commit b9d530920fa97ab92d5f78f6f00a1ffc73259f2f
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri May 16 23:04:14 2014 +0200

    fx2lafw: Basic acquisition support for DSLogic.

commit 0e6510b8fc9a4411684d26c1c2d8493d3637cb95
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 15 22:01:34 2014 +0200

    Add udev rule for DSLogic.

commit a7d7f93c1ba6f08c243b894dda29b8ac0349bf10
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat May 3 09:37:00 2014 -0700

    fx2lafw: scan/firmware support for DSLogic.

commit c04cf9aa819093e51f382bf5cd28e9ef2565256f
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Mar 5 18:28:10 2015 +0100

    output: Accept analog packets in csv output module.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit f7ab2f231a5c3f52f386084fa4318ee0781031ec
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 13 19:12:47 2015 +0100

    ols: Fix a compiler warning (unused variable).
    
        CC       src/hardware/openbench-logic-sniffer/api.lo
      ../src/hardware/openbench-logic-sniffer/api.c: In function 'scan':
      ../src/hardware/openbench-logic-sniffer/api.c:103:10: warning: unused
      variable 'probefd' [-Wunused-variable]
        GPollFD probefd;
                ^

commit ed936ccc7c386c01c3a88f8c005f0d041f02f451
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 13 08:33:22 2015 +0100

    ols: Fix detection and acquisition on Windows.
    
    Use the more portable sp_input_waiting() instead of g_poll() with FDs.
    Thanks to Martin Ling for the hints. This is tested on Linux and Win7
    using an OLS; scanning for the device and starting an acquisition works.
    
    Also, add some more debug output.
    
    This fixes bug #562.

commit 5fabeeac6af940b52f67ac8c925952accc9b39b3
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Fri Feb 27 16:48:17 2015 +0100

    baylibre-acme: correctly handle channel group options
    
    Split device options into general and channel group settings, and
    adjust config_list() callback appropriately.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit bf622e6d00e7985e36a0ddb643e2bf05d66679a6
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Mar 1 14:26:54 2015 +0000

    Rename SR_CONF_NUM_TIMEBASE to SR_CONF_NUM_HDIV.

commit 6df8e239de62694b30a3bb061e421ea12363c185
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 2 12:23:32 2015 +0100

    ut372: Minor cosmetics.

commit 12318aab968eb27954d4b1497eecc31f9f3c3c1d
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Mar 1 23:20:21 2015 +0000

    ut372: Support count mode.

commit b9c10ae18b24984bb230e2c4ae8f5d067d183815
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Mar 1 23:14:58 2015 +0000

    Add SR_MQ_COUNT for event count measurements.

commit 8c9092b00b9c2451a8daf62bdfe75082566b2f89
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Mar 1 23:07:11 2015 +0000

    ut372: Handle flags correctly.
    
    Packets will now be rejected if the device is not displaying RPM.

commit 118268a2fe27e0ec998589e228e4b9d87a760883
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Mar 1 22:52:52 2015 +0000

    ut372: Break out character-pair decoding to a separate function.

commit 472bef399078cd7e80f35940a527828a1c841c46
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Mar 1 22:26:21 2015 +0000

    ut372: Implement initial protocol parser.
    
    For now this only works correctly if the device is in the default
    state showing current RPM. The flags are not checked.

commit f3cde30904b2bc5ac5b1782d5e65d1ec8ce60ed6
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Mar 1 21:13:30 2015 +0000

    ut372: Initial sub-driver skeleton.

commit 2cb63065f525655d3abccc1b26edd7275937b034
Author: Baruch Even <baruch@ev-en.org>
Date:   Fri Feb 27 15:15:26 2015 +0200

    serial-dmm: Add MASTECH MS8250B as a supported DMM.
    
    It is an alias and uses the FS9721 driver.

commit 25609412233a67514fed29b9c87824ad5a00884f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Feb 26 18:55:17 2015 +0100

    configure.ac: Two more fixes for the baylibre-acme detection.

commit d9c3331d12d3060d33b1d2ee592c26c1d927dce8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 21 20:57:27 2015 +0100

    asix-sigma: Use the more portable g_usleep().

commit f80b3fe2340c1f4599c4194e6171a65ec44d43f3
Author: Vladislav Ivanov <vlad-mbx@ya.ru>
Date:   Thu Feb 26 08:32:59 2015 +0100

    configure.ac: Fix baylibre-acme OS check.

commit 380ee96fdfe0895ca0aa0b158d5c332ef08f8b3c
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Tue Feb 17 18:27:04 2015 +0100

    baylibre-acme: don't report ACME as detected if no probes are present
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit b1e034f7584ee71b116aeca7f50ae3ec738ccbf0
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Wed Feb 18 13:21:18 2015 +0100

    Doxyfile: Make exclude patterns more specific.
    
    Current exclude patterns lead to unwanted exclusion of all paths
    containing common directory names like output, bindings etc. even
    if those names occur higher in the directory structure.
    
    Make exclude patterns more specific by prefixing them with src/.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 3d14ce49e49e5dc299f3f08a3e294e59aed7d4ac
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 17 16:10:33 2015 +0100

    baylibre-acme: Fix vendor/device name.

commit e00b3f5897d9b5b85b552f9f8da7684229b9bdfc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 17 15:55:37 2015 +0100

    Various Doxygen updates.

commit 02a2bf688f25a50ea05276be75fba8b4f644fca6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 16 22:39:19 2015 +0100

    unit tests: Drop unneeded check_ filename prefix.

commit d258022db0b79dffc2bbdde0882e821966dbc312
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 16 01:53:15 2015 +0100

    baylibre-acme: Drop unneeded comment.
    
    There's indeed no g_fclose() unfortunately. The g_*() wrappers for file
    handling are mainly there to deal with portability issues in file names
    (encoding, character sets, etc) on different platforms.

commit 3452785431dea578275d2dfd584709c5f7c6db9a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 16 01:51:53 2015 +0100

    baylibre-acme: Fix a compiler warning.
    
    Use PRIu64 to avoid the following compiler warning:
    
        CC       src/hardware/baylibre-acme/gpio.lo
      protocol.c: In function 'bl_acme_set_shunt':
      protocol.c:341:2: warning: format '%llu' expects argument of type 'long long unsigned int', but argument 3 has type 'uint64_t' [-Wformat=]
        g_fprintf(fd, "%llu\n", MOHM_TO_UOHM(shunt));
        ^

commit 391e23a97fe5b919f7f0716702bd1b151c601f66
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 16 01:49:47 2015 +0100

    baylibre-acme: Minor coding-style, cosmetics.

commit 740ad48ac8acd3357b1178ff09620b9e3a87c10e
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Feb 12 14:53:55 2015 +0100

    baylibre-acme: Add support for SR_CONF_POWER_OFF.
    
    Allow to remotely cut the power at ACME probe level.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 289eebd7ca9f1229fe7e9d318c4895069ed82d6e
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Feb 12 14:53:54 2015 +0100

    baylibre-acme: Add Linux-specific GPIO helpers.
    
    These functions allow to export, read and set GPIOs using Linux
    sysfs interface.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 61f2b7f74cd2d05cacb2bfb3cad2c2d67c856f47
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Feb 12 14:53:53 2015 +0100

    baylibre-acme: Add support for probe factor setting.
    
    Implement support for SR_CONF_PROBE_FACTOR setting in BayLibre ACME
    driver. Given the channel-group parameter this allows to set the
    shunt resistance for each probe.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit d3c81725aeff955b45da41d6f4810569d660e40d
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Feb 12 14:53:52 2015 +0100

    SR_CONF_PROBE_FACTOR: New option.
    
    Add new configuration option allowing to modify the probe factor
    for oscilloscopes and power-monitors.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit a0b277ba67169ce4343dc7ce14d350b930ee4eef
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Feb 12 14:53:51 2015 +0100

    configure.ac: Compile baylibre-acme driver for Linux only.
    
    The driver for BayLibre ACME depends on Linux-specific sysfs
    interfaces to ina226 and tmp435 devices. Exclude it for different
    targets.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 6b80b80dcf2c6f6cdc4c8a782085846c861bd10d
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Feb 12 14:53:50 2015 +0100

    baylibre-acme: Driver implementation.
    
    Implement basic functionalities for baylibre-acme. Add support
    for common config options, device detection and sample reading.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit dfaee1de1711cdfba7bd780b448188819691a2db
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Feb 12 14:53:49 2015 +0100

    baylibre-acme: Initial driver skeleton.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 96cb7faac37568df717de175ae7800aeebeb918f
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Feb 14 23:54:13 2015 +0100

    rigol-ds: fix the smallest supported vdiv for the DS2000 series.

commit 81b85663f3511317ecbd86527057539a12806885
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Feb 14 23:52:33 2015 +0100

    rigol-ds: return the actual hardware num_vdiv and vdiv list.

commit c33ff3771bcbab940ee7da88c89e70b61c26d0d3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Feb 14 23:48:36 2015 +0100

    rigol-ds: fix search for the closest vdiv.
    
    We try to find the smallest diff by comparing each diff with
    the previously known smallest diff, so initially, this smallest diff
    should be INFINITY so that we are sure to find a smaller one.
    
    This fixes the following exception:
    sr: rigol-ds: Negative vdiv index: -1.
    Caught exception: not applicable

commit f44f7e61a37f0b42dc06e85278b0b152ddc70ab2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 14 19:23:34 2015 +0100

    rigol-ds: Add missing "break" statements.

commit d50725e0126a5d52d97e7ea49e37c66c15108156
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 14 19:08:39 2015 +0100

    rigol-ds: Add missing 20/50/100V vdiv entries.
    
    These are available on e.g. Rigol DS1102E (or "upgraded" DS1052E).
    
    Without this, if one of the channels happens to have been set to
    one of the missing vdiv settings frontends (e.g. PulseView) will
    have some trouble using the scope:
    
      sr: hwdriver: sr_config_get(): key 30012 (vdiv) sdi 0x11bcb70 cg CH1
      sr: rigol-ds: Negative vdiv index: -1.
      std::exception

commit e1b5b7e735608bcabb674d807f8321e9e8e00fa5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 14 18:34:04 2015 +0100

    rigol-ds: Add more debug output.

commit d5c4144e2cd5129da947277c24b699066d0bec72
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Feb 13 16:37:24 2015 +0100

    rigol-ds: handle full word trigger slope in config_get().
    
    Some scope can return POSITIVE/NEGATIVE instead of POS/NEG,
    so accept this as well.
    
    This closes bug #558.

commit b0c9d1d1c2cc9f57716caeef4288a03839d03266
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Feb 12 15:56:58 2015 +0100

    rigol-ds: SR_CONF_TRIGGER_SLOPE is actually listable.

commit 73931b7cc732f490ba6d2413707e50462666fa86
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Feb 12 11:30:52 2015 +0100

    input/vcd: fix parse_header() return value check.
    
    Mixing tests for both a boolean and an SR_ERR at the same time is not
    really a good idea.
    parse_header() actually returns a boolean so only check if it returns FALSE.
    
    This fixes the following gcc-5 warning:
    
    src/input/vcd.c: In function 'receive':
    src/input/vcd.c:506:34: warning: logical not is only applied to the left hand side of comparison [-Wlogical-not-parentheses]
       if (!parse_header(in, in->buf) != SR_OK)
                                      ^

commit 2617c81a4b101714bf90173f4da0724007c58219
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Feb 12 11:24:11 2015 +0100

    Remove the inline qualification from sr_rational_set().
    
    Inlining can only happen in the same compilation unit where the
    function was defined, so there is no sense declaring an inline
    function in a header if this function is not defined in this
    same header.
    
    This fixes the following gcc-5 warning:
    
    In file included from include/libsigrok/libsigrok.h:1066:0,
                     from src/version.c:21:
    include/libsigrok/proto.h:36:20: warning: inline function 'sr_rational_set' declared but never defined
     SR_API inline void sr_rational_set(struct sr_rational *r, uint64_t p, uint64_t q);
                        ^

commit ee29d92e140a7b516b4ad24b2cd3047bfa5497cd
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Feb 12 11:14:37 2015 +0100

    Correctly copy sr_datafeed_meta in sr_packet_copy().
    
    Commit 5801d558 replaced g_slist_copy_deep() by some incorrect code
    that actually leaks the newly allocated memory, instead of doing
    a deep copy.
    
    This new version should be more correct, more concise, and it fixes
    the following warning:
    
    src/session.c: In function 'sr_packet_copy':
    src/session.c:1025:38: warning: passing argument 2 of 'g_slist_foreach' from incompatible pointer type [-Wincompatible-pointer-types]
       g_slist_foreach(meta_copy->config, (GCopyFunc)copy_src, NULL);
                                             ^
    In file included from /usr/include/glib-2.0/glib/gmain.h:26:0,
                     from /usr/include/glib-2.0/glib/giochannel.h:33,
                     from /usr/include/glib-2.0/glib.h:54,
                     from src/session.c:24:
    /usr/include/glib-2.0/glib/gslist.h:125:10: note: expected 'GFunc {aka void (*)(void *, void *)}' but argument is of type 'void * (*)(const void *, void *)'
    void     g_slist_foreach                 (GSList           *list,
             ^

commit c4f9582714563b1929670061e6d2f87d8a64d152
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 11 16:26:12 2015 +0100

    sr_strerror_name(): Add missing SR_ERR_IO entry.

commit 3c5582595a024e6221018eced858e62f0bed849b
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Mon Feb 9 18:31:14 2015 +0100

    SR_ERR_IO: new error code
    
    Add new error code which can be used to notify the user about
    general input/output errors.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 3cdff6cd2d1ce64e901540fa86a263666222ac07
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Mon Feb 9 18:31:09 2015 +0100

    configure.ac: Add AC_CANONICAL_SYSTEM macro.
    
    In order to determine the target OS when cross-compiling libsigrok
    we need autotools to set the 'target_os' variable. This macro
    determines the system type and sets output variables to the names
    of the canonical system types.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 187cfc604e51ee534fef8dc33278caa8eb1ff66d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 10 22:55:41 2015 +0100

    backend: Add basic transform module sanity checks.

commit 8677e4e7be9aa857d273f37da2beb21d457878c4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 10 22:47:36 2015 +0100

    transform: Add a few basic unit tests.

commit d74d30bb14b9cb240e244caff7179926c72630e6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 11 09:34:38 2015 +0100

    transform: Add an "invert" transform module.
    
    This inverts the data values:
    
     - An analog value of x becomes 1/x.
    
     - A digital value of 0 becomes 1 (and vice versa).

commit 43caa4662388ccc58c0ed8d8e861c52d10d5ded2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 10 22:25:52 2015 +0100

    transform: Add a "scale" transform module.

commit 39f1752eff0cde7eaedcc5ed950d56f4f244ea32
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 10 21:38:21 2015 +0100

    transform: Add a "nop" transform module.
    
    This doesn't do anything, just passes input packets on unmodified.

commit c0a1e532f57c0405621a06f5b360c1ef25aa4c52
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 10 21:24:23 2015 +0100

    transform: Hook up transforms.

commit 988357ca2f0cb0d0e066111c12b9c0de74a53a1b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 10 20:49:46 2015 +0100

    transform: Add a basic set of API calls.

commit 790320f605062718115d791d2b46c1e54bc4908e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 10 20:42:50 2015 +0100

    transform: Add struct sr_transform and struct sr_transform_module.

commit b595a45876b351e9259248ae9c7afc3593d53f24
Author: Uffe Jakobsen <uffe@uffe.org>
Date:   Tue Feb 10 14:09:28 2015 +0100

    Fix problem building with BSD make
    
    This fixes bug #556:
    
    Bug 556 - libsigrok fails to build with BSD Make

commit d378f1009999f8b9a1037a9f417ea5518d9a6d37
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 31 22:41:04 2015 +0100

    Makefile.am: Add NEED_SERIAL condition.

commit 2182e775116dba1ef61b62de12480ab5bb21c4b1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 31 22:29:07 2015 +0100

    Makefile.am: Unconditionally build src/lcr/es51919.c.
    
    We do the same with DMM parsers currently, and this change also
    fixes an issue in sigrok-util's 'new-driver' script.
    
    This fixes bug #545.

commit 479b7e469ad5ee24e621c1848debe9e325e854e2
Author: Daniel Elstner <daniel.elstner@kdab.com>
Date:   Sat Jan 31 21:08:14 2015 +0100

    Update list of files ignored by git

commit 1f501d72ef58861e27c6c7fcbb26780ad41010ef
Author: Daniel Elstner <daniel.elstner@kdab.com>
Date:   Sat Jan 31 21:07:28 2015 +0100

    configure: Avoid bashism breaking the C++ bindings

commit 57ba5f3d56a3e2927d35229a684cc9b4b8435789
Author: Daniel Elstner <daniel.elstner@kdab.com>
Date:   Sat Jan 31 21:04:14 2015 +0100

    sysclk-lwla: Widen constant to 64 bit before shifting
    
    (lwla_convert_trigger): Fix trigger mask computation bug introduced
    by recent change:  Widen constant to 64 bit before shifting so that
    channel nunmbers beyond 32 are processed correctly.

commit 5801d558e717d02947761854f22d64afd223d8c8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 29 08:51:31 2015 +0100

    Lower dependency to glib 2.32.
    
    By avoiding g_slist_copy_deep() for now, we can easily allow libsigrok
    to build against glib 2.32 (less hassle for users of stable/older
    distros or OSes).

commit 8656a71790133d4de42252a1e75b4209c03b4983
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 27 09:00:34 2015 +0100

    output/gnuplot: Use .dat as suggested file extension.
    
    Gnuplot doesn't have any "official" file name extension(s). It uses
    (at least) two different types of files basically:
    
     - "control files": These can have many different somewhat commonly
       used extensions such as .gpi, .gnu, .gnuplot, .gp, .plt, .gih,
       others. These files don't contain data, only Gnuplot commands such
       as 'set yrange [75:105]', 'set ylabel "foo" offset 1', and so on.
    
     - "data files": This is what libsigrok reads and writes. These files
       contain actual data to be graphed by Gnuplot (with the help of a
       specially-crafted control file, see above). The data is usually in
       a tab-separated format. The common file extension is usually .dat,
       though many others are possible as well.

commit 4fb0a5f8a022b4b551f0dcac5c458c7108ea613c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 27 08:33:51 2015 +0100

    in/out: Minor consistency renames.
    
     - 'struct sr_input *' variables are consistently named 'in'.
     - 'struct sr_input_module *' variables are consistently named 'imod'.
    
     - 'struct sr_output *' variables are consistently named 'o'.
     - 'struct sr_output_module *' variables are consistently named 'omod'.

commit a82c83c6a506a41154344593948de859e5b9ae7e
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Jan 21 01:02:37 2015 -0500

    output/wav: Improved description

commit 8a174d23427735617d69c7502ed8dcade786bbf9
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Jan 21 01:02:14 2015 -0500

    output: Added preferred file extension field
    
    This fixes parts of bug #541.

commit c7bc82ffa1b09a228a8395049e2b691cd7bd85f8
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Jan 21 00:56:51 2015 -0500

    input: Added preferred file extension field
    
    This fixes parts of bug #541.

commit dc7125bb7cfe34f63695ea928dda17594dfac3d2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 26 15:26:15 2015 +0100

    cxx: Fix a linking issue.
    
    Fix "undefined reference to `sigrok::EnumValue<sigrok::LogLevel,
    sr_loglevel>::_values'", which happens at least when using clang(++),
    e.g. on Linux, Mac OS X, or FreeBSD.
    
    This fixes bug #534.
    
    Thanks to Uffe Jakobsen and Martin Ling for reporting and investigating!

commit 19643b96e27cdeb84123fc91158b25a0d1a6368d
Author: Uffe Jakobsen <uffe@uffe.org>
Date:   Thu Jan 22 01:11:22 2015 +0100

    Fix FreeBSD issue with libusb_get_port_numbers()
    
    Currently (as of date 20150122) an ioctl problem within the
    FreeBSD kernel is preventing libusb_get_port_numbers() from working.
    Hence calls to libusb_get_port_numbers() will always return 0.
    This makes it impossible to establish a physical path the the usb device.
    
    This problem has existed "forever" -
    meaning that libusb_get_port_numbers() has never worked.
    
    A fix is committed to FreeBSD "current" head  -
    and will later be merged (MFC'ed) to maintenance branches.
    See: https://svnweb.freebsd.org/base?view=revision&revision=277417
    
    Additionally FreeBSD requires that devices prior to calling
    libusb_get_port_numbers() have been opened with libusb_open().
    
    The patch is "forwards-compatible".
    Currently it acts specificly to libusb_get_port_numbers()
    currently returning 0 on FreeBSD.
    In these situations it constructs an artificial path to the device.
    When FreeBSD kernels appears with proper working ioctl
    supporting libusb_get_port_numbers() the code will construct
    proper physical paths for newer kernels - while still generating
    artificial physical paths for older defective kernels.

commit 7a8a1aba3797ed250f7b0e149ea4a6306be364b8
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Jan 22 10:22:59 2015 +0100

    demo: implement averaging support
    
    Add support for averaging and avg_samples option to the demo device.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit 9ed444e6226c5d36b637708864361429f77f07a8
Author: Bartosz Golaszewski <bgolaszewski@baylibre.com>
Date:   Thu Jan 22 10:22:58 2015 +0100

    new config options: averaging
    
    Add new config options to libsigrok - 'averaging', which allows to
    enable averaging of samples and 'avg_samples' for setting the number
    of samples to be averaged over in each cycle.
    
    Signed-off-by: Bartosz Golaszewski <bgolaszewski@baylibre.com>

commit d5062672dd185e351f8d91e851820df069b6429e
Author: Uffe Jakobsen <uffe@uffe.org>
Date:   Fri Jan 23 23:55:14 2015 +0100

    Check for librevisa >= 0.0.20130412 - the latest official release

commit 7a54232ba06b0715e4c98a913d1b316c8c521c2c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 18 16:02:54 2015 +0100

    sr_input_new(): Add missing @param comment.
    
    This fixes a Doxygen warning:
    
      src/input/input.c:209: warning: The following parameters of sr_input_new(const struct sr_input_module *imod, GHashTable *options) are not documented:
        parameter 'imod'

commit 48d92e2c2e6291412e8a4d2218184112ebf0fad9
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Jan 18 22:43:02 2015 +0000

    C++: Fix segfault where input/output options are NULL.

commit 718a9d382ff03857105c737526effbc0d097349c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 17 21:47:59 2015 +0100

    Fix two warnings when libserialport is not used.
    
        CC       src/fallback.lo
      src/fallback.c: In function 'sr_serial_list':
      src/fallback.c:26:59: warning: unused parameter 'driver' [-Wunused-parameter]
       SR_API GSList *sr_serial_list(const struct sr_dev_driver *driver)
                                                                 ^
      src/fallback.c: In function 'sr_serial_free':
      src/fallback.c:31:51: warning: unused parameter 'serial' [-Wunused-parameter]
       SR_API void sr_serial_free(struct sr_serial_port *serial)

commit 0959ed3d028d1110d36f2c67840872c2ebc54e36
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 17 20:29:05 2015 +0100

    Install libsigrokcxx headers in separate directory.
    
    Don't mix libsigrokcxx header files into the $prefix/include/libsigrok
    directory. Use a separate $prefix/include/libsigrokcxx instead.

commit 161dc24d845acfc00108dd33eac7c42430d21e17
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 17 20:11:53 2015 +0100

    cxx: Rename include/libsigrok/ to include/libsigrokcxx/.

commit 1b40fdb88108699cf9d912f3d7aadffb4dc04050
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 17 20:05:15 2015 +0100

    Rename libsigrok.hpp to libsigrokcxx.hpp.
    
    This avoids confusion of libsigrok.h vs. libsigrok.hpp and makes it
    clearer that this is the main libsigrokcxx header.

commit e0e6aecc20ac57c30b276df129b1151b8eab0508
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 17 19:59:44 2015 +0100

    libsigrok.hpp: Fix incorrect glibmm.h #include.
    
    As per upstream docs "#include <glibmm.h>" is the correct usage,
    the "glibmm-2.4" directory is handled correctly via pkg-config:
    
     $ pkg-config --cflags glibmm-2.4
     -I/usr/include/glibmm-2.4 [...]

commit afba88adb5befa17f0d0af31e53f792431aeee44
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 17 19:53:44 2015 +0100

    libsigrokcxx: Drop Requires.private entry.
    
    libsigrokcxx.pc has a "Requires" field listing "libsigrok" which
    will cause libsigrok's "Requires.private" entries to be used/inherited
    when 'pkg-config --libs --static libsigrokcxx' is used.

commit 52ff4f6a04cbdb966ee538bd447ae206215b528a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 17 18:49:04 2015 +0100

    Rename libsigrokxx to the more common libsigrokcxx.

commit f3256bb7060c56934ce9ad1bcffb318de2d899f4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 12 01:19:12 2015 +0100

    Makefile.am: Use $(MKDIR_P) everywhere.

commit 3b95bd9152e6f54e259caf0909af86768c518e7a
Author: Mathias Katzer <mkatzer@gmx.de>
Date:   Sun Jan 11 01:40:28 2015 +0100

    scpi: Fix incomplete data issue for e.g. Hameg HMO1024.
    
    On a Hameg HMO1024 you get incomplete data because the USB transfer takes
    longer than the scpi->read_timeout_ms of 1 second that is defined in
    scpi_dev_inst_new(). Therefore reset the timeout in sr_scpi_get_string()
    whenever the device sends a partial response.

commit f62f595bfc730070fbf95f7a75c45aef9622fdd4
Author: Mathias Katzer <mkatzer@gmx.de>
Date:   Sun Jan 11 01:39:41 2015 +0100

    hameg-hmo: Fix double-free issue.

commit a1b61e6e04246d7619d3cb7e3c6ab77ab6d2e3d5
Author: Mathias Katzer <mkatzer@gmx.de>
Date:   Sun Jan 11 01:38:20 2015 +0100

    hameg-hmo: Set SR_CONF_GET | SR_CONF_SET for frame limit.
    
    Reading analog data from an HMO1024 (Firmware 04.527) failed because the
    frame limit could not be set.

commit 6ae536258977b8a38bd7c58ad9a86fec5e4feece
Author: Jiří Pinkava <j-pi@seznam.cz>
Date:   Fri Jan 9 00:45:48 2015 +0100

    Python bindings: respect DESTDIR.
    
    Thanks Aurelien Jacobs <aurel@gnuage.org> for a suggested
    fix/improvement.

commit 787ec9dbd9613d34e0afed6ec145f24917e450c5
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Dec 20 17:33:24 2014 +0200

    Limit frames instead of samples.
    
    Since every individual measurement is represented by a single frame
    and a "sample" isn't all that meaningful concept in this context,
    it makes more sense to define possible limit in number of frames.
    Make the es51919 driver to support setting a frame limit instead of
    a sample limit.

commit a6413fa58e455fb4a654720218183e297835226c
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Dec 20 17:32:26 2014 +0200

    Use frames to group a single measurement result together.
    
    In most, but not all, modes the ES51919 reports two separate
    analog values for each measurement sample. These values are
    mapped to two separate channels and sent in two separate
    packets.
    
    A client program needs a way to determine which results are
    parts of the same measurement and also know when a complete
    measurement is received so it can process the sample. Use
    the frame begin and end packets to separate groups that each
    represent a single complete measurement.

commit bb983c666a074d8e16c5f6c16e20870bc6c5d727
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Fri Dec 19 21:45:56 2014 +0200

    Fix the channel indexes of the es51919 driver.
    
    Set the channel indexes to unique values instead of setting
    them all zero.

commit 3e2f04cf2637054846acaf5cf19f765e29e60fed
Author: Rene Hopf <renehopf@mac.com>
Date:   Tue Jan 6 02:31:52 2015 +0100

    fix autogen.sh on OS X. This fixes bug #516.

commit 15eea61a470617c2e8df066180821f532b3cbf88
Author: Uffe Jakobsen <uffe@uffe.org>
Date:   Wed Dec 31 00:32:44 2014 +0100

    Fix compile error on FreeBSD

commit b1a7ca3b605a8a7e7ce97dfc9eb211e9b3a5c918
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 3 18:03:50 2015 +0100

    serial.c: Cosmetics/consistency/documentation fixes.

commit 24287ea9e3dd0c6f7fc2299eaf725346b8c1fea2
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Dec 7 00:56:22 2014 +0100

    Add a public API to list available serial ports.

commit 3fc66eda9f62ed5520e237ad6bad036d27bf96c2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 3 17:38:06 2015 +0100

    Mention the Building#FAQ wiki page for common issues.

commit cd5623ca86d517d5e9d02d195ad2f744e8e16614
Author: Jiří Pinkava <j-pi@seznam.cz>
Date:   Sat Nov 22 04:52:58 2014 +0100

    fix numpy include path

commit e26f5af3593b6d826a8ad7bed399935197454f2c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 6 22:27:47 2014 +0100

    README: Require SWIG >= 2.0.0.
    
    We use %shared_ptr for example, which was introduced in SWIG 2.0.0.

commit 5e1b68c6e7567e0dcf7aff1307c3ffd4852cc15a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Nov 25 22:49:39 2014 +0100

    Only save enabled channels to a session file.
    
    This reverts bc96d5f08fe59ea7c51799b148946f5003c90927 which is not
    needed anymore since we have a better fix for #410 and #495.

commit a160a0c344f5bcb24eeb01c5698f3a50eaee7d79
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Nov 25 22:44:30 2014 +0100

    session_file: Enable only the probes that are actually listed in metadata.
    
    This is a better fix for #410 and #495.

commit 0d6478d7aa7f7b422b1c2b8186856093e93469c1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 3 09:09:31 2014 +0100

    README: Improve and update the requirements list.

commit 974fb0fffaffb0b2d1437ee280e4308a252741a0
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 28 00:21:10 2014 +0100

    saleae-logic16: Show libusb transfer status name instead of code.

commit a11e10ec91d596a8d882dffe28b2abea65855ffb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Nov 27 23:22:05 2014 +0100

    saleae-logic16: Change two errors into warnings.
    
    Related to #466, convert two more sanity checks from errors into warnings.
    This may allow more devices to work with libsigrok.

commit 5cfcab6603414489181ded122b51579f7b546024
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Nov 27 01:00:40 2014 +0100

    saleae-logic16: Clearer error message.

commit e743a47d6d23050c72aa1276c5df4a45a6bc5357
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Nov 25 22:12:33 2014 +0100

    beaglelogic: Add SR_CONF_CAPTURE_RATIO support.

commit 5a971f66a37df7c4dbe7799b3c7fc7eb30055a61
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Nov 25 22:11:44 2014 +0100

    saleae-logic16: Add SR_CONF_CAPTURE_RATIO support.

commit 7bfcb25cf1aa4fe7ddc177292bcf2ee4d9b1446d
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Nov 25 12:28:36 2014 +0100

    fx2lafw: Add SR_CONF_CAPTURE_RATIO support.

commit fe5a735553470fe372ff1c12eb55398bd0f098b8
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Nov 25 12:23:34 2014 +0100

    soft-trigger: Add support for pre-triggering.

commit bc96d5f08fe59ea7c51799b148946f5003c90927
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 24 02:21:15 2014 +0100

    Always save all channels to a session file.
    
    This works around limitations of the current API that screw up saving
    only enabled channels. See bug 410. And bug 495.

commit e835e8080b6278137ea90f3b10e5d8bc51136a91
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 24 01:11:17 2014 +0100

    bindings: Session::set_trigger(): Fix segfault condition.
    
    sr_session_trigger_set(sess, NULL) is a valid thing to do, meaning that
    any trigger shall be removed from the session.
    
    This closes bugs #491 and #496.

commit 9f42e2e6beb6f09b137501bcf402b36a64dcd211
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 24 00:50:11 2014 +0100

    sr_session_trigger_{get,set}: Document, add error checks.

commit c8965e545957209652f0bc79f88a1b39d8ff7ce2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 24 00:49:38 2014 +0100

    Add a few unit tests for sr_session_trigger_{get,set}.

commit b6085eb17901306b686a9269e5d2660d88561dc3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 23 21:09:37 2014 +0100

    manson-hcs-3xxx: Fix incorrect SR_CONF_SCAN_OPTIONS handling.
    
    The SR_CONF_SCAN_OPTIONS key must be listable with or without sdi,
    otherwise the device will not be detected by frontends.

commit 84b448ee060c9ca40ca9324c0df9a49f4f4bd32b
Author: Jiří Pinkava <j-pi@seznam.cz>
Date:   Sun Nov 23 17:38:28 2014 +0100

    Do not check for JDK headers if Java bindings are disabled.
    
    This removes an unnecessary build dependency on JDK and fixes
    build troubles on systems where javac is present but JDK is not
    installed and Java bindings are disabled by ./configure --disable-java.

commit 2f004b4bc15c891b474adcba59a2224f009828af
Author: Vincent Palatin <vpalatin@chromium.org>
Date:   Mon Nov 10 08:17:07 2014 -0800

    usb_get_port_path(): fix libusb error checking
    
    When libusb cannot access a device, libusb_get_port_numbers() will return
    an error. Check the return code rather than doing invalid pointer
    operations (out-of-bound read).
    
    Avoid segfaults at sigrok-cli startup on my setup where some USB devices are
    not accessible and also make Valgrind happier.
    
    Signed-off-by: Vincent Palatin <vpalatin@chromium.org>

commit 68ac991dbaa05ab91459419400b21b93f02d0e76
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 23 17:47:58 2014 +0100

    Publish config key capabilities on session driver.

commit 90cefe0cc7d498ed8a8c7cdb1e95c16296ca5059
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Nov 20 03:11:14 2014 +0100

    Add sr_rational_set() convenience function.

commit cd3c4df35acdde1920fcaac92c0fd85591167e7a
Author: Tim Hatch <tim@timhatch.com>
Date:   Sun Nov 2 15:29:38 2014 -0800

    saleae-logic16: Downgrade error during capture to a message.
    
    Some clone doesn't set this to the exact same value, and both bits in 0x48 are
    marked as unknown at
    http://sigrok.org/wiki/Saleae_Logic16/Firmware#FPGA_variables
    
    This fixes bug #466.

commit 372c041bd8202d1ffa340bf00e065685f10a33f5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 23 13:10:32 2014 +0100

    unit tests: Disable timeout for one of the test cases.
    
    This one can take a while, thus disable the timeout.

commit 5fcc5909cc5f870e581fd367fd7b86b58c58e7c6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 22 22:06:02 2014 +0100

    python: Silence some warnings via -Wno-uninitialized.
    
    Silence some warnings when building the Python bindings:
    
      sigrok/core/classes_wrap.cpp: In function ‘PyObject* _wrap_new_OutputFormatMap(PyObject*, PyObject*)’:
      sigrok/core/classes_wrap.cpp:5232:4: warning: ‘argv[0]’ may be used uninitialized in this function [-Wmaybe-uninitialized]
          res = SWIG_ConvertPtr(obj,(void**)&p,swig::type_info<map_type>(),0);
          ^
      sigrok/core/classes_wrap.cpp:14383:13: note: ‘argv[0]’ was declared here
         PyObject *argv[2];
                   ^
      sigrok/core/classes_wrap.cpp: In function ‘PyObject* _wrap_new_ChannelGroupMap(PyObject*, PyObject*)’:
      sigrok/core/classes_wrap.cpp:5232:4: warning: ‘argv[0]’ may be used uninitialized in this function [-Wmaybe-uninitialized]
          res = SWIG_ConvertPtr(obj,(void**)&p,swig::type_info<map_type>(),0);
          ^
      sigrok/core/classes_wrap.cpp:23356:13: note: ‘argv[0]’ was declared here
         PyObject *argv[2];
                   ^
    
    We add -Wno-uninitialized since the warnings are harmless and we really
    don't care about them in the generated classes_wrap.cpp.
    
    This fixes parts of #417.

commit 47af616fd787179bd10e29147dbabd28d09aea8c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 22 21:07:48 2014 +0100

    Fix a bug causing one of the unit tests not being run.

commit cc8be68f22b05fd00649b8c38854e37cd4805f57
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 22 21:03:39 2014 +0100

    trigger: Add some more error handling.
    
    All of these error conditions are checked via the unit tests.
    
    Also, add the following missing entries (analog trigger types):
    
     - SR_TRIGGER_RISING
     - SR_TRIGGER_EDGE

commit c8412d6c69d20e3a91616321c748265edc15a17e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 22 20:13:37 2014 +0100

    Add a few unit tests for sr_trigger_*().

commit a445f8aa080d18964ac45f352f6e61022b0a12bd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 22 19:32:28 2014 +0100

    trigger: Add API documentation.

commit 54ab1dcdc4d372765401bc2513f2692f488f4e1d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 22 16:53:02 2014 +0100

    Add missing entries to sr_config_info_data[].
    
    Newly added keys:
    
     - SR_CONF_SAMPLE_INTERVAL
     - SR_CONF_NUM_TIMEBASE
     - SR_CONF_NUM_VDIV
     - SR_CONF_CENTER_FREQUENCY
     - SR_CONF_DEVICE_MODE
     - SR_CONF_SCAN_OPTIONS
     - SR_CONF_DEVICE_OPTIONS
     - SR_CONF_DEVICE_MODE
     - SR_CONF_TEST_MODE
    
    Also, keep the same ordering and grouping as in libsigrok.h.

commit 91219afc75c9aa1d0c5e2da5c03343c1e43eb6df
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 21 19:02:10 2014 +0100

    Use g_malloc0() consistently, simplify error handling.
    
    Use g_malloc0() for small allocations and assume they always
    succeed. Simplify error handling in a few places accordingly.
    
    Don't always sanity-check parameters for non-public (SR_PRIV)
    functions, we require the developers to invoke them correctly.
    This allows further error handling simplifications.

commit c368e6f3d248a73d69cd0c2c4a7c88a92def55e3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 21 09:07:04 2014 +0100

    Don't check sr_channel_new() return value (always succeeds).
    
    We now use g_malloc0() for the allocation and assume the allocation
    will always succeed, thus sr_channel_new() will always return a
    valid new channel.

commit f57d8ffe66612a1fdc20ed09c222f8ea59bd84d4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 21 02:26:24 2014 +0100

    Consistently use g_malloc0() for allocating devc.
    
    We assume the allocation will always succeed, hence no need for
    checking the returned value.

commit aac29cc192ccf82b64e77b5e6b11b411da32deed
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 21 02:01:36 2014 +0100

    Eliminate sr_dev_inst_new().

commit a9b2283fd038a2a8c3e2dc1ede4fcc51d5e62c7c
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Nov 20 03:08:55 2014 +0100

    Fix invalid pointer dereference.

commit cf0280fa1ba3532e1d3aa15b86323c9de7d5365c
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Nov 19 23:54:01 2014 +0100

    yokogawa-dlm: Publish driver options.

commit 413f1944d166ae4f8f400b01a9467460620ccf8e
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Nov 19 23:53:35 2014 +0100

    motech-lps-30x: Publish driver options.

commit f3ba3c119c3918dfa9cbde74afe21bd4c5609b44
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Nov 19 23:53:10 2014 +0100

    manson-hcs-3xxx: Publish driver options.

commit 6ec3ef9b9255098240baec5e61a6a89d22960690
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Nov 19 23:52:51 2014 +0100

    hameg-hmo: Publish driver options.

commit 8a58419d37bdaff02f1e5540ec76f3bffdaf951f
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Nov 19 14:12:48 2014 +0100

    Finish fixing broken sr_config_list() logic.

commit a24da9a81358644265465325d12579cd8aa34ba5
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Nov 19 01:23:48 2014 +0000

    Make sr_analog_*_to_string() functions allocate the necessary buffers.

commit e07edc83d6311e36f2cbb5f3ae8a0f0edb526d18
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 18 23:43:38 2014 +0100

    mic-985xx: Correctly report SR_CONF_THERMOMETER/_HYGROMETER.
    
    Some models only log temperature, others log temperature and humidity
    (so they need different drvopts).

commit 20a7cd07c9d1460e335fc9c3e39378ab708ef4bc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 18 23:19:48 2014 +0100

    mic-985xx: Drop unneeded #define.

commit d6e1e6c4e15b57ac3b209c2fb9b151161e815c0b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 18 23:19:21 2014 +0100

    mic-985xx: Publish driver options.

commit 489c338884ee592635a9166907832ac39e8195a7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 18 19:42:31 2014 +0100

    center-3xx: Drop unneeded #define.

commit 6685e9a6b3fe698d2c4e7d9725e2f8f9ffd83273
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 18 19:16:39 2014 +0100

    center-3xx: Publish driver options.

commit 5c868fef4383e2e8ec4b1d09608c1c0a0f158410
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 18:10:19 2014 +0100

    Revert "victor-dmm: Set spec digits to 3, matching the display."
    
    This reverts commit 28b424349363a9002e7af7300a7f2941a8469004.

commit 63ea6141b6ed7ae9d268892a1d76db5e7969ac38
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 17:41:36 2014 +0100

    ols: Publish driver options.

commit f9dada0b60fdde85c8f5605b136f2c37bc42be85
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 17:31:58 2014 +0100

    agilent-dmm: Now really fix driver options.

commit 42a47a9a4b25728436bf7fa8c798b4f8f05a789a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 16:50:47 2014 +0100

    appa-55ii: Publish driver options.

commit 5ecd9049e53112e75526c2887d3f57165b688c3f
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 16:46:39 2014 +0100

    hantek-dso: Fix driver options.

commit 1f889afd619833ce93ef6afa066ba0797d9ec46c
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 16:32:51 2014 +0100

    atten-pps3xxx: Fix driver options.

commit 023c73ae0550ac529b93cb6a5fc9f390448f42e1
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 16:42:52 2014 +0100

    cem-dt-885x: Fix driver options.

commit 9d9cf1c4b902c4556ba32d6f6c5566b48f3d1515
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 16:38:37 2014 +0100

    scpi-pps: Fix driver options.

commit 2ff11e50a58480705e688b36dcbc17ad0b5beb09
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 16:30:47 2014 +0100

    asix-sigma: Fix driver options.

commit 820c48f8c294d29660bfb2d081c575e138568909
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 15:51:38 2014 +0100

    output/analog: Add option to restrict number of decimal digits printed.
    
    This is a feature restricted to the new analog struct.
    
    By default all the digits available in the encoding struct are printed.
    The option "digits", when set to "spec", changes this to print the
    number given in the spec struct.

commit db6fa867a4bec0a1dc0742281df3ab7bd76787d2
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 15:46:59 2014 +0100

    Add debug spew to all sr_config_(get|set|list) calls.

commit cf3db38193bf1b2d36628ebe57a0204d77f68da3
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 15:46:24 2014 +0100

    Fix broken sr_config_list() logic.

commit 1e4a7cace29aaec9aad3a3845591ff45b8226a12
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 15:39:46 2014 +0100

    demo: Fix driver options.

commit ff6b76a14552e97b7eb07ff297a326e250134817
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 15:35:30 2014 +0100

    fx2lafw: Publish driver options.

commit ce4bd05256a891d45b0013c33cdd9f2597c3bc80
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 15:34:52 2014 +0100

    agilent-dmm: Publish driver options.

commit 5533392828cb08b2c6a008d6e2a52c7a01139f42
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 11:19:18 2014 +0100

    victor-dmm: Publish driver options.

commit a5892391b02689d7babd98d44e6537b34cef8e80
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 01:16:27 2014 +0100

    Add analog helper sr_analog_unit_to_string().

commit c2a25ebb8fbf992cdf9fee96d44f1c27f1f48f51
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 01:15:41 2014 +0100

    Add analog helper sr_analog_float_to_string().

commit 1954dfa96310e286bea6b4d55629ba08cee2f417
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 00:24:37 2014 +0100

    Show SR_DF_ANALOG2 packets in debug output.

commit 28b424349363a9002e7af7300a7f2941a8469004
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 18 00:24:08 2014 +0100

    victor-dmm: Set spec digits to 3, matching the display.

commit 4b4fdeea947950725b704a7af65b166e46521882
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 17 23:08:49 2014 +0100

    analog: Fix analog_to_float typos, and cleanup.
    
    This was adding 1 to every measurement being converted.

commit 41caa31909882a34b88c8b8a844d555816b78453
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Nov 14 00:50:46 2014 +0100

    Add a sr_analog_init() API to initialize sr_datafeed_analog2 struct.
    
    It fills the fields with reasonable default values that should suit
    most of the drivers. Drivers are obviously free to override the fields
    they want after initializing.

commit 62f155f0c784509dbec98fc7c80b03284a271237
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Nov 17 11:38:37 2014 +0100

    demo: Fix analog output at low samplerate.

commit 3772c04990d1f81ce3946b48034f441adaa13271
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Nov 17 11:40:22 2014 +0100

    demo: Fix square pattern output shorter than other patterns.

commit c6dde8125ad8a0bf6845362e5782ce19f26d83b9
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 17 13:20:05 2014 +0100

    Check driver capabilities before sr_config_get/set/list.

commit baa0c2ae677940345d2ec62b0b6fdf17e7d2d09d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 15 00:41:10 2014 +0100

    autogen.sh: Also warn if AX_CXX_COMPILE_STDCXX_11 is not available.
    
    This fixes an error message when the file is not installed at all:
    
      ./autogen.sh: 67: [: Illegal number:
    
    Turn the AX_CXX_COMPILE_STDCXX_11 errors into warnings though, since
    it is (and should be) possible to build libsigrok (just the C library)
    just fine, even without that macro or with an older version of it.

commit ff50ad701e6f945cec972465a35c285dbaddd329
Author: Jens Steinhauser <jens.steinhauser@gmail.com>
Date:   Fri Nov 14 01:43:25 2014 +0100

    Check the version of the AX_CXX_COMPILE_STDCXX_11 macro.

commit adfba7368ac297bba20b0afbc7d7322309508b30
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 14 20:24:43 2014 +0100

    Refactor scan options check.

commit b8721d7cf0ee95c51fb6a3d357f371b314b5aeab
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 14 20:01:12 2014 +0100

    bindings: Fix out-of-tree build.
    
    This closes #473.

commit b71356d63104635116e556cd51daa0904e28fc99
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 14 16:47:46 2014 +0100

    bindings: Re-enable Java, but ignore create_analog_packet().
    
    This will need some fixing.

commit 071151b578821a5019d718ad03db81b2cef3245e
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 14 12:22:54 2014 +0100

    sr_driver_scan: Enforce options passed in by client.

commit 4b664cd6ce7792b58190cdcc92347ded44a8a46a
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 14 11:37:11 2014 +0100

    demo: Use allocation for model string.

commit 676877f6cee574f2a32805b946e56710db502264
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 12 23:34:20 2014 +0100

    mic-985xx: Convert to use SR_DF_ANALOG2.

commit a84a26d98ace158fa9e0b0e6d385928ceb91221a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 12 16:31:30 2014 +0100

    victor-dmm: Convert to use SR_DF_ANALOG2.

commit e02e9e6a1c8002e461f27a831b96c370f363b5d5
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Nov 12 17:05:13 2014 +0100

    output/analog: Add SR_DF_ANALOG2 support.

commit fb019a0e4d28fe381ce8142f3ec00a6e8731e094
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Nov 12 17:05:13 2014 +0100

    Add sr_analog_to_float().

commit d2e0f5853930e805bb70ee7e2c59144af59f9013
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Nov 12 14:46:51 2014 +0100

    Add SR_DF_ANALOG2 and related structs.
    
    New structs:
     - sr_rational
     - sr_datafeed_analog2
     - sr_analog_encoding
     - sr_analog_meaning
     - sr_analog_spec

commit d2a929ab85d6adb9ea64feb785abf21caebea447
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Nov 13 20:38:56 2014 +0000

    bindings: Fix enums.py compatibility with Python 3.

commit 624d16100e0c850e2c28e10638a9e5a37cd938f1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Nov 13 19:15:37 2014 +0100

    bindings: Add Session::context().

commit 57621c6d60b1eb31d0a3071fc362547c88c5d395
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Nov 13 18:40:44 2014 +0100

    configure.ac: Temporarily disable Java bindings.
    
    Those need a bugfix to make them build again:
    
      bindings/java/org/sigrok/core/classes/Context.java:92: error: method Context_create_analog_packet in class classesJNI cannot be applied to given types;
            long cPtr = classesJNI.Context_create_analog_packet(swigCPtr, this, ChannelVector.getCPtr(tempchannels), SWIGTYPE_p_float.getCPtr(data_pointer), num_samples, Quantity.getCPtr(mq), mq, Unit.getCPtr(unit), unit, QuantityFlagVector.getCPtr(mqflags), mqflags);
                                  ^
        required: long,Context,Vector<Channel>,long,long,long,Quantity,long,Unit,long,QuantityFlagVector
        found: long,Context,long,long,long,long,Quantity,long,Unit,long,QuantityFlagVector
        reason: actual argument long cannot be converted to Vector<Channel> by method invocation conversion
      1 error
      Makefile:3352: recipe for target 'bindings/java/sigrok-core.jar' failed

commit 304be4a77186f4524e3894af8279690f28ffd98f
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Nov 12 12:37:22 2014 +0000

    bindings: Add packet constructors.

commit b2db9f3bbeaa26bb63f8adfabf47ff7e068b1952
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Nov 12 11:08:22 2014 +0000

    bindings: Add QuantityFlag::mask_from_flags() method.

commit 9fa5b426ec7c0a77eb9401f3dd10ad463a8d1ac7
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Nov 12 02:23:02 2014 +0000

    bindings: Add UserDevice wrapping.

commit 0af636bed97c174bea46e61e961eaa1b0b162e0f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 12 02:06:15 2014 +0100

    Change sr_dev_inst_new() to take no parameters.
    
    Change all callers to set the fields manually as needed.

commit c7e455625807d31fcaf95f36a23f1afeba033e1f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 12 00:04:28 2014 +0100

    HACKING: Document the new malloc related guidelines.

commit 487c23fc998ec94e7d37d0bd40c5dfb7a41b651b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 11 23:52:53 2014 +0100

    HACKING: Minor updates.

commit ed6b4c4747ed98374feb59ac5758a24bd4d9a63f
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Nov 12 01:00:17 2014 +0000

    python: Wrap Analog::data() as a NumPy array.

commit b20635771c249f9548af414f21a92b296e284475
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 11 23:54:39 2014 +0000

    bindings: Expose Analog::channels() as an attribute.

commit ea22dc108b1da4c1f43c5cb2b8433a44fad726bf
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 11 23:44:26 2014 +0000

    python: Return correct PacketPayload subclasses from Packet.payload()

commit 75fb30365e1caebb402f0eb4331bdde0f27f3120
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 11 21:04:44 2014 +0000

    python: Fix error handling for callbacks.

commit f0c0dab5a9a463f87ca723cd4a4d6241311e0a0e
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 11 20:11:32 2014 +0000

    python: Implement equality checks for EnumValue derived classes.
    
    Fixes bug #443.

commit 7a36ceacb96c4fdbeea164d7368b4eef1ad545f9
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 11 18:26:50 2014 +0000

    bindings: Support per-language extensions to EnumValue wrappers.

commit 444d6a3975787583494fa91cbb20c26d0ac858b5
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 11 15:29:35 2014 +0000

    python: Fix mapping of vector & map attributes to Python types.
    
    Fixes bug #382.

commit 062430a2fbd74a7ff153b77d92523daae9ec18a7
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 11 14:50:55 2014 +0000

    bindings: Use new %attributevector and %attributemap macros.

commit e480df0c4593d80df617b1a3da0065c0fb91a5ac
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 11 01:24:19 2014 +0000

    bindings: Expose ConfigKey::identifier as an attribute.

commit 189461b25193d099b8a1087d8fda97958ae31ed5
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Nov 11 01:18:58 2014 +0000

    bindings: Expose EnumValue::id and EnumValue::name as attributes.

commit fe4096fde6edf35d93bca8293172cf261e33ad8a
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Oct 29 14:36:45 2014 +0000

    bindings: Wrap EnumValue base class.

commit 0bc1a7613ac2ad4c5b1148b9714791769a2b834c
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Oct 29 14:33:46 2014 +0000

    bindings: Rename ConfigKey::get(string) to get_by_identifier().
    
    The polymorphism with get(int) causes problems here when a char * is passed.

commit 9d229ecb9e301921284c6264ffc1d956572873df
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Oct 29 14:31:31 2014 +0000

    cxx: Implement more of EnumValue in template.

commit 3250d8c7e05f2d6a3ffbdf2499af8a13fa99fe39
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 11 23:23:09 2014 +0100

    output: Add srzip, the session file format.
    
    The 'filename' option is required: this module creates the zip file
    itself, and never actually outputs anything back to the calling frontend.

commit ccd3f5e5eb05741001fcaa704c1720de8f0f66d3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 11 22:45:20 2014 +0100

    unit tests: Add a test case for sr_dev_inst_channel_add().

commit 6b1adfaa86de2195498a0078b0fb50fd76f5aa38
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 11 21:59:23 2014 +0100

    unit tests: Add a test case for sr_dev_inst_user_new().

commit e705ce3bf6203b03efd66390b02c2352c62229bc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 11 21:58:49 2014 +0100

    Add sr_dev_inst_user_new(), sr_dev_inst_channel_add().

commit 924866d48d0cf1638df3d3ba254f037baa2a661a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 11 21:28:16 2014 +0100

    uni tests: Use sr_dev_inst_channels_get() to fix the build.

commit 80fe524740f28f44111d9f98bbb0e44294bdf3d2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 11 16:55:37 2014 +0100

    bindings: Use getters now that 'struct sr_dev_inst' is opaque.

commit 2f5f97056a57d0cdf6fa0e6fc51b1a406d33452f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 11 12:44:37 2014 +0100

    Constify the sdi parameter of all sr_dev_inst_*() getters.

commit 96727ef016b9fd26a37691008243182c5a52cb60
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 11 12:24:08 2014 +0100

    Make 'struct sr_dev_inst' opaque.

commit e437da2b86ba7604fc315996dd89014dbb94d101
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 11 11:51:53 2014 +0100

    Add sr_dev_inst_channels_get() and sr_dev_inst_channel_groups_get().

commit 3f2cd87f36fa8bb6fddc4ace7a6c9571e7c2309d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 9 20:04:09 2014 +0100

    session_driver.c: Allow querying of SR_CONF_CAPTURE_UNITSIZE.

commit 6508992d04bf972ae98b8c7e97201c5164501687
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 2 16:40:40 2014 +0100

    Brymen BM25x: Drop unneeded _ser/_SER suffix.
    
    There's only one cable for this DMM, thus there's no need for a
    _ser/_SER suffix or for specifying the cable name.

commit bce75f947dfc35eb67caa90f3c8dc9f20bdc36cb
Author: Uffe Jakobsen <uffe@uffe.org>
Date:   Sat Nov 1 19:35:30 2014 +0100

    ols: Fix a serial port related issue on FreeBSD.
    
    Add sp_drain() to ensure bytes have actually been transmitted
    over the wire.
    
    This fixes bug #414.

commit 7aebe22d107df4548700bef900be66971658fcac
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Nov 1 13:18:09 2014 +0100

    Only sr_dev_inst_free() should free channel groups.

commit aab4b8cb70e08369760383d9b9302085db298a44
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Oct 29 22:46:57 2014 +0100

    fx2lafw: Fix wide (16bit) sampling case.
    
    This fixes bug #373.

commit e3594306a98cdb158164d091fec57291b9a4a208
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Oct 29 13:26:57 2014 +0100

    zeroplus-logic-cube: Add support for AKIP-9101.
    
    Thanks to Nikita Nazarenko for the patch.

commit 9c6a2913fdf11857774418b18665f8f684762a31
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Oct 26 20:51:21 2014 +0100

    Make sr_dev_inst_connid_get() available without libusb

commit 933defaa03abe4f3f01eff8067c3f0060914b050
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 27 17:03:02 2014 +0100

    hantek-dso: Fix driver/global/channel group config keys.
    
    This was way behind and did not yet support channel groups.

commit 6fad08e6abfa4e5ee708f584e530c6b611a65cdb
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 27 16:59:01 2014 +0100

    Change SR_CONF_FILTER key to a boolean type.
    
    This was an ill-defined string before, now it's simply something
    you turn on or off on a channel.

commit e7ba5a994b24bec2bb59e0d01f3649154e7bb32c
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 27 00:46:19 2014 +0100

    asix-sigma: Publish driver options.

commit a258204e00715c44b0d013ee3141ce890c8ea71c
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 27 00:37:04 2014 +0100

    scpi-pps: Publish driver options.

commit 390795c0999ae3a41b97f9a8e2c154c81e6d064e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Oct 26 23:54:55 2014 +0100

    demo: Rearrange driver and device options.

commit d7125bfa1ea1bc06c9df74d1aff6c4d50c62080c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Oct 26 23:36:10 2014 +0100

    cem-dt-885x: Publish driver options.

commit d6fa8ace94ac0c17855c3433cca038a150689495
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Oct 26 23:33:46 2014 +0100

    atten-pps3xxx: Publish driver options.

commit a700a3a4bfef6c92a2085ae5e611fabfb639878a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 27 16:58:33 2014 +0100

    More robust searching for config keys.

commit 51b1b95edb5768a202a0f3a05847282ea9ea1897
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Oct 26 23:32:29 2014 +0100

    Add config info for device type and limit config keys.

commit 8769478c0749a1a74a87a5476d6bfb9ef7e8f93f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 25 17:14:30 2014 +0200

    Add support for the UNI-T UT71x series (aka Voltcraft VC-920/940/960).
    
    Tested on the Voltcraft VC-920 and VC-940 (both UT-D02 and UT-D04
    cables), but it should work for all devices in this series without
    any changes.

commit 626027df0fef0e9bebc5744bb11f5fcd1f396c10
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 25 11:36:58 2014 +0200

    Add UNI-T UT71x DMM parser.

commit ce48b174da534120e7b725cd664743a6e9a75956
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 23 00:22:07 2014 +0200

    sr_dev_inst_connid_get() requires libusb.

commit cf49d66bc6dc2903ac1380464fe5f3004eaf508d
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Oct 22 22:19:41 2014 +0200

    hantek-dso: Properly zero out MQ flags.

commit 61b0292217465ea50ebbf8f9c960330d8c1cbacd
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Oct 22 22:18:52 2014 +0200

    Accept subtype of expected GVariant values.

commit a42a39ac378534782d44f166b879e84cefa66ed6
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Mon Oct 20 23:03:20 2014 +0300

    Export LCR meter 'auto' bits as config keys instead of mqflags.
    
    The automatic selections of the measured quantity and equivalent circuit
    model are more part of the configuration of the meter than attributes
    of the measurement result. To reflect this, model them as config keys
    instead of mqflags. This allows a driver that supports remote control to
    implement 'set' method for them and has the additional benefit of saveing
    two flag bits.

commit 160691b9008b2e13f981f6b8876cbbeb247c773d
Author: Jens Steinhauser <jens.steinhauser@gmail.com>
Date:   Sun Oct 19 19:53:08 2014 +0200

    input/csv: Skip header line.

commit c3eadb0760121c2ab3c34aedba92d477d222dce9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Oct 18 23:20:47 2014 +0200

    scpi-pps: Add support for Fluke/Philips PM2800 series.

commit c1d56d20131a0f34d819721f7fd9c4952482557f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Oct 18 23:18:48 2014 +0200

    scpi-pps: Move non-standard data type processing to SCPI parser.

commit 4a471029c230a7e2e0b15528d22bf30fb7cf2472
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Oct 18 23:12:56 2014 +0200

    scpi-pps: Add channel probe facility to scan.
    
    If the number and specs of the device's channels are not static, i.e.
    need to be probed, this facility is needed.
    
    Initially this will be used for the Philips PM2800 series, where only
    the model returned by *IDN? is needed. However this could also be used
    to do actual discovery with vendor-specific SCPI commands.

commit 99d090d8e5a7d52ceb3db58455d53cf55472c6f9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Oct 18 23:10:46 2014 +0200

    Fix typos.

commit b1b1944e19f8dd4837293ecd7e2d01daa429068c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Oct 18 23:09:47 2014 +0200

    Free channel group private storage when clearing device instance.

commit c7c8994c204cc0bc86d07fe671b6c469ba5d6b50
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Mon Oct 13 18:56:16 2014 +0300

    Rename "SERIAL" -> "SERIES".
    
    Use the more correct term "SERIES" for the corresponding equivalent
    circuit model.

commit 34d117afb4e07bc060426e6843ca1341c2431b49
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Mon Oct 13 18:51:32 2014 +0300

    Allow building libsigrok without libserialport.
    
    Since the DER EE DE-5000 driver is currently the only user of
    the es51919 module and it depends on the libserialport, compile
    the module only if the DER EE DE-5000 driver is enabled. This
    allows libsigrok to be built without libserialport again.

commit e8cbb22314f8a1c4aafd55b582281f54d4d35c07
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Oct 16 22:44:31 2014 +0200

    Auto-set sdi->connection_id for serial devices in the getter

commit d1314831e473056db017c742011d620648f152ad
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Oct 16 22:43:05 2014 +0200

    yokogawa-dlm: Populate sdi->serial_num and sdi->version

commit b3fccc851b1bbeb6955ddec9007cea72a3e9e3fd
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Oct 16 22:42:50 2014 +0200

    rigol-ds: Populate sdi->serial_num

commit b33db61c48dd8ac2f6e7e3262da2d9399bd4bd53
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Oct 16 22:42:38 2014 +0200

    hameg-hmo: Populate sdi->serial_num

commit d08667c53b52ff7015de883dfc45906323eb2aa5
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Oct 16 22:42:19 2014 +0200

    scpi-pps: Populate sdi->serial_num and fix hw_info mem leak

commit b2c02b0747a413be1ebfb26a15ce692ad6beb49e
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Oct 16 22:41:57 2014 +0200

    scpi: Populate sdi->connection_id

commit 0699ccdd92229a82f947993ec6c15adbcf43e867
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Oct 16 22:40:58 2014 +0200

    sysclk-lwla: Let the sdi getter populate sdi->connection_id
    
    This fixes bug #441.

commit c962d07cba8d5ee4f76ffb5fb360e028770dc782
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Oct 16 22:15:54 2014 +0200

    ikalogic-scanalogic2: Let the sdi getter popuplage sdi->connection_id
    
    This fixes bug #440.

commit 0157fdce99dfb867b68a0799cfa3d5586042cb1f
Author: Soeren Apel <soeren@apelpie.net>
Date:   Thu Oct 16 20:17:04 2014 +0200

    Provide getters for sr_dev_inst member access

commit 984e4b0db88cddc880f5a76bc97ebbba7cb7c39d
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Oct 17 03:00:55 2014 +0200

    scpi-pps: Start acquisition on the first enabled channel.

commit 624503ae90a3583edd34fc28a62a037640984e36
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Oct 17 03:00:05 2014 +0200

    scpi-pps: Optimize channel selection.
    
    This avoids sending a channel selection command to the device if
    the channel we're working on is already on the same underlying
    output channel.

commit ee2860ee110367d137559e0aaf91b2859e045968
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 16 15:24:27 2014 +0200

    scpi-pps: Disable beeper during session.
    
    At least the Rigol DP800 series trigger the beeper when changing
    channels remotely. Which gets rather annoying when doing acquisition
    on three channels as fast as you can.

commit bf48ccebeed885652312188770ec893f7425cb43
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 16 14:55:56 2014 +0200

    scpi-pps: Properly clean up acquisition session.

commit 60475cd78820ede32383cc838326d691bb364b07
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 16 13:23:21 2014 +0200

    scpi-pps: Use only standard SCPI for Rigol DP800 series.

commit ae431bc8d607ee381052eed1727f644fbc1fd89d
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 16 13:22:51 2014 +0200

    Fix short names for SR_CONF_OUTPUT_VOLTAGE_TARGET/_CURRENT_LIMIT.

commit d3a401c15be9a4e798678fe557b655977d960b72
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 12 17:57:27 2014 +0100

    bindings: Remove Device::description().

commit 1411f7d8e9fa5d90d8140fc51eb44562dd626b7c
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 12 17:53:10 2014 +0100

    bindings: Add Session::filename() and corresponding SWIG attribute.

commit 73a1eb017be9369597f404e61ed8b79767a58383
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 12 17:48:44 2014 +0100

    bindings: Add accessor to obtain parent object.

commit f591826cc739acdcb1f145f4e12a1b995b114c93
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Oct 10 19:37:47 2014 +0100

    bindings: add SWIG attribute for Packet::type.

commit f36f7d02826a4240c5bb56ccc0dfd7d689093765
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 12 16:18:30 2014 +0100

    C++: Don't clear Session::_owned_devices() in Session::remove_devices().
    
    Owned devices are freed only when the session is destroyed.

commit 1de3ccede95a7b3535b67c6ade510715fe85d4d3
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 12 15:56:36 2014 +0100

    Track sdis created by sr_session_load(), and free in sr_session_destroy().

commit c0e3ba4b79fd2b3dfcd4ec95d5b3d79ead0e10c4
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 12 15:39:36 2014 +0100

    Correct description of sr_session.devs.

commit ca95e90fb37f127b3d58d90a8b40ce1ca85641d2
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Oct 15 12:03:00 2014 +0200

    Use SR_CONF_OUTPUT_VOLTAGE_TARGET and _CURRENT_LIMIT.
    
    These describe them better; the two are fundamentally different
    things to set.

commit 3982b93840d99c9176185b0054f9dec70f776395
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 13 16:23:48 2014 +0200

    configure.ac: Drop ols Windows exception, should be obsolete.
    
    (see #205)

commit 53a81803e416946c2d85edfc15b50d5a1926b1a9
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Oct 10 16:00:33 2014 +0200

    scpi-pps: Split boolean set options into enable/disable.
    
    This makes it easier to support devices that need something else
    than "ON" or "OFF".

commit b9a348f56c5999f263a2a30c42c49ec8547a2eef
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 13 11:39:15 2014 +0200

    Rename SR_CONF_LCR_METER to SR_CONF_LCRMETER.
    
    (to be consistent with some other key names)

commit 3ea46116dea1636222ec528c2708d99adff1b4bc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 13 01:06:09 2014 +0200

    libsigrok-internal.h: Fix some outdated comments.

commit b50891952d22d1c5012a99ad643ee3dd58495420
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Oct 11 15:47:35 2014 +0300

    Add driver for DER EE DE-5000 LCR meter.
    
    Add a driver for the DER EE DE-5000 LCR meter. This meter is based on
    the Cyrustek ES51919/ES51920 chipset and communicates with the host
    computer via an optional connectivity kit.
    
    The kit uses an optoisolated unidirectional link to connect to the
    meter and an USB cable on the host side. Internally the connection is
    using the FTDI FT232R USB UART chip i.e. from the host computer point
    of view the meter is connected into an RS-232 serial port.
    
    This driver implements just a thin shim layer for registering the
    driver and uses the es51919 module for all the actual work.

commit 6bcb3ee8763bbfdb94ff6f764a2fa91a7468e37f
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Oct 11 15:47:34 2014 +0300

    Add protocol decoder for Cyrustek ES51919 LCR meter chip.
    
    Add a protocol decoder for the Cyrustek ES51919 LCR meter chip.
    This chipset (together with ES51920 front-end) is supposedly used
    by multiple different portable LCR meters including at least
    DER EE DE-5000, Yihua V&A VA520, Mastech MS5308, Uni-T UT612,
    CEM DT-9935 and various OEM rebadges of them.
    
    The communication protocol seems to be implemented on the Cyrustek
    chip itself so all the different models are expected to use the
    same protocol if they implement a host connection. Unfortunately
    the protocol is not available in the public documentation of the
    chipset, so this implementation is based on reverse engineering it
    from traffic captures.
    
    The actual connection between the meter and the host computer may be
    different from meter to meter even when based on the same chip. This
    module implements a decoder for the protocol and some common helper
    functions for interfacing with the meter via an RS-232 serial port.

commit 02c7c482a60f3209adb7c44f4ff52ac087a0aeb0
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Oct 11 15:47:33 2014 +0300

    Add pretty-printer for new units and flags.
    
    Add support for printing henries and degrees as well as the new
    reference and auto flags.

commit 0f5b241ec91b3ca89d5fb2da2327c624a55c58c9
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Oct 11 15:47:32 2014 +0300

    Add config key for output frequency.
    
    Add a config key for getting/setting the output frequency. The value
    will be an uint64 and measured in hertz.

commit 0ffce50d449bb9d6ea79e20409f03ba108be344f
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Oct 11 15:47:31 2014 +0300

    Add config key for LCR meter type.
    
    Add a config key that can be used to indicate that the device is
    an LCR meter.

commit ae27f281655a4d5720be9024f87ceba1531da60d
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Oct 11 15:47:30 2014 +0300

    Add two new 'auto' flags.
    
    Add flags for indicating that the meter has selected the measured
    quantitiy and/or the used measurement model automatically. These
    are similar to the existing auto-range flag.

commit 23601f2c7eb332311a4343417dcafab4565ad9bb
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Oct 11 15:47:29 2014 +0300

    Add quantity and flag for difference measurements.
    
    Add 'SR_MQ_DIFFERENCE' quantity for reporting relative difference
    between the current measurement and the reference value. The value
    of this quantity will normally be reported in percents. Add also
    the flag 'SR_MQFLAG_REFERENCE' for indicating that the reported
    value is not the current measurement but the reference value instead.

commit 87d8124577099b2c4cbad1276985a9ed9cdf4d4f
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Oct 11 15:47:28 2014 +0300

    Add measured quantities for LCR meters.
    
    Add parallel and serial model inductance, capacitance and resistance
    for LCR meter measurements. Add also secondary quantities many LCR
    meters calculate, namely dissipation factor, quality factor and phase
    angle.

commit 01789adc72da9952285d43414bb59f17adc31e2c
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Sat Oct 11 15:47:27 2014 +0300

    Add two new units.
    
    Add degrees and henrys to the list of supported units. Degree is
    an unit of plane angle where one degree is 1/360th of a full circle.
    Henry is the SI unit of inductance.

commit 8b4f0d6a1106545495b665906747e2edddf239aa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 12 19:59:41 2014 +0200

    README: Bump glib version to 2.34.

commit 76bc5f6376104e8b65322011b67aafbd45348fe2
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Oct 7 00:02:10 2014 +0200

    usb: Simplify usb_get_port_path() and fix writing into a const char *.

commit d099d8802111c775465de18cb69c746c342d9ac1
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 9 23:42:24 2014 +0200

    Fix sr_dev_has_option().
    
    This wasn't taking the SR_CONF_GET/_SET/_LIST flags into account.
    
    Thanks to Janne Huttunen for spotting this.

commit 818df9f8ec3d035eb52292286469ba03521a51b3
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Oct 8 23:14:01 2014 +0200

    build: Require glib 2.34.

commit f4d3a4fb9ae62b4764cbb8181ab9bef95e7b6348
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Oct 8 03:00:47 2014 +0200

    ols: Fix serial port timeout.

commit 9e6d9bee2a6771aab111ad95140caf520310b109
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Oct 8 02:23:20 2014 +0200

    colead-slm: Fix serial port timeout.

commit 174bf146e5973cb7f11892c54972bc99e4a74eae
Author: Jens Steinhauser <jens.steinhauser@gmail.com>
Date:   Tue Oct 7 14:01:34 2014 +0200

    bindings: Better error handling in enumeration get() function.
    
    Prior to this patch a call to get() with an invalid enumeration value
    would raise an exception that would, for example, terminate the python
    interpreter, whereas now the exception is handled and translated into a
    proper python exception.

commit 2eb1612d463e9232af437d9a6c1b3897da2367e9
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 6 12:12:13 2014 +0200

    atten-pps3xxx: Use serial_timeout().

commit c5cfc735e50adc53e073355e5521b1c79266441e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 6 12:10:25 2014 +0200

    serial: Add serial_timeout().
    
    This calculates a proper timeout value for blocking writes on the
    given serial port, for the given number of bytes. Timeout is based
    on a fixed 10ms OS overhead, baud rate, data bits and stop bits.

commit 945cfd4fdd3d2aa2758e1957c7c4c1440badcf8b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Oct 5 12:29:28 2014 +0200

    atten-pps3xxx: Fix serial port timeout.

commit 204014007f30a3980e6abb35b91bf654d190d81f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Oct 4 10:37:07 2014 +0200

    fluke-dmm: Fix blocking serial write timeout.

commit 95779b43b882bff8ce36828f812482d69c0cfa0a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Oct 4 02:30:27 2014 +0200

    agilent-dmm: Fix blocking serial write timeout.

commit 4ab01c3564ddec604d0b6a9daf76fcba277da287
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Oct 4 02:24:41 2014 +0200

    input/csv: Fix size_t printing.

commit 026d6b2ff616ca03a42286e7d7a9a33bce9bf053
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 3 20:11:47 2014 +0200

    unit tests: Fix build due to recent changes.

commit 9092e66888ffd9dad76f4c491f5ad080cfd3e5c9
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 28 14:30:20 2014 +0100

    Add a configurable read timeout to blocking SCPI reads, default 1s.

commit 57d355a7bd67ef6b15d4dbbded82a8ca98962511
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Oct 3 13:39:06 2014 +0200

    Add some Agilent USBTMC PIDs.

commit eead2782427ee5da9b793527f9484ac827a7bec5
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 28 13:05:33 2014 +0100

    Add a timeout parameter to blocking serial calls.
    
    Set this new parameter to 0 (no timeout) at every call site. This is
    consistent with previous behaviour, so cannot cause any regressions.
    
    Waiting forever for a serial operation is clearly always wrong. Without
    specific knowledge of each device and driver however, I can't choose
    appropriate timeouts for each call. The maintainers of these drivers
    will need to do so, and also add appropriate handling of timeouts.
    
    When this commit is merged, a bug should be entered for each driver
    that is touched by it.

commit 7ce59a31334cdb9b12d9b1c166b542acf1899e00
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 16:01:27 2014 +0200

    Avoid serial_write_blocking() warnings.

commit 081c214eace0c9088cbcbd9a3d448f6fac5e98f4
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 28 12:54:56 2014 +0100

    Fix similar broken error handling on several serial calls.

commit 7f22cd9554884f328234189ef368cda65a8fc3e0
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 15:06:36 2014 +0200

    kecheng-kc-330b: Fix missing time/frequency weighting.

commit 8219214ff077db3f72a2996da417c0bea3563987
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 15:03:18 2014 +0200

    hantek-dso: Code cleanup.
    
    This cleans up a warning generated by clang's static analyzer.

commit 385cb66058e534b57ca473449dfe57f43e246c6a
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 15:02:14 2014 +0200

    demo: Code cleanup.
    
    This cleans up a warning generated by clang's static analyzer.

commit f4d0020ec693e41513add7d4f186cdaf9dd3488d
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 15:00:37 2014 +0200

    fluke-dmm: Code cleanup.
    
    This cleans up a warning generated by clang's static analyzer.

commit 65c8d48f1418700dae72c8b6e39eb0d77b1ea17d
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 14:58:57 2014 +0200

    chronovu-la8: Code cleanup.
    
    This cleans up a warning generated by clang's static analyzer.

commit 382cb19f29f9fe973199ebaf906264bd2eee5818
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 14:53:20 2014 +0200

    asix-sigma: Trigger code cleanup.
    
    This cleans up a warning generated by clang's static analyzer.

commit 90486ba835ff82c316d63b3d3b69581615d9245a
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 14:11:35 2014 +0200

    agilent-dmm: Code cleanup.
    
    This cleans up a warning generated by clang's static analyzer.

commit f3616a0857c558fd0ff566ca6dc5730599be9194
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 14:07:31 2014 +0200

    scpi/vxc: Avoid NULL dereference.
    
    This cleans up a warning generated by clang's static analyzer.

commit 18078d0532d3daa013ad712356d93c28e1ae64fd
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 13:59:44 2014 +0200

    input/csv: Code cleanup.
    
    This cleans up a warning generated by clang's static analyzer.

commit 74e1f6f53c47889ddfa67a35703d6f13e54a1df4
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 13:55:37 2014 +0200

    input/chronovu_la8: Code cleanup.
    
    This cleans up a warning generated by clang's static analyzer.

commit 577a9fe4235d5b090aaec562ea8013c79712da7e
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 13:55:21 2014 +0200

    input/binary: Code cleanup.
    
    This cleans up a warning generated by clang's static analyzer.

commit 640982114329b28aaca3390913037eddd8c6d550
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 13:51:19 2014 +0200

    input: Avoid NULL dereference.
    
    This cleans up a warning generated by clang's static analyzer.

commit 19e43ab21badac678f4a452e0dd629a0f7917d16
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 12:57:19 2014 +0200

    sr_parse_sizestring: Deal with invalid strings better.
    
    This cleans up a warning generated by clang's static analyzer.

commit d386a52f64e39c9165135aea6ecc613dd665dec7
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 2 11:32:52 2014 +0200

    Clean up sr_session_load().
    
    This cleans up some warnings generated by clang's static analyzer.
    The function now also returns SR_ERR to signify the specified filename
    does not point to a valid session file.
    
    Other SR_ERR_* returns indicate a session file was found, but loading
    failed.

commit 98d39b919abff9412c5de9d02a926680d572fb83
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 30 17:32:09 2014 +0100

    Return sensible Device::description() for session and input devices.

commit ca4e307a934ba395bdc3e2a48b83835d05a047c2
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 30 16:05:27 2014 +0100

    C++: Fix management of SessionDevice objects.

commit 584f76a78a9d687dcf396f0c620fe3093b38e70a
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 30 13:19:27 2014 +0100

    C++: Add spaces in Device::description().

commit d1075e5acf811d6e6a0d5a87df1ff8f5ce6bf901
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 30 11:50:07 2014 +0100

    C++: Expose device serial number and connection ID.

commit 4c7c4194cbd1d172a8ea37206d6aff9a09c1fb91
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 30 11:07:55 2014 +0100

    C++: Expose config key capabilities.

commit 9c51e8ec56715074ca756fd54e63b360096113e2
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 27 16:29:34 2014 +0100

    bindings: Update for input API changes.

commit 753793eff5f713e07a42f2c7a177502aeb764654
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 23 12:05:31 2014 +0200

    Clean up internal input API docs.

commit 60107497fed4b307a7d64d23e3d8d6137f64c4e4
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 23 12:04:35 2014 +0200

    input: Use SR_ERR_NA instead of SR_OK_CONTINUE.

commit d5cc282ff8026173c14ff6957482a24b2d6feef3
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 23 11:27:50 2014 +0200

    input: sr_input_free() is now a void function.
    
    Its backend, input_module.cleanup(), is now also a void function.

commit 7066fd466038bb4a8d09751f8a53c2452c5fefc1
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 23 11:12:33 2014 +0200

    input: Add sr_input_end().
    
    This signifies to the module instance no more input will come. This
    will cause the module to process any data it may have buffered. The
    SR_DF_END packet will also typically be sent at this time.

commit 89da5b3b54d3b87bff49e716c4d2b36080fe7a07
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 22 16:52:38 2014 +0200

    input: Free instance-private storage at instance free.

commit d0181813315114b88ad38cf276045ee5c311ca3c
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 22 15:22:41 2014 +0200

    input: Add sdi_ready flag to struct sr_input.
    
    When an input module instance has received enough input to fully
    populate the struct sr_dev_inst, sdi_ready is set to TRUE and its
    receive() method returns immediately. Any remaining received data
    is buffered until the next time the function is called.

commit 66c91e2509e2d995fa0b576104aa5ee04e469f21
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Sep 28 15:45:59 2014 +0200

    Removal of sdi->index, step 8: fix victor-dmm

commit bde9fbd1978ca2454e6b46eb65efe217a1f872bd
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Sep 28 14:33:03 2014 +0200

    Removal of sdi->index, step 7: fix testo

commit c79d4444fef482b57aee78b227c52e4a98fb0615
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Sep 28 11:10:26 2014 +0200

    Removal of sdi->index, step 6: fix sysclk-lwla

commit 65340dd5df1e596f1eb3bac54db19a697c7c68ef
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Sep 27 23:03:52 2014 +0200

    Removal of sdi->index, step 5: fix ikalogic-scanalogic2

commit aed4ad0beaf64062752039a13f9a95326aa1df87
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Sep 27 22:33:00 2014 +0200

    Removal of sdi->index, step 4: fix trivial sr_dev_inst_new() calls

commit f2209364737835ba78126cf7f2a707f63182f0e6
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Sep 27 22:29:10 2014 +0200

    Removal of sdi->index, step 3: sr_dev_inst_new() calls for input mods

commit c6805a02cca9b0b17392841bc1afea8beaf333ed
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Sep 27 22:26:06 2014 +0200

    Removal of sdi->index, step 2: remove it from sr_session_load()

commit 1b9e567b086ebd854d2db4d74dddb6bbf0277a72
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Sep 27 22:20:51 2014 +0200

    Removal of sdi->index, step 1: remove it from headers and helper funcs

commit ce7d3578e3b1438ca472abea8b3844c3debd249f
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Sep 27 22:15:45 2014 +0200

    saleae-logic16: Use physical USB connection instead of sdi->index

commit 71580ef1f3cf1a5979a2c52e9819de34d525ecbf
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Sep 27 21:56:18 2014 +0200

    Remove sdi->index from openbench-logic-sniffer and pipistrello-ols

commit 395206f460cc4002feedca2265cf374b90c9c047
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Sep 27 21:51:56 2014 +0200

    hantek-dso: Use physical USB connection instead of sdi->index

commit ee4f9bb1bd554848f86e09bb99c0fa8356f21b60
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sat Sep 27 20:48:47 2014 +0200

    zeroplus-logic-cube: Use physical USB connection instead of sdi->index

commit 03a4c07aff345f0b603199ad17d1dad01bb67293
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Sep 30 00:37:03 2014 +0200

    C++: handle uint32_t SR_CONF keys which contain key capabilities
    
    This adapts the C++ bindings according to commits 584560f and 5827f61.

commit 5e2c86eb3184fdc57341f6a1dd482f83556bf1d9
Author: Soeren Apel <soeren@apelpie.net>
Date:   Fri Sep 26 19:25:36 2014 +0200

    fx2lafw: Use physical USB connection instead of sdi->index
    
    Previously, sdi->index was used to tell several identical fx2lafw-compatible
    devices apart. This was a bit of a hack, so this patch makes it use physical
    device connections instead. They're guaranteed to remain the same even if
    the USB device reconnects.

commit 8143cfdc90fc164e083a19c60b5b5d32a6b34f47
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 26 01:33:15 2014 +0200

    Add sr_packet_copy/_free functions.
    
    These will be used to make a copy of a packet on the session bus,
    valid for the duration of the device instance that generated it.

commit 98edee7926b9827eec743bbfbfde9025089dc502
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 21:41:25 2014 +0100

    serial: Eliminate serial_read(), serial_write() and SERIAL_NONBLOCK.

commit 6c592ece705d4ec39ea3003a335cfe20d63aea47
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:30:24 2014 +0100

    std_serial_dev_open: Remove SERIAL_NONBLOCK flag.
    
    All calls in drivers are now explicitly (non)blocking.

commit 406e0c79cfbc5893635bbdece6f5c8b2ca9c9b25
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:29:13 2014 +0100

    scpi_serial: Mark read/write calls nonblocking, remove SERIAL_NONBLOCK.
    
    These calls were already nonblocking. Having marked them as such, the flag can
    be removed.

commit 7ef93fb09fef3904e333cfbd28aacd418d324ad9
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:25:47 2014 +0100

    tondaj-sl-814: Remove SERIAL_NONBLOCK flag.
    
    All calls in the driver are now explicitly (non)blocking.

commit 539a85596febaca66c038b346e95068913c9cb45
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:24:33 2014 +0100

    tondaj-sl-814: Mark serial read/write calls as blocking.
    
    These calls are executed from an event handler and were previously nonblocking,
    but they have no partial read/write handling. The code is already marked TODO
    for improvement.

commit 47d98603e706e8c4f2da2b031f31c6dd2cc3b246
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:19:51 2014 +0100

    tondaj-sl-814: Mark serial read call as nonblocking.
    
    This call was already nonblocking since the driver opens the port with the
    SERIAL_NONBLOCK flag. Partial reads are handled.

commit 9333691aaf1b08f597caa6a6490ebb56441f4a38
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:17:02 2014 +0100

    teleinfo: Mark serial read as nonblocking, remove SERIAL_NONBLOCK flag.
    
    This call was already nonblocking due to the flag.

commit 4ded59eef0db5deeffe554e05833eb0c2f09d90f
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:15:36 2014 +0100

    openbench-logic-sniffer: Remove SERIAL_NONBLOCK flag.
    
    All calls in this driver are already explicitly (non)blocking.

commit d12ef776d3e81f30ca75bbdab7ea96341ad930a4
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:14:49 2014 +0100

    norma-dmm: Remove SERIAL_NONBLOCK flag.
    
    All calls in the driver are now explicitly (non)blocking.

commit 92714255b375d72458ddbac6c632d81f51fb9900
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:14:05 2014 +0100

    norma-dmm: Make serial write call block.
    
    This call is executed from an event handler and was previously nonblocking,
    but has no partial write handling. It sends a short packet so should be OK
    to block, most likely the output buffer will be empty anyway.

commit 8849f45ad71585e8eb3090733c911f6f15cc2a3f
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:12:16 2014 +0100

    norma-dmm: Make write call block.
    
    This call was previously nonblocking, but has no partial write handling.
    It is called in the scan where it is free to block.

commit 32950cc071715efae178aac92e7975c8ed185fd1
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:11:23 2014 +0100

    norma-dmm: Mark serial read call as nonblocking.
    
    This call was already nonblocking since the driver opens the port with the
    SERIAL_NONBLOCK flag. It only reads one byte, and a zero result is handled
    appropriately.

commit 5b980134c527de2f7971a69f7264fffd726625ea
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:05:03 2014 +0100

    motech-lps-30x: Remove SERIAL_NONBLOCK.
    
    All calls in the driver are now explicitly (non)blocking.

commit 856dccb7a6af99dbc4955053daca1b219bd6931d
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:03:26 2014 +0100

    motech-lps-30x: Make serial write call block.
    
    This call was previously explicitly nonblocking, but has no partial write
    handling. It sends a short packet so should be OK to block, most likely the
    output buffer will be empty anyway.

commit e050124095c3e0109ead1fc162504cc513a4e08c
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:59:45 2014 +0100

    motech-lps-30x: Mark serial read call as nonblocking.
    
    This call was already nonblocking since the driver opens the port with the
    SERIAL_NONBLOCK flag. It only reads one byte, and a zero result is handled
    appropriately.

commit 51056d61ec66124b236072ce9d28162ddecdcdcd
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:55:21 2014 +0100

    mic-985xx: Remove SERIAL_NONBLOCK call.
    
    All calls in the driver are now explicitly (non)blocking.

commit 3e2373247cf0b3c8557fb718d988b21a0299770c
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:54:00 2014 +0100

    mic-985xx: Make serial write call block.
    
    This call is executed from an event handler and was previously nonblocking,
    but has no partial write handling. It sends a short packet so should be OK
    to block, most likely the output buffer will be empty anyway.

commit 98842e53eb5440b508f40d94af38ff003673c567
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:52:20 2014 +0100

    mic-985xx: Mark serial read as nonblocking.
    
    This call was already nonblocking since the driver opens the port with the
    SERIAL_NONBLOCK flag. Partial reads are handled.

commit e13e354f892d25b0842790e420cceba1007d0823
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:45:36 2014 +0100

    gmc-mh-1x-2x: Remove SERIAL_NONBLOCK flag.
    
    All calls in the driver are now explicitly (non)blocking.

commit 612db3c44b5ab493d8fce9457c5807b15d169ea6
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:44:20 2014 +0100

    gmc-mh-1x-2x: Make serial write calls block.
    
    These calls are executed from an event handler and were previously nonblocking,
    but have no partial write handling. They send short packets so should be OK to
    block, most likely the output buffer will be empty anyway.
    
    Fix error handling for some: serial_write can return any negative error code.

commit e1960467ce43cd4e327579c3a0537b611d43f31e
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:40:47 2014 +0100

    gmc-mh-1x-2x: Make serial write call block, and fix error handling.
    
    This call was previously nonblocking, but there is no handling of partial
    writes. It is called from config_set where it is free to block.
    
    Also fix error handling: serial_write can return any negative error code,
    not just -1.

commit 4a0eda2b701d4ef26dc3f58f4ff00bbbbb21b246
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:36:00 2014 +0100

    gmc-mh-1x-2x: Mark serial read calls as nonblocking.
    
    These calls were already nonblocking since the driver opens the port with the
    SERIAL_NONBLOCK flag. They only read one byte. A return value of zero is not
    handled, but should not occur in theory due to the G_IO_IN check. It might be
    good to add handling of a zero return anyway, since I'm not sure if this is
    always accurate.

commit 0714a010ccd12514861eb24411fdb156299658a9
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:33:34 2014 +0100

    gmc-mh-1x-2x: Mark serial read call as nonblocking.
    
    This call was already nonblocking since the driver opens the port with the
    SERIAL_NONBLOCK flag. It only reads one byte, and a zero result is handled
    appropriately.

commit bb27c76513c887ad28bbafafb34858ee2e548c6d
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:26:16 2014 +0100

    fluke-dmm: Make serial write calls block, and fix error handling.
    
    These calls are executed from an event handler and were previously nonblocking,
    but have no partial write handling. They send short packets so should be OK to
    block, most likely the output buffer will be empty anyway.
    
    Also fix error handling for these calls, which seems to have been retained from
    previous direct usage of write() to a serial port fd.

commit 50276118ca45dc3dbf91f2fc77fc1f611cf1e57d
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:16:04 2014 +0100

    fluke-dmm: Make serial write calls block, and fix error handling.
    
    These calls were previously nonblocking, but have no partial write handling.
    They are made from scan and acquisition_start contexts where they are free
    to block.
    
    Remove the SERIAL_NONBLOCK at open, which only applied during scan, since all
    calls in the scan are now explicitly blocking.
    
    Also fix error handling for these calls, which appears to have been kept
    from a previous direct usage of write() on a serial port fd.

commit 707fa85ad5fa7e3f74dbb6863891e80a26126b25
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:12:48 2014 +0100

    fluke-dmm: Mark serial read call as nonblocking.
    
    This call was already nonblocking since the driver opens the port with the
    SERIAL_NONBLOCK flag. Only one byte is read. The case of 0 being returned
    is not handled, but the call is only made if G_IO_IN occurred so in theory,
    there should be a byte available. It might be wise to add handling for a
    return of 0 nonetheless, as I'm not sure if this is always accurate.

commit 55e32714f994aaf4841b59bc67c82d263aeb0a70
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:07:14 2014 +0100

    conrad-digi-35-cpu: Make serial write call block.
    
    This call was previously nonblocking, but there is no partial write handling.
    It is only called from config_set so it is free to block.

commit 0ac161bba0d9caaafcc2df946eaf242379eb4bfd
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 18:05:56 2014 +0100

    conrad-digi-35-cpu: Remove SERIAL_NONBLOCK flag from open at scan time.
    
    This open call is only made to check access, the port is closed immediately
    afterwards. The flag therefore has no effect.

commit c9fc06d7f0b13798f9ce6f4187c0a676aa32a4d0
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 17:54:18 2014 +0100

    colead-slm: Mark serial read calls as nonblocking.
    
    This is an odd one. These calls are made from a receive handler so should not
    block, and appear to be setup correctly to handle partial reads or no data
    available. However, the driver was not opening the port with SERIAL_NONBLOCK
    so these calls would have been blocking. Make them nonblocking.

commit 258a23134ddf6b71f6dc8032ff4919ef50c20b97
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 17:51:50 2014 +0100

    center-3xx: Remove SERIAL_NONBLOCK flag.
    
    All serial calls in this driver are now explicitly (non)blocking.

commit c1da74fc0a345a01d5734ee93e035cf808803598
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 17:51:25 2014 +0100

    center-3xx: Make serial write call block.
    
    This call is executed from an event handler and was previously nonblocking,
    but has no partial write handling. It sends a short packet so should be OK
    to block, most likely the output buffer will be empty anyway.

commit 3582ce8a01ef4f4befd3fccc28c5788196d48499
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 17:46:39 2014 +0100

    center-3xx: Mark serial read call as nonblocking.
    
    This call was already nonblocking because the driver opens the port with the
    SERIAL_NONBLOCK flag. Partial reads are handled.

commit d7b269da8fc0a5dc2334a07f0fa371825aaceb34
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 17:41:05 2014 +0100

    cem-dt-885x: Mark serial access as nonblocking, remove SERIAL_NONBLOCK flag.
    
    These calls were already nonblocking since this driver opened the port with
    the SERIAL_NONBLOCK flag. Having marked them as such, we can remove the flag.
    
    Also remove an unnecessary reopen of the port to change its blocking status.

commit ca4266a02f83b84c6baae1593641a37da4e8701c
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:49:27 2014 +0100

    brymen-dmm: Remove SERIAL_NONBLOCK flag.
    
    All serial read/write calls in the driver are now explicitly (non)blocking.

commit 776313d997f1748ff89cb073f45e3560ad661136
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:47:28 2014 +0100

    brymen-dmm: Make serial write call block.
    
    This call is executed from an event handler and was previously nonblocking,
    but has no partial write handling. It sends a short packet so should be OK
    to block, most likely the output buffer will be empty anyway.

commit 44be13b1f8dfa67345585af8018b60c17c01025d
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:42:26 2014 +0100

    brymen-dmm: Mark serial read calls as nonblocking.
    
    The driver opens the port with SERIAL_NONBLOCK so these were already
    nonblocking, and are handled appropriately.

commit 5305266a28c1af09267f43f8941b6012be3d954f
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:34:09 2014 +0100

    atten-pps3xxx: Remove SERIAL_NONBLOCK.
    
    All serial read/write calls in the driver are now explicitly (non)blocking.

commit c3116bc3115fb9f759fc9f4cb38f19746e533877
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:36:42 2014 +0100

    atten-pps3xxx: Make serial write call block.
    
    This call is executed from an event handler and was previously nonblocking,
    but has no partial write handling. It sends a short packet so should be OK
    to block, most likely the output buffer will be empty anyway.

commit e7b4103697627bc985b77feb4c05dc67da8aebc0
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:32:37 2014 +0100

    atten-pps3xxx: Make serial write call block in scan.
    
    This is called at scan time so free to block. There is no partial write
    handling and a response is expected afterwards. This should therefore be a
    blocking call.

commit 25dd083128e0cf60f9f23c7ac2649ec6829a954f
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:29:57 2014 +0100

    appa-55ii: Mark serial read nonblocking and remove SERIAL_NONBLOCK.
    
    This is the only read/write call in the driver. It is already non-blocking
    and is handled appropriately.

commit 64c536be5257604fb92bc727ed17cab626c1d455
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:17:47 2014 +0100

    aglient-dmm: Remove SERIAL_NONBLOCK flag.
    
    All serial calls in this driver are now explicitly (non)blocking.

commit a5053ddd216fb9ad9a7df6f4ce82dda863133685
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:14:23 2014 +0100

    agilent-dmm: Make serial write call block in send.
    
    This call is executed from an event handler context was previously
    nonblocking, however there is no handling for a partial write.
    
    The output buffer is unlikely to be full and the commands to be sent
    are short, so it should be OK to make this a blocking call.

commit 485b9ae34d37395ef1a77b5aedb337446aafddb9
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:11:05 2014 +0100

    agilent-dmm: Make serial write call block in scan.
    
    This call is executed at scan time so is free to block. There is no
    handling for a partial write and a response is expected immediately
    afterwards. It should therefore be a blocking call.

commit e0b781a45b5c6d13d3947c50571ddf22ee455e30
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:07:08 2014 +0100

    agilent-dmm: Mark serial read call as nonblocking.
    
    This driver opens the port with the SERIAL_NONBLOCK flag, so this call is
    already a nonblocking one, and is handled appropriately.

commit 2e360339f9ead64ced1747e3ce49863b18db22ee
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 02:01:27 2014 +0100

    serial-dmm: Remove SERIAL_NONBLOCK flag.
    
    All serial read/write calls in this driver are now explicitly
    nonblocking so there is no need for this flag.

commit 4277ac349ced6224e8093fea79b6988315fbb780
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 01:58:54 2014 +0100

    serial-dmm: Mark serial read/write calls as nonblocking.
    
    This driver opens the port with the SERIAL_NONBLOCK flag so these calls were
    already non-blocking.

commit 02bd1d029858678add65cb436e2ba664673068a9
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 01:52:14 2014 +0100

    colead-slm: Mark serial write call as blocking.
    
    This driver opens the port without the SERIAL_NONBLOCK flag,
    so this call was already blocking.

commit bbff0fe0d242542c1585cc9e94b9d4638632a049
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 16 01:49:53 2014 +0100

    manson-hcs-3xxx: Mark serial read call as blocking.
    
    This driver opens the port without the SERIAL_NONBLOCK flag, so this call is
    already a blocking one.

commit bf505eed6b01f8283d9d1c526199d8e6128cf95a
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 19:35:39 2014 +0100

    serial_readline: Implement using sp_blocking_read.

commit 18e4d5bc45ec5571270040df5433fd7f6b79e03e
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 21 21:26:36 2014 +0100

    serial_stream_detect: Make read nonblocking.
    
    This code implements its own waiting based on baudrate, so the read itself
    should be nonblocking. In general it will have been already, since drivers
    almost universally use the SERIAL_NONBLOCK flag.

commit 2fe6210af6a1e8028967fa267dac9429b7952eef
Author: Soeren Apel <soeren@apelpie.net>
Date:   Tue Sep 23 17:43:27 2014 +0200

    Add serial_num and connection_id fields to sr_dev_inst

commit db156e5409b44bb90a81c1fcd160c2313fc156a0
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon Sep 22 23:08:17 2014 +0200

    Add usb_get_port_path() helper function
    
    There is currently no way to uniquely identify USB devices in
    libsigrok. It uses the "bus.address" scheme which is only
    constant as long as the device remains attached to the bus.
    In order to allow USB device persistence in PulseView, devices
    need to provide a unique identifier even in absence of a
    serial number. This function is the first step as it provides
    the ability to query the physical location of a USB device.

commit f12d9979481c059825ee6aef2d6fdb85f0b2bba1
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 23 22:40:47 2014 +0200

    demo: Fix pattern mode and amplitude option publishing.

commit 9a10ce65d62526a24cbca2ee9e1cf55e132d6f7a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 23 22:27:34 2014 +0200

    colead-slm: Properly check acquisition sample limit.

commit 79f92686c620cfd06e3ed9fd1a20087343e4778a
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 19 00:21:30 2014 +0200

    session: Don't try to send packets if no session has been set.
    
    This indicates a bug, but let's not segfault if it happens.

commit 04c2f202f26f8875f4c52a48dffc320498d2c0e0
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Sep 17 22:04:22 2014 +0200

    input/chronovu_la8: Fix broken I/O loop.

commit af945a6625474e039fb7730483c5d07aa7f45969
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Sep 19 01:03:32 2014 +0200

    Typos and consistency fixes.

commit d4ccb6bd8fed2354eac92ea66ffdb274f0f78702
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Sep 17 17:41:41 2014 +0200

    yokogawa-dlm: Don't implement dummy scan options.

commit 5827f61b641cfd326a9cf2ea534eb4f9481a8187
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Sep 17 15:28:29 2014 +0200

    Publish config key capabilities.
    
    Every driver now publishes its device option config keys, i.e. the
    list fetched with sr_config_list(SR_CONF_DEVICE_OPTIONS), with a
    set of flags indicating which methods are implemented by the driver
    for that key.
    
    The config keys are OR'ed with any combination of SR_CONF_GET,
    SR_CONF_SET and SR_CONF_LIST. These are defined as the high bits
    of the uint32_t config key. Clients can OR config keys with
    SR_CONF_MASK to strip out these bits. This mask will be kept up to
    date if other bits are added to the capabilities list; clients MUST
    therefore use SR_CONF_MASK for this.
    
    Some keys don't have capability bits added, such as the informative
    device type keys (SR_CONF_MULTIMETER, SR_CONF_OSCILLOSCOPE, ...) and
    SR_CONF_CONTINUOUS.
    
    Scan options do not have capabilities bits.

commit 138589b02e3dd6aaad64e94a48efdf47d9b7d7d1
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 16 23:51:38 2014 +0200

    beaglelogic: Add missing scan options, and cleanup.

commit a0e0bb4149081eda06714f1158639f2dadcfa9d8
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 16 22:19:02 2014 +0200

    Consistently use 'scanopts' variable across all drivers.

commit f254bc4bba68d2cade0c8f7993d8fa8d3d9b556a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 16 22:11:39 2014 +0200

    Consistently use 'devopts' variable across all drivers.

commit 584560f142e1b17b9f4ef9069bd3724f2f77e750
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 16 17:49:20 2014 +0200

    Change type of SR_CONF keys to uint32_t.

commit a4e47454580b83972f052b5ace8e687d54d9425c
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 14 05:33:24 2014 +0100

    C++: Make hardware device instances user owned.

commit 8fa3fc7c601a058832f21d970e6ede3ae8488141
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 14 05:32:00 2014 +0100

    bindings: Make documentation script work under python 3.x.

commit f90ed2d1afbb22a90e26b92a34ae55215c1685ca
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 14 04:53:06 2014 +0100

    python: fix conversion to string variants.

commit 13fef1ed246930715b5a020b17fe79313cf5eed4
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 14 04:47:12 2014 +0100

    hwdriver: Validate types of GVariants passed by user.

commit da89e23a2864a15f0cc548c8f803ff4ecc042cd5
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Sep 14 02:31:10 2014 +0100

    Use AM_PATH_PYTHON macro to find Python binary.
    
    A specific interpreter can now be passed to configure e.g:
    
    ./configure PYTHON=python3

commit db560903d196c39bceeaa543317fa602a02b51ac
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 13 20:23:46 2014 +0100

    C++: use constructors for default argument declarations.

commit 35114c3394679a4da54b930328409b3223507bad
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 13 20:23:23 2014 +0100

    C++: include <cmath> for NAN.

commit 3b161085731fc6e86f7decedee34f55096282581
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Sep 11 21:25:52 2014 +0100

    bindings: Remove 'get_' prefix from all accessors.

commit edbd09250b185950646ee5928b2e7112161168cc
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Sep 11 16:16:04 2014 +0100

    scpi: Remove trailing carriage returns.

commit 25f94dfebced0db7b0c0c403a1c90c517017fca5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Sep 10 23:55:15 2014 +0200

    tests: Fix binary input test.

commit 25f20faf0df4c2f124c4dea0786dc042fcd41ed3
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Sep 10 22:55:50 2014 +0200

    input: Add debug output.

commit 88189019acbfbd9f696bba3a83de60b3a524b754
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Sep 10 22:53:28 2014 +0200

    input/binary: Fix broken I/O loop.

commit 013ec84b83a64088b524bb0b3a923c98b7ae9ea4
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Sep 10 18:21:51 2014 +0200

    Don't start session with 0-channel devices.
    
    Drivers aren't really able to deal with that in some cases, and it
    denotes a frontend bug.

commit cfd8ec53abc53ad40a94cbb881776b58ed976d3a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 9 19:53:55 2014 +0200

    scpi: Don't return NULL device from unsuccessful scan.

commit bfc8679937df1b62ee961f1c576555fc8575e5ad
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 9 13:22:24 2014 +0200

    scpi-pps: Clean up HP 6632B profile.

commit 0d14e30ba01fb8258a57cb894feff56990a9cd13
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 8 23:23:51 2014 +0200

    configure.ac: Add and use DRIVER2() to shorten file.

commit d3619a9b63f49a07795d91c130b37df4857843f8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 8 23:13:12 2014 +0200

    configure.ac: Shorten per-driver lines a bit.

commit 416de3ba0576147e14fe0b77106f96339e177d65
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 8 23:09:05 2014 +0200

    configure.ac: Don't duplicate driver name.
    
    The AC_DEFINEs don't need any driver names really, those only end up
    as code comments in config.h and are otherwise useless. Thus, don't
    duplicate them, we already have the driver names in DRIVER().

commit 331f56543a10dddf261ab1208ed5c28ad418463a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 8 23:31:54 2014 +0200

    scpi-pps: Fix compile warning.

commit fdedbfcdef0b0d0b36855df3f118efb219048368
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 8 23:30:21 2014 +0200

    scpi-pps: Fix config_set checks.

commit a0ca437de3f0c3912b944fa48cbb673ad491b208
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 8 22:58:14 2014 +0200

    configure.ac: Show SCPI backends that'll be compiled.

commit 62ea3ef5520e8935f00c4d2bdebaa2e1528baa0e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 8 22:30:53 2014 +0200

    configure.ac: Whitespace, cosmetics, sorting, etc.

commit d4cf45e516eec56267e6f7aae087e3fb040af67b
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 6 17:28:27 2014 +0100

    C++: Whitespace fix.

commit cac58676e987d06b890366ac4078a1e4fb1cbdc3
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 6 16:06:00 2014 +0100

    C++: Add SessionDevice class for devices owned by loaded sessions.

commit be43d5d58472a54fbf49df93781be4775a831a41
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 6 14:56:20 2014 +0100

    C++: Preserve original channel ordering.

commit d9eed47d5bbf9c1a706fbda7ae56f87f7202f995
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 6 13:53:09 2014 +0100

    C++: Add Configurable::config_check() method.

commit d54190a3631250f23c51cd73770e9cfdd9076fe8
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 6 13:08:51 2014 +0100

    C++: Add Configurable::config_keys() method.

commit 59b74d28c94b566f252ffb268314526ce14c3b33
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 6 13:08:29 2014 +0100

    C++: Make Driver inherit Configurable.

commit 4f7bcf0ec35c18f10da51530767efcff62ddc88f
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Sep 6 12:29:36 2014 +0100

    C++: Fix recursion loop in PacketPayload::get_shared_pointer().

commit effb9dd1c22dd10e1f276544bdadf4d3acf7dcc3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Sep 8 00:47:27 2014 +0200

    rigol-ds: replace some magic numbers by appropriate constant or variable
    
    This fixes bug #406.

commit bc4a2a46edf4149df702ef7111e08b50d53ad12c
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 8 12:44:16 2014 +0200

    Add support for HP 6632B.

commit 01b0257aefc10874012e9bc066802a2c3a308801
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 8 03:26:19 2014 +0200

    scpi-pps: Create one channel per MQ/output combination.
    
    This allows frontends to trivially select which MQs on which channels
    they want to see; others won't even be fetched.

commit 379d2609651e16956ae51b90e324e82d0e85b854
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 8 03:25:41 2014 +0200

    Add private storage pointer to struct sr_channel.

commit 478c8d923e026fe2dda707f67336326da635b2eb
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 8 00:02:03 2014 +0200

    scpi-pps: Simplify SCPI command handling.

commit 3222ee103d008fa25a125e51536d13a03a010c6a
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 5 12:52:57 2014 +0200

    scpi-pps: Add support for Rigol DP831A/DP832A.

commit 58b77c41ff815d0157c58d052dfed9b087db42d8
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 5 12:50:07 2014 +0200

    scpi-pps: Use regex to match model names.

commit 22c18b03707834251b14a4f77d92aee19188dcbc
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 5 03:49:25 2014 +0200

    scpi-pps: Generalize vendor name cleanup.

commit d4eabea847e675bc333be1e51ead4e0be6fc976b
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 5 03:23:32 2014 +0200

    scpi-pps: Add support for Rigol DP832.

commit 9e45cd41fd1618238c8a3afc56d4031c984bc3c5
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 5 03:20:32 2014 +0200

    scpi-pps: Add basic cross-vendor PPS functionality.

commit a1eaa9e066ff8d86db8a1fba6615204d442c53d7
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 5 02:47:22 2014 +0200

    Revamp PPS-related config keys.

commit ca1a7cb56fbfeeb1c5b27ea87eb8603ca3ca888b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 31 17:20:39 2014 +0200

    scpi-pps: Initial driver skeleton.

commit af1e487e3f8268bd3cecf778a26fa391ea2d1a31
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Sep 4 22:06:54 2014 +0200

    brymen-bm86x: Add current loop sensor support.

commit 7343ad1ec72860b5d11ca8f35c4d014a1fa5b643
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 5 18:33:48 2014 +0200

    scpi/gpib: Rename backend to scpi_libgpib.
    
    libgpib is the userspace component to linux-gpib's kernel modules that
    implement low-level interface drivers.
    
    When libsigrok gets userspace GPIB interface drivers, that backend will
    be the "official" scpi_gpib.

commit d6e63a2c686a5bb6bef1adf394ce36c12db503ff
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Sep 5 18:26:12 2014 +0200

    build: Use pkgconfig for libgpib.

commit bb2a4ed407fe2986dce404244b4f2096536e2dac
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Sep 5 10:34:04 2014 +0100

    Add GPIB SCPI backend using linux-gpib and libgpib.

commit b4ed33a7765a3e08756c18695bcd885b330bc83a
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 2 21:31:11 2014 +0100

    C++: Implement Deleter pattern in UserOwned template.

commit 90e89c2a42ec085658f6c99656195ee4866e34c8
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 2 21:05:42 2014 +0100

    C++: Add UserOwned base template for objects with resources owned by user.

commit 541c855e1d05a007e996f52639698a7d3881c957
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 2 20:38:44 2014 +0100

    C++: Rename StructureWrapper to ParentOwned.

commit bf52cc8cf278ff73a0ace5b4472a276d76651232
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 2 20:30:50 2014 +0100

    C++: Make StructureWrapper a recurring template, eliminating lots of casts.

commit ba4eac48d4c7277d8b7cbe4036fb64610b8e6c61
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 2 20:01:35 2014 +0100

    C++: Don't spell out arguments to StructureWrapper when not required.

commit e8779db70cfe53db1d9f1f6ad00c4888ccf09b23
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 2 22:09:17 2014 +0200

    input/wav: Now really correctly check supported sample size.

commit 110fe1b4a2cac30140b7f5483e256f4c2fdf068c
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 2 21:55:52 2014 +0200

    agilent-dmm: U124xx/U125xx: Add current loop sensor support.
    
    Also fixes frequency support.

commit 0d0170ae9e4743e3918a3c9709c026f93d714a4f
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Sep 2 19:21:11 2014 +0100

    C++: Fix duplicated shared_ptr creation.

commit 3bc172a61f1518a2a9cd4c795e6467c80d8f703d
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Sep 1 16:41:21 2014 +0100

    C++: Remove erroneous stray method.

commit e82d34a9c230afb06c429f09fbff404299837e75
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 17 01:06:13 2014 +0200

    scpi/usbtmc: Minor debug output changes.

commit 73145219c01dd8a1a00f54c7ac4c2c537ff02518
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 2 21:26:15 2014 +0200

    input/wav: Correctly check supported sample size.

commit 28d9df729254d998e152d7cec665a9db47c79c4d
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Tue Sep 2 19:14:25 2014 +0200

    input/wav: Fix broken handling of float32 samples on big endian
    
    Also, make sure that floats are 32 bit even in the case of an
    extensible header.

commit c7f5219e627d9aa880a7547ddab3abf73420807c
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 2 01:01:56 2014 +0200

    agilent-dmm: Add temperature regex to U125xx parser.

commit a965748ae2c880b2628888695198573f7c38eace
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 2 00:54:23 2014 +0200

    agilent-dmm: U124xx/U125xx: support 5 more modes.
    
    This adds support for resistance, capacitance, frequency, continuity,
    and temperature.

commit 5791bdf6048e7151e24e5bb0cdf592781fc3d03a
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Mon Sep 1 14:58:26 2014 +0200

    gmc-mh-1x-2x-rs232: Completed energy measurement ranges (V, A, W) for Metrahit 29S.

commit ee2bcdfc44f285c5a7b93fcba625409fdd25dcc3
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 1 21:44:08 2014 +0200

    agilent-dmm: U124x/U125x fixes.

commit 95bc7725949836f8fb9851a51fcc755b25e4fc6f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 29 21:32:34 2014 +0200

    unit tests: Update to recent API changes.

commit 129d5bc961fb3589a08b391092d9a7e5eef522f6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Sep 1 00:08:23 2014 +0200

    error.c: Add missing entries.

commit 78132e2a138f707b9522c41110079f92b39afc88
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Aug 30 12:16:51 2014 +0100

    C++: Add sanity checks in StructureWrapper.

commit 2fe07d3fb521ac1aac6c1e8a6a8fc8d651b28a29
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 31 13:46:45 2014 +0200

    build: Silence java-clean.

commit d92de05ad1d8004643ec5cd81227e456be5a261f
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Aug 31 10:56:00 2014 +0200

    C++: Provide fallbacks for missing stoi/stod functions
    
    Notably, Android does not provide these functions.  The fallback
    implementation is based on the one in the GNU ISO C++ Library.

commit d1a5f737816cd9bc8d4ddfeb6d8831a1c1c58bf9
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Aug 31 10:49:02 2014 +0200

    Makefile.am: Use $(CXXCOMPILE) to compile C++ code
    
    When compiling the SWIG wrappers for the Java bindings, use the correct
    automake macro so that all compiler flags are honoured.

commit ac10a927b5141f0f1e163d05a5c43e397c6ce9d2
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Aug 31 00:40:11 2014 +0200

    yokogawa-dlm: Replace g_try_malloc() calls and fix coding style

commit 0028d5a1eeca4620a21a6f7374edd43ca1370aab
Author: Soeren Apel <soeren@apelpie.net>
Date:   Wed Aug 27 14:22:57 2014 +0200

    yokogawa-dlm: Lower timeout to increase throughput and fix data acq bug

commit af3487ec288c9eb7042932140fcc8d53abf8c382
Author: Soeren Apel <soeren@apelpie.net>
Date:   Wed Aug 27 13:02:20 2014 +0200

    yokogawa-dlm: Do not block when receiving and save frame length in scope state

commit 8ab929d614262dc446ee2e948ca583d31110b14b
Author: Soeren Apel <soeren@apelpie.net>
Date:   Tue Aug 26 16:09:28 2014 +0200

    yokogawa-dlm: Flesh out driver with current state of development

commit 107639373df3d592961eb70111e6f4ccb36f74fa
Author: Soeren Apel <soeren@apelpie.net>
Date:   Mon Aug 25 13:09:42 2014 +0200

    yokogawa-dlm: Integrate driver skeleton

commit 6e8d95a50ccd041a0698ef84b39b3f70a3f570b5
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 30 20:16:45 2014 +0200

    input/csv: Use uint64 for samplerate option.

commit edd28877cc74f9f0c063910d3cc24729db67f3f4
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 30 20:15:30 2014 +0200

    input/chronovu_la8: Use uint64 for samplerate option.

commit 10288172bed925d1e50270a62d323576b578ef7f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 30 20:13:13 2014 +0200

    input/binary: Use uint64 for samplerate option.

commit 4edba404b0754ddea7ed9f2e0b851f067a8cb9f0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 30 19:32:15 2014 +0200

    agilent-dmm: Add U124xx device IDs.

commit 173378f0f5e323f9f73004a2d6a0dabb69810180
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 29 23:41:41 2014 +0200

    agilent-dmm: Add provisional support for the U124xx.

commit f857bd928da912b0b451893dd720ef909b2577ab
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 29 23:39:00 2014 +0200

    agilent-dmm: Assume all A and B models are identical on the wire.

commit 51b92b7da41c30c0dfe31c824ace6d9e7245ab92
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 29 21:35:07 2014 +0200

    agilent-dmm: Add RMS flag to AC voltage modes.

commit f216eb869967d354a0cc546ed72b93cbd5015c04
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 29 19:35:01 2014 +0200

    agilent-dmm: Correctly parse negative overload.

commit e6284bf09fa80a611b84fdc2f370fb10e1df7207
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 29 23:02:22 2014 +0200

    Remove unneeded subdriver debug messages.

commit 4cd883a7f36136ba9fbac4ed824dee4c6ce2b044
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 29 20:06:49 2014 +0100

    C++: Fix shared pointer handling for PacketPayload base class.

commit b31581f8a8fab97004603ba61c16c3758c14c777
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 29 17:35:46 2014 +0100

    C++: Fix hash table initialisation in map_to_hash_variant.

commit d01d2314879988e9d9ab80872889340e89ec8cc8
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 29 14:01:51 2014 +0100

    C++: Fix shared pointer handling for Device base class.

commit f1830b225db53a29fdb7ea5d0de328119d9b9e79
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 29 13:56:40 2014 +0100

    Clean Java files on any change that needs re-running SWIG.

commit 7c03b56443a514ce35b6be4fdfe2e9a3fac74e29
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 28 17:44:24 2014 +0200

    agilent-dmm: Fix value parser.
    
    This considered 0.0 to be an invalid result for no good reason.

commit 6f479a0a72492b2a28344de04776733b19fdbaa9
Author: Peter Zotov <whitequark@whitequark.org>
Date:   Fri Aug 22 22:27:56 2014 +0400

    Add support for mcupro Logic16, a Saleae Logic16 clone.
    
    From sigrok's point of view, this analyzer has two differences:
    
      * It does not require uploading the firmware.
      * It returns garbage in some registers used for sanity checks.
        Saleae's software ignores that garbage; sigrok only does if it
        specifically detects the mcupro clone.

commit f88c73732cbef5dad58788d1555bd66742001192
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 28 01:49:48 2014 +0200

    C++: Use sr_input_scan_*() API changes.

commit 4f979115a4206bc1ff72c0319a340cbcad0f4b06
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 28 00:22:13 2014 +0200

    input: sr_input_scan_*() now return a status code.
    
    SR_OK: a match was found.
    SR_ERR: no match.
    SR_ERR_DATA: a match was found but the module cannot handle the input.
    SR_OK_CONTINUE: some module didn't have enough data to be sure.

commit aad21bd8666e7937b3d8b83b1fc0c57865dfc1ec
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 28 00:19:36 2014 +0200

    Add error string for SR_OK_CONTINUE.

commit b7f446051c67f16c360350c6191d7d181ffd2356
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 28 00:18:29 2014 +0200

    Add SR_ERR_DATA.

commit cbd9e6e987a4427a3ef11c1d12a967d4e6b92943
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 27 15:55:52 2014 +0200

    input/wav: Support for WAVE_FORMAT_EXTENSIBLE.
    
    This is needed for supporting > 16-bit PCM samples.

commit 962d43440a95f67d365f7e8174b2af89c34bae9a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 26 22:48:12 2014 +0200

    input/wav: use our own endian macros.
    
    These should work better on non-aligned memory locations.

commit 5bf0dd6aff6cc0ef1f18362faa0c6185a50996a4
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 26 22:45:38 2014 +0200

    Add RB16S and RB32S (signed) macros.
    
    Also note signedness of all the endian macros.

commit 06ad20bebf658f97d55cda3ac058f9c336be09df
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 26 12:38:41 2014 +0200

    input: Avoid warnings on all-zero static struct entries.

commit 7f5a036750d30db466f23bb5fdaa28173bafe28d
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Aug 24 20:11:35 2014 +0100

    C++: Update InputFormat::get_options for latest version of input API.

commit 43942280bb42a1dd82957aa582fd43d6e2e5dc96
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Aug 24 14:22:03 2014 +0100

    C++: Implement InputFormat::get_options()

commit 6e5240f418a8e021a8d1272b6255a8c0f10b5af6
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Aug 24 02:00:14 2014 +0100

    C++: Correct ownership of InputDevice objects.

commit ca3291e3ee7415c4c4505164ec931b91ea15cefe
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Aug 24 01:40:19 2014 +0100

    Update bindings for new input API.

commit b84cba4dbf2a78806848f9dbaf10238a18daf735
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 20 01:29:37 2014 +0200

    input: Convert binary module.

commit 75cb428f9f5f11aaa42499e45679b12cc806b1ce
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 20 01:27:39 2014 +0200

    input: format_match() is not required in an input module.

commit 02e24c0ce0d8677039f1ba9b10322c7967ee1a13
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 20 00:43:13 2014 +0200

    input: Convert chronovu-la8 module.

commit 5e83cd741f01551e1a529b2da703f1c91c25d520
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 20 00:42:16 2014 +0200

    input/vcd: Minor code cleanup.

commit 33e4303baa3a33e5321bae9f3769deb6afd9b7a3
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 20 00:41:22 2014 +0200

    input: Only feed scanned header to streams, not scanned files.

commit 115fbe9410c898c137071021ed37444e30524198
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 20 00:40:25 2014 +0200

    input: Only use header buffer for modules that need it.
    
    The buffer was leaking into modules that didn't ask for it.

commit 0a4d68f74b720f089966525055d91b0b026b7fa1
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 19 16:49:27 2014 +0200

    input/wav: Send END packet on cleanup.

commit c10ef17c23f9493e70227d8514254facf74cabd6
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 19 16:49:18 2014 +0200

    input/vcd: Send END packet on cleanup.

commit 41d214f61a1683fca49b9dc687045afc2ce42007
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 19 00:14:47 2014 +0200

    input: Convert CSV module.

commit 3e2cd21115a22689393f9d154b988792d18ae21a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 19 00:12:32 2014 +0200

    Add second positive status code: SR_OK_CONTINUE.
    
    Errors are thus always < 0, SR_OK == 0, and "OK but..." status
    codes are > 0.

commit 57486a7528f8a646bbc6d22994a8f5effd3cacf9
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 19 00:09:09 2014 +0200

    input: sr_input_new() always allocates the instance buffer.

commit fe4fe25bf5afdcab336e2fc10625c77720733ded
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 19 00:07:36 2014 +0200

    input: Fix option enumeration.

commit d65fcbcd4101c276e509746e1af73b3a95aa03fb
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 15 23:31:39 2014 +0200

    input: Fix internal API docs.

commit bd0bfaafd863ef1eb0cd7d1711c28d66bca3359b
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 15 23:31:20 2014 +0200

    input: Actually return a NULL-terminated array.

commit 20e8882106bcd100414573f53b1a2e9a720cae9b
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 15 19:59:38 2014 +0200

    input: Frontends don't need to see SR_INPUT_META_*.

commit 7db0639495cb8d96aadcd17678a535c97449a677
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 13 14:18:12 2014 +0200

    input: Fixes and VCD.

commit 0f3dbc9530b94a1cdefa97aee820e9de461cdb48
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 10 18:44:39 2014 +0200

    input: Fix up API documentation.

commit 17bfaca62aaacec71c6da4bd927af051727593b6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 10 16:57:04 2014 +0200

    input: Introduce new input module API.
    
    This is a work in progress.

commit d514d35dab8b831264c8cb01444cf0bb5abbbf8f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 3 15:12:49 2014 +0200

    input: make sr_input{_module} opaque to clients.

commit d4c937749a92ce6defa2f0095b34692181afe597
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 3 15:11:24 2014 +0200

    input: s/format/module in all naming.

commit 81a34976553e9c9d2c61563de939c20d1cca118f
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 26 01:49:00 2014 +0200

    fx2lafw: Code cleanup.

commit 1685c27619b7c8c9041476d0db437081ac892d4f
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 26 01:48:27 2014 +0200

    Avoid warnings on all-zero static struct entries.

commit 84cbaf77b4a74f55bd6e9a5dcfbb2c4d5bcf7c27
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 25 01:00:00 2014 +0200

    pipistrello-ols: Disable unused trigger stages.
    
    Thanks to Magnus Karlsson for this fix.

commit acc885c7553d12ce18d45fc603ebf7d0c188db09
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 22 14:59:04 2014 +0200

    pipistrello-ols: Preliminary port to current API.

commit b94cff407f6a260e4ae916137da54f7602f3d050
Author: magnuskarlsson <magnus@saanlima.com>
Date:   Thu Jun 5 14:28:50 2014 -0700

    DEMUX and RLE fixes

commit 1e0de84608580b90cd19e13abff876cbc6a262fa
Author: magnuskarlsson <magnus@saanlima.com>
Date:   Wed May 28 18:53:22 2014 -0700

    added edge triggers

commit 1f9bcd0f946a0a55275357143e259ff402619444
Author: magnuskarlsson <magnus@saanlima.com>
Date:   Sat May 10 16:15:19 2014 -0700

    fixed typos

commit 72716f15bebb583a17ed47646724105b11bef4de
Author: magnuskarlsson <magnus@saanlima.com>
Date:   Sat May 10 16:04:58 2014 -0700

    fixed a problem with USB defines

commit 4bd80e12287dbc056f1431e42a17a0cb60010abc
Author: magnuskarlsson <magnus@saanlima.com>
Date:   Sat May 10 15:44:13 2014 -0700

    added pipistrello-ols
    
    Conflicts:
            configure.ac
            src/hwdriver.c

commit 562b7ae513ed755ee93f233d6a460259cea535de
Author: Soeren Apel <soeren@apelpie.net>
Date:   Sun Aug 24 16:54:38 2014 +0200

    hameg-hmo / rigol-ds: Restore compatibility with std_dev_clear()

commit 14e1aa6df0c760d6dacc0d3b225276cf32972ca5
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 22 20:15:32 2014 +0100

    rigol-ds: Fix duplicated vendor string for Agilent devices.

commit 81a69107de387a1f8d7c3b2ee9081386d2efc248
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 20 23:39:27 2014 +0200

    build: Require libserialport version 0.2.0.

commit 01f6e330f8a49a80f2c7fdf94af79bffbe279cba
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jul 1 22:33:03 2014 +0200

    serial: re-implement sr_serial_find_usb() using new libsp APIs

commit fdefc40aec016e0395a6f46d96fd4931a0ec9f45
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 20 17:33:09 2014 +0200

    output: Fix options enumeration. Again.

commit aba57f3550b8d377e96dd47f5d555148851ab639
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Aug 20 12:58:33 2014 +0100

    Close zip file at end of sr_session_file_check.
    
    From patch sent to sigrok-devel by jerryxjtu.

commit 3e27b177c413063cfbdbe682504d11c03059b851
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Wed Aug 20 14:15:24 2014 +0200

    configure.ac: Fix jni.h check when cross compiling
    
    Since AX_JNI_INCLUDE_DIR does not work for cross compilation, don't
    invoke it when cross compiling.  Also, add a configure option to
    set the jni.h include path manually if needed.

commit 879dd50fb6d5f810d3c5635c3264b2c08ad22a70
Author: Marc Schink <sigrok-dev@marcschink.de>
Date:   Wed Aug 20 13:54:53 2014 +0200

    output: Allocate additional memory for NULL terminator.
    
    Best regards,
    Marc
    
    >From a7228150fdea91a65b5d70359bf51b87d2572edf Mon Sep 17 00:00:00 2001
    From: Marc Schink <sigrok-dev@marcschink.de>
    Date: Wed, 20 Aug 2014 05:34:57 -0400
    Subject: [PATCH] output: Allocate additional memory for NULL terminator.

commit f817f05aaca16d0bb95ca1ade7b7e1941178fa68
Author: Marc Schink <sigrok-dev@marcschink.de>
Date:   Wed Aug 20 13:55:04 2014 +0200

    ikalogic-scanaplus: Free device context to fix memory leak.
    
    Best regards,
    Marc
    
    >From 779ef3a1150b3679ab357ceb0e2f50785ad90d28 Mon Sep 17 00:00:00 2001
    From: Marc Schink <sigrok-dev@marcschink.de>
    Date: Wed, 20 Aug 2014 05:42:07 -0400
    Subject: [PATCH] ikalogic-scanaplus: Free device context to fix memory leak.

commit 9fc318d9ef1b3f2438e185d5a466dca03bcbcbb4
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 18 23:55:39 2014 +0200

    output: Fix double free.

commit 499c85dce538b5bb270bce62ba6c6911254f58a4
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 18 23:54:46 2014 +0200

    output: Fix output option enumeration.

commit 34f4e3b4e4a4984d024e8757ee8b49c099d8baf9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 17 17:32:46 2014 +0200

    unitests: Adapt to recent API changes.

commit 7754fb4d931013f520f85aa8cbef3bcd491e2599
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Aug 17 14:20:01 2014 +0200

    saleae-logic16: Recognize FPGA FIFO overflow status

commit 0e1a7fe91a9132ad586337bdd29d93eff4344edd
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sat Aug 16 23:44:19 2014 +0200

    Makefile.am: Fix out-of-tree build for Python bindings

commit 2ba308ecc69118287f12986b5d6814963f1d5da4
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Fri Aug 15 15:55:22 2014 +0200

    configure.ac: Look for python-2.7.pc as well when making bindings

commit 33c84e81975c75b73002b038a0076f384ca13d63
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Thu Aug 14 23:07:45 2014 +0200

    Makefile.am: Fix out-of-tree build for C++ and Java bindings

commit 7f82ec4d724c5ddb46bf8dbed6dce881bc21230a
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Fri Aug 15 14:42:18 2014 +0200

    Makefile.am: Fix doxygen invocation in out-of-tree build

commit 55e55a3f928460c9e20a14857bd27d312b4aadb3
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Thu Aug 14 23:04:06 2014 +0200

    Fix include paths for out-of-tree builds

commit 70d3b20ba6189093c3a18473b3376644683f729d
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Aug 17 11:44:05 2014 +0100

    bindings: update for sr_output_options_{get,free} API change.

commit af7d656d37de4b8b7fc344fd557f9ae8d3238705
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 15 20:21:50 2014 +0200

    output: Constify module options.

commit fc74643098877824b7a3cf16cc24de624b191615
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 15 20:16:31 2014 +0200

    output: Actually return a NULL-terminated array.
    
    This returned an array of structs with an NULL-ed element at the end.
    The drivers still do this, but the wrappers now make and free a NULL-
    terminated array around it.
    
    sr_output_options_free() now takes the pointer returned by
    sr_output_options_get(), instead of the module owning it.

commit db81fbb58261825e03aadaf20cff794e4c65401a
Author: Soeren Apel <soeren@apelpie.net>
Date:   Wed Aug 13 16:33:38 2014 +0200

    hameg-hmo: Make sure the enabled_channels list is empty before populating it
    
    Previous runs of dev_acquisition_start() keep the enabled_channels list
    populated if they fail. This means that once an invalid channel
    configuration was detected, it will be detected again even if the channel
    configuration was changed. With this change, the list will be cleared
    before being populated so that any stale entries are removed.

commit 3c1cafebb3773739866ab16f878eca47e0ede785
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 13 14:34:24 2014 +0200

    session: Remove irrelevant logging.

commit 441e9eae58c2b1864b1982d09c4c2dc9c8f7e4bf
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 13 14:30:30 2014 +0200

    output/wav: Minor code cleanup.

commit 63f6df68c67099a207910f38386e0fe77ece127f
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 13 14:22:41 2014 +0200

    output: Deal properly with NULL (no) options on a new output instance.

commit 98de0c78743e27be185bce724fd847d20640ee22
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 11 13:20:50 2014 +0200

    tests: Factor out srtest_setup() and srtest_teardown().

commit 41de54ffb1d36cbf5021705403a85b171662ec96
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 11 13:15:43 2014 +0200

    sr_session_new(): Return SR_ERR_ARG upon invalid argument.
    
    (instead of segfaulting)

commit 4172352914138a17340cbd2dde74d095cb61a247
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 11 12:37:54 2014 +0200

    Add a small set of unit tests for session handling.

commit 508ddda2a31b57aae2353345fd34072a4b80b292
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 11 12:31:01 2014 +0200

    session_file.c: Drop left-over extern.

commit 15aa3b0d0ca6429b93206f79402a7d61064f15cb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 10 18:56:54 2014 +0200

    Doxygen: Exclude more non-public files and directories.

commit 9fcc286604df23b2447fc6ee29bbb44a85d0329f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 10 18:56:24 2014 +0200

    trigger.c: Add Doxygen @file and @defgroup tags.

commit 071b93d9edc9dd1c49093cfd184ad6ecf6e7155f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 10 18:18:30 2014 +0200

    Makefile.am: Silence some more Doxygen output.
    
    This silences stuff like this (among others), depending on the
    Doxygen version used:
    
      Warning: Tag `XML_SCHEMA' at line 1814 of file `Doxyfile' has become
      obsolete. To avoid this warning please remove this line from your
      configuration file or upgrade it using "doxygen -u"

commit ac0db24ad4b4e13c2bd9b0b5030dd31d4d8a4c55
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 10 17:59:34 2014 +0200

    Doxygen: Silence Doxygen warnings by default.
    
    This allows for a clean build per default. Developers can enable
    those switches while writing documentation to get a few useful
    warnings.

commit 7efe889e7aa5849ae3e4d09b8f50779992502b79
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Aug 10 17:27:43 2014 +0200

    Doxygen: Add a few missing @param lines for sessions.
    
    This fixes a bunch of Doxygen warnings.

commit 5cad31c708b50329a27f31c7df0f67dddea6ce5a
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 1 20:08:44 2014 +0100

    bindings: Transfer C++ method parameter documentation to Python/Java bindings.

commit b6f411ac4eace7e3c793444b54be7456686d71a5
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Jul 27 12:05:44 2014 +0100

    C++: Add parameter documentation and additional method descriptions.

commit 8a314e90ffd20157340d6326d5a2424e7dbca050
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 1 19:29:48 2014 +0100

    java: Add documentation generation.

commit 6a8c1d68797cbb51cb94436b29ef451a1eab5293
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 1 19:22:24 2014 +0100

    python: Add documentation generation.

commit bd4fda24074ce175d23a59cb15cceb19707fe6f1
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 1 18:17:33 2014 +0100

    bindings: Transfer C++ documentation strings to Python and Java wrappers.

commit 84c870852af95aebf9c1c2fd3e30350b8c2c029a
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 1 17:40:56 2014 +0100

    C++ bindings: Attach documentation to enum wrapper classes.

commit 3532ed01256b986ecaf37ea5bb29d81465e2aa89
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Aug 1 17:18:09 2014 +0100

    C++ bindings: Reimplement enums.py using doxygen XML output instead of gccxml.

commit b4e31d2aac02fb530326aaabedd3742772c52a2e
Author: Soeren Apel <soeren@apelpie.net>
Date:   Wed Aug 6 16:06:09 2014 +0200

    Fix typo in the Hameg HMO driver and add some error message for when the float comparison breaks

commit 375340a7245cdbfe1c769108fee77d52c45c963a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 4 22:00:17 2014 +0200

    configure.ac: Don't build BeagleLogic where a build would fail.
    
    The BeagleLogic driver needs sys/mman.h and sys/ioctl.h in order to
    build, so disable the driver if those headers aren't available.
    
    This is the case (for example) on MinGW.

commit e336c0413c50fec1b5678957d182c045847bfc63
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 3 14:09:04 2014 +0200

    output/vcd: Drop obsolete string.

commit 226363c4e8247cae249f1c6a28e48e5a0163162c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 3 14:00:07 2014 +0200

    hameg-hmo: Implement SR_CONF_SCAN_OPTIONS.

commit 706f482a95f669f722a40fc30488d67431553d1e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 3 01:24:30 2014 +0200

    output: Check options hash before destroying.

commit dcc55fe91aadf4396ce4a3b5db2898da39e1a6be
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 3 01:16:03 2014 +0200

    output: Move option checks to the wrapper.
    
    Output modules are now guaranteed:
      - Every option is always given, with the default value if not supplied
        by the user, and is the right GVariantType.
      - No invalid options are ever passed.

commit 950043c30ecd2a0d1d15a14f0d07f29b06157fc6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 2 19:20:00 2014 +0200

    output: Modules can keep track of option resources without wrapper help.

commit 7ea75009d1977874efb686b000516c4ce1343474
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 2 03:48:55 2014 +0200

    output/wav: Add 'scale' option.
    
    Audio tools processing WAV failes generally need the samples to be in
    the range -1 to +1. The scale option adds postprocessing to any samples
    going into a WAV file, by dividing the sample values by the given factor.

commit a24c3f4a899d61a6bfc837a1969dbacf42e2ea72
Author: Janne Huttunen <jahuttun@gmail.com>
Date:   Wed Jul 30 10:28:58 2014 +0300

    Implement Brymen BM25x series as a serial DMM.
    
    The Brymen BM25x series supports the BC-20X that is an opto-isolated
    serial cable. The link seems to be unidirectional i.e. when activated
    the DMM periodically sends updates to the host while the host cannot
    control the DMM in any way.
    
    The protocol is documented in "6000-count-digital-multimeters-r1.pdf"
    that is available from the manufacturer. Every 15 byte packet consists
    of a bitmap where the bits correspond to segments or symbols on the
    LCD display i.e. the DMM essentially sends the contents of its screen
    to the host in every update. This driver then decodes the measured
    quantity, unit and its value from the bitmap.

commit a01eab4a08e6da4db6fb90a607e98e16e2e5b24f
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 1 16:31:13 2014 +0200

    Doxygen: Update paths.

commit 2f6f0e9187cc8e7f70da9e1107fa0cb6f6598b0c
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 1 12:04:20 2014 +0200

    input/vcd: Make less noise in format match failure.

commit b866fc095d8f80621551af5b97102d630591f73b
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 1 12:03:42 2014 +0200

    input/csv: Match format on .csv extension in filename.

commit cb41a838a7da85f897b7ddd401b35a243a81bf1f
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 1 12:02:09 2014 +0200

    input/wav: Deal with IEEE float samples in WAV files.
    
    This also skips chunks before the 'data' chunk in WAV files, as
    this is quite common.

commit 364859ac732fadddada2d1622dfec7f2ba2fef76
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 1 12:00:51 2014 +0200

    output/wav: Fix channel deinterleaving.

commit 6e6babb9d5f2293b3ebc1b7d90f94fa7038e0602
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 1 11:57:59 2014 +0200

    output/analog: Fix channel deinterleaving.

commit 0605f874754be5b6c8eb8b8bca481c0d47ea3f48
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 26 17:19:52 2014 +0200

    output/wav: Initial module implementation.

commit afaa75b98c8beca03d67d28dacbffee819c2f70b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 26 11:00:51 2014 +0200

    output/wav: Initial module skeleton.

commit 49224c285351e1d868731f13b3ef3c7906518706
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 29 01:56:19 2014 +0200

    demo: Attach analog generator to channel, not channel group.
    
    This also adds a new channel group "Analog", which has all analog
    channels in it.

commit d686c5ec462a4044e049931e57d60e9d08df8cde
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 28 15:56:17 2014 +0200

    output: Rename instance private storage pointer to priv.
    
    This makes it consistent with other libsigrok fields used for this purpose.

commit dddabe37052d0d8c7fbd2ac3e15861e556c4814f
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 28 00:01:03 2014 +0200

    demo: Support changing the amplitude of analog channels.

commit cff7d8d60d1ae12aa38bc97c41506cc9067fe980
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 27 23:59:49 2014 +0200

    Add config key for amplitude.
    
    This is intended for setting (or getting) the amplitude of a source
    which doesn't really have an MQ associated with it, such as the demo
    driver's analog channels.

commit 7a958e2a0703ba1ddc4c27a3f597efe1873eec69
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 26 21:28:05 2014 +0100

    Java: correct input map type in create_output() wrapper.

commit 90bd7656401dd178756597d133581e08615093d7
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 26 19:11:11 2014 +0100

    Java: Move interfaces into org.sigrok.core.interfaces, tidy build system.

commit 9455b6df6f7e727b9f089fea9271f619333d1bc0
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 26 20:37:53 2014 +0100

    Java: ignore Meta::get_config() due to SWIG typemap issues.

commit ca5fdd96ba672c7dec9474f1b4ca6c553559f1fe
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 26 18:34:40 2014 +0100

    Add bindings/swig/classes.i to Python binding dependencies.

commit 4711ec660d3c46aefa8d63b12c9bc8d5796acade
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 26 18:34:20 2014 +0100

    Fix python-quietclean Makefile target.

commit 58aa1f8359007804f48a4f881e6782a06e1b729a
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 26 16:03:25 2014 +0100

    Update bindings to use new output API.

commit a755b0e122105d934c4e7b97435420eda6df6e8e
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 25 05:56:52 2014 +0200

    output: Finish output module API wrappers.
    
    The sr_output and sr_output_module structs are now no longer accessible
    from the client.

commit 06bd935e161dd273788ce9f1b455732fb91efd84
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 24 15:01:26 2014 +0100

    bindings: Add Channel::get_index() method.

commit f36ca8893d575d42eae0b103768ac7d8a4320322
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 24 14:45:58 2014 +0100

    bindings: Add Device::get_description() method.

commit e194c0119709d03db52f4287a62146c41739341d
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 24 13:17:19 2014 +0100

    bindings: Change return type of config_list to Glib::VariantContainerBase.

commit 1d67cfb4eaa3884ded5d78d3ac53d19c9ee45ecb
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 24 12:43:27 2014 +0100

    bindings: Revise Session::append() API.

commit 6be7a7f287a5567361f1dadf41a9d11b828a9101
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 24 12:41:49 2014 +0100

    bindings: Support get_channel_groups() on base Device class.

commit 2928f47d6404e51c2dda1842c43db578cb1d6cdd
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Jul 20 02:20:13 2014 +0100

    bindings: Overhaul packet & payload classes.

commit 7009a3921a0394ec5e89c2f0009eae4d7398a560
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 24 18:26:19 2014 +0100

    C++: Fix leak of GVariant in ConfigKey::parse_string().

commit 1797a887d7672caa1e0fc1ff87a26de2370a8381
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 24 18:10:33 2014 +0100

    C++: Fix Packet destructor for packets without payload.

commit 4178d9712f3e67f83aa1eb49a5f5299e9ce1515b
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 24 03:22:44 2014 +0100

    C++: Add internal lookup to find Channel object from sr_channel *.

commit 7649683c2a5ee9fd859227fcd4cb875b9f47a2b1
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 24 03:12:40 2014 +0100

    C++: Centralise code for preparing shared pointers.

commit ed0b7fed106881941faa4d9b3f1bfdc17295d58d
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 24 21:01:39 2014 +0200

    demo: Free analog channel groups when done with them.
    
    This fixes a memory leak.

commit 886413b6d2e26513bd73f5d89f8b1816eda800a8
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 24 21:01:08 2014 +0200

    std: Free channel groups from device instances as well.

commit 07443fd204f25639d38c87a42aa5eee137380fe9
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jul 23 22:40:17 2014 +0100

    Add Doxyfile for C++ bindings and adaptations to C++ header file.

commit 90ba83f21dae08fdafa26f9db513b25c1aeea92d
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Jul 20 01:38:31 2014 +0100

    bindings: Add Packet.get_type() method.

commit 6fa0eb86af061e1eddbc46b6d6fbe8f5d2186e3e
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 19 22:45:35 2014 +0100

    Add bindings for getting/setting session trigger.

commit de44e114fcaa0c8802aeeeba9bcc75e8a4b7366b
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 23 16:33:42 2014 +0200

    build: More dependency fixes.

commit 1029d384d149fd287dae029d780b1ff5eea924be
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 23 14:36:11 2014 +0200

    build: If language binding dependency checks fail, summarize the reason.

commit 0afa91b765542c7efaf745b218e118823dccd052
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 23 12:57:37 2014 +0200

    build: Add more dependency checks for building bindings.

commit 57d62c4c7192f5b1f882c13de1abcde7527c156a
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 23 12:45:41 2014 +0200

    build: We only need python 2.x for generating the bindings.

commit 4d7b36a0b59ec1c9d2aad42d1859dbbd7a88ffc6
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 23 12:32:35 2014 +0200

    fx2lafw: Check for valid samplerate before setting.

commit b62bb97afb6c09c75cf06be917ee40fe9330b34d
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 23 04:53:25 2014 +0200

    demo: Support continuous acquisition.

commit 2f663c826af929b203eb1dfe6f72928d216fb062
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 23 00:24:23 2014 +0200

    fx2lafw: Fix continuous mode.

commit b88c3e492364eae674df9dddf4ca58b7a3d1aadf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jul 22 23:54:18 2014 +0200

    Drop references to obsolete sigrok-commits mailing list.

commit f4d2042d3c4b5aa63bb13e932b4f4d3cc4e651ab
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jul 22 23:25:24 2014 +0200

    session*.c: Remove some unneeded lines.

commit 271cdfd267d027f9b31b8be07a964d4bdb0c7165
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jul 22 23:15:11 2014 +0200

    configure: Show glibmm and gobject versions in the summary.

commit 022a7fe09fec0c58bd5f4e92f74610f46fb53d2b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jul 22 23:11:44 2014 +0200

    configure.ac: Add versioned dependency on pygobject.
    
    Roughly around 3.0.0 usage changed from "import gobject" to the new
    "from gi.repository import GObject" etc. (which we use).

commit 3db4b08b2d2536e86cf0f120100f0334ae25b336
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jul 22 22:50:06 2014 +0200

    Makefile.am: Add beaglelogic.h so it ends up in the tarball.

commit c6036f755af6a292b63cc7552caa46e61d6a5789
Author: Jens Steinhauser <jens.steinhauser@gmail.com>
Date:   Tue Jul 22 12:40:57 2014 +0200

    C++ bindings: Make enums.py work with newer versions of pygccxml.

commit 155b680da482cea2381becb73c51cfb838bff31e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 21 21:27:33 2014 +0200

    Reorganize project tree.

commit 43cd4637285833706f8a404ca027bcf0ee75b9ae
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 22 18:17:34 2014 +0200

    build: Portability fixes.
    
    This also defers reporting on enabled drivers until it's really decided.

commit c26162ffe0d08ba6b40125bd581046a7b16dfcbe
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 22 04:31:54 2014 +0200

    python: Fix build dependency.
    
    This also makes it more portable, notably to non-bash shells.

commit ad9dbc1cdb4818954ee2954787feefc896b4c5c4
Author: Kumar Abhishek <abhishek@theembeddedkitchen.net>
Date:   Tue Jul 22 01:41:53 2014 +0530

    beaglelogic: Implementation with soft triggers
    
    Signed-off-by: Kumar Abhishek <abhishek@theembeddedkitchen.net>

commit bb993797611dc5dfcba339238bdfcdad0af0c0aa
Author: Kumar Abhishek <abhishek@theembeddedkitchen.net>
Date:   Tue Jul 22 01:41:52 2014 +0530

    beaglelogic: Initial driver skeleton.

commit 64668fae1936bf57ff0da768c58646283773f549
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 21 15:08:53 2014 +0200

    Remove unnecessary level of indirection for source manipulation.

commit 3337e9a1c9e853a57beed80084d1f5ca93e0a3db
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 21 15:08:17 2014 +0200

    Get rid of global session.

commit 102f12396660e0784134bccce5cc0679db325751
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 21 14:35:27 2014 +0200

    Add struct sr_session parameter to all session source backends.

commit 85b69c2b64fc3f0b0478063a983c1920bf0e30a7
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 19 15:31:08 2014 +0200

    scpi: sr_scpi_scan_resource() never returns more than one sdi.
    
    No need to always make it a one-entry GSList.

commit 8eb10b625e77a0c4eedb865eb03ada9694ce532a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 20 22:37:32 2014 +0200

    python: Silence irrelevant build warnings.

commit dfa4cd0e574e36b1e09f80170de40c5d16a91ed6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jul 20 12:09:10 2014 +0200

    make check: Update to new session API.

commit 6592c3699509213395fa80af5b37f2e4db25ac38
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jul 20 12:03:29 2014 +0200

    Fix 'make check' invocation wrt new libsigrok.h location.

commit 9ae3eb121f6ec9cdc0067e0bc00b31590d28660d
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 19 22:22:12 2014 +0200

    python: Don't install as a zip file.

commit f2a189f0a7737d6abc1140b61a554c4a9f1efb70
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 19 20:21:19 2014 +0200

    build: Silence language bindings building.

commit 6223feeb8ed6f6e525c85f3023195d99dfa1589f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 19 20:20:47 2014 +0200

    configure: Add --enable-bindings switch.

commit 6884b52bdefb7ed7169d557e1125f5b36276e2bf
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 19 19:48:01 2014 +0200

    bindings: Filter out various pygccxml noise.

commit 580ed4005bf0a95e8d7e11b527b0b1ad259aecca
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 19 17:05:29 2014 +0100

    Additional build system fixes for C++/Python/Java bindings.

commit d1785122c71c550e6068e84a3a8f0a30a3a2bf8c
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 19 16:23:45 2014 +0100

    Assorted build system fixes for C++/Python/Java bindings.

commit 815a6b95f437b7fcc5d90a305f667b01d731feae
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 19 15:43:03 2014 +0100

    Pass configured prefix to python setup.py install step.

commit d615a3962a2e8243aa36c8bd2feabe1d1db51374
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 19 15:27:41 2014 +0100

    Suppress some SWIG warnings that don't matter.

commit abc7146d032d41af41e8bd20ea64554021e86656
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Jul 19 15:10:25 2014 +0100

    Fix building Python bindings with pygobject >= 3.7.91.

commit 762aee1e918e19962a333073f1966ce26584fa11
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 18 21:20:40 2014 +0200

    configure: Fix java --enable check.

commit bcacb8633ec3b4789801b92c73e72ca964948872
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 18 21:12:31 2014 +0200

    configure: Add C++ bindings dependency checks.

commit f8158d56554688c9ff38731dbfd234fac46b6d9d
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 18 19:55:38 2014 +0200

    configure: Deal with missing macro a bit better.
    
    The AX_CXX_COMPILE_STDCXX_11 macro is found in the autoconf-archive
    package. If this is not installed, invoking the macro spits out an
    error message that makes it look like a syntax error. This wraps it
    in a check.

commit f0f1d90d9c88d9369a8441618d348ce8aedf974b
Author: Martin Ling <martin-git@earth.li>
Date:   Sun May 4 21:13:52 2014 +0100

    Remove obsolete low-level language bindings.

commit 9fcf4d0b5b9969b0b7770e71994b960f15f7757f
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 27 09:48:18 2014 +0100

    Add Java bindings.

commit f774095496a5ab9b68ce79503ae7d45f717c0006
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 17 18:45:29 2014 +0100

    Reimplement high-level Python bindings on top of SWIG/C++ bindings.

commit 608b848d8be3488c2a38fd8a2fd78fce07d99b21
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 17 18:45:05 2014 +0100

    Add new generic SWIG bindings based on C++ classes.

commit c23c8659b8f8c4ca60bf59f6afd12bde7a0b2383
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 17 18:39:49 2014 +0100

    Add C++ bindings.

commit 00ebcbf48a775e56b6e73a39e69af390db547865
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jul 17 18:39:17 2014 +0100

    Change prototype of sr_trigger_new to take const char *.

commit 5a7e62211c4714ea2aac35baac10cf448373d4f5
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 21 01:30:41 2014 +0100

    SWIG: Rename libsigrok.i to lowlevel.i.

commit fb336bf9e509693f460cfcdf16d106ba690734c8
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 21 02:13:10 2014 +0100

    SWIG: Remove obsolete lowlevel wrapper methods for sr_output_format.

commit 63d0fb752830fa8ea225ed9a9776e44a0ba66928
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Apr 26 03:03:11 2014 +0100

    Move public headers into include/libsigrok.
    
    This is needed so that the C++ bindings, the header for which
    references "libsigrok/libsigrok.h", can have a valid include
    directory passed to build them before the headers are installed.

commit 0812c40e361c9a75f3b4ef318a57ce8ba0479fa1
Author: Martin Ling <martin-git@earth.li>
Date:   Sun May 4 23:07:00 2014 +0100

    Revise session API to allow for multiple sessions in future.

commit 2c1a012ed243c39dc4ec1d24eede97e046224877
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Jul 17 12:40:02 2014 +0200

    gmc-mh-1x-2x-rs232: Support for Metrahit 16T and similiar models.

commit 5842817e45d40fea99b698e162ba3b086c9bf3e2
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 14 19:22:58 2014 +0200

    swig: Use new output API.

commit 5d8c55f9eecaea4d5516f9b61f6f6abaf859dd82
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 11 02:14:14 2014 +0200

    Move conditional driver cruft to separate source file.

commit d4b387482850b094c908ee88f3538ee906afdc15
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 10 17:26:22 2014 +0200

    autoconf: Use DRIVER macro to declare drivers.

commit b5bbc3f1b00d5f3096c6800af4069fb07704d3a9
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 9 20:06:19 2014 +0200

    Minor code cleanup.

commit 3747d8a21ea684800fb83f2fdc70794e037f8ecd
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 9 18:09:01 2014 +0200

    testo: Remove unused dependency on libserialport.

commit e7fef37bf89e762260bbdb46c4ad2de5bca45f77
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 8 15:20:52 2014 +0200

    saleae-logic16: Drop unused variable.

commit 88b1d4e573480757f08ea4312b15bdccc264d444
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 7 17:37:36 2014 +0200

    testo: Detach kernel driver as needed, and code optimization.
    
    Thanks to Aurelien Jacobs for the CRC check code improvement.

commit 8789564070383e058cf5c9511c80c2398ff221e2
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 7 01:14:06 2014 +0200

    testo: More robust probing and packet checking.
    
    The CRC in every packet is now also checked. Thanks to Aurelien
    Jacobs for the CRC function.

commit 6dcb97230eac000a4033aef0d5ec1099e5f8143d
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 5 21:49:39 2014 +0200

    testo: Initial driver implementation.
    
    This adds support for the Testo 435-4, with differential pressure
    measurement built in, and probes for wind speed and temperature/humidity
    at 293 kelvin.
    
    Support for other probe types will have to be added by people with
    access to those probes.
    
    Models other than the 435-4 may well work unchanged, but this is
    difficult to predict. Most likely new unit types will need to be added,
    and possibly the protocol handling may need to be more flexible and
    model-dependent to cope with 5-byte values and other minor changes
    in the protocol.

commit 0acdd79357633e90bb1a398e246ad96b39dceda9
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 1 01:34:29 2014 +0200

    testo: Initial driver skeleton.

commit 543d041dc16c134db18f34764cfd134335d04be2
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 5 21:47:21 2014 +0200

    Add printers for wind speed, pressure and humidity at 293 kelvin.

commit 31801362100e33af942ff652b266108a31cc0645
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 5 21:46:30 2014 +0200

    Add MQ/units for wind speed, pressure and humidity at 293 kelvin.

commit 7079c078df97af1ee6f4f47f46504a341a812865
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 5 21:45:54 2014 +0200

    Add VID/PID for Testo 435.

commit 5437a0adae74091bb4cd2243a39bd94f7ae73e1f
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Jun 26 17:56:54 2014 +0200

    manson-hcs-3xxx: Use maximum voltage and current read from device.

commit a9cf203593b1a8f28624d4dcb5eed2bd7f152a00
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Jun 26 14:22:50 2014 +0200

    serial: docs.

commit 811d6255bbed786183616867196029b639fd7891
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Jun 26 14:14:31 2014 +0200

    manson-hcs-3xxx: Implemented setting voltage, current and output.

commit 9740d9bf8c257e714d937602a10b8d81a7762d4e
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Jun 26 11:23:29 2014 +0200

    manson-hcs-3xxx: Cleanup, improved error handling, docs.

commit 25abc8dd135f9948e7ef52da9443b53f260dd83d
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Wed Jun 25 23:22:50 2014 +0200

    manson-hcs-3xxx: Added missing models of series, fixed current resolution.

commit adeae78f90a54fd7ca773f5e1cf433ccb1858e23
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Fri Jun 27 23:31:50 2014 +0200

    manson-hcs-3xxx: Fixed build without libserialport.

commit b5e926479019bbd08b555102c3112f654bfd69a8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jun 23 00:40:58 2014 +0200

    manson-hcs-3xxx: Initial driver implementation.
    
    Currently supports only few HCS-3xxx models (tested on HCS-3202), and
    not all commands/operations yet.

commit 8f4e922f43ca7d6c9b25d593c7c25abc3efa7e17
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jun 23 00:31:22 2014 +0200

    manson-hcs-3xxx: Initial driver skeleton.

commit 2baac44db78c9d0a5c1cc18ea53dbe7df60f7e8f
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Fri May 23 22:26:34 2014 +0200

    serial-dmm: Implement request timeout mechanism.
    
    (fixes request flooding for Voltcraft ME-42 and M-3650CR)
    
    This fixes bug #345.

commit ab4458df160ced42aa997617807c6a59c4d9a620
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jun 16 13:20:56 2014 +0200

    README: Document that libftdi1 is also an option.

commit c78bcc6f5d3d5dd93c63e4ef438e41807c127d25
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jun 16 13:19:34 2014 +0200

    Lower libftdi1 requirement to 1.0 (builds fine too).

commit 92506359d333b25255e7b79db47af9ae32d1b4e3
Author: Dan Horák <dan@danny.cz>
Date:   Sun Jun 15 11:08:37 2014 +0200

    detect version 1.x of libftdi library
    
    The FDTI library changed version, module name and also soname, so add an option to detect it
    when the 0.x version is not found. The 1.x API is compatible enough for libsigrok to build.

commit 82bfb646aee7741eb366ffc5c4054ea284ae380b
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 13 22:44:39 2014 -0400

    do not add check to common cflags/libs
    
    Only the unittests use these flags, so don't go linking them in for
    the main library too.

commit e15e5873b34f1a06ea2490ad7782870daa63f311
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 13 22:44:40 2014 -0400

    asix-sigma: fix build time warnings
    
    We need to include unistd.h for usleep():
    hardware/asix-sigma/asix-sigma.c: In function 'sigma_fpga_init_bitbang':
    hardware/asix-sigma/asix-sigma.c:450:3: warning: implicit declaration of function 'usleep'
       usleep(10000);
    
    And we need to tweak the type of chunks_per_read to match dl_lines_total:
    hardware/asix-sigma/asix-sigma.c: In function 'download_capture':
    hardware/asix-sigma/asix-sigma.c:1161:39: warning: comparison between signed and unsigned integer expressions
       dl_lines_curr = MIN(chunks_per_read, dl_lines_total);

commit a4737997a2dcedaa616272013b2580246c3d32eb
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 13 22:44:38 2014 -0400

    add explicit configure flags for ftdi/serial/usb libraries
    
    This makes it a lot easier for distros to control this functionality.

commit a4e435eb49c1fa30c31d5851b404001324cafe33
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Fri Jun 13 21:22:11 2014 +0200

    norma-dmm: Added request timeout mechanism; docs.

commit 49c06128d777a4d422a96e713b1490fa7a708da4
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Sat Jun 7 19:45:41 2014 +0200

    norma-dmm: Added separate driver siemens-b102x for Siemens B1024-B1028 DMMs (just for cosmetic reasons).

commit 13dd25bdb807217addc76e9c446485e28e6ec00a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jun 3 16:43:04 2014 +0200

    chronovu-la: re-add return that was inadvertently removed in commit aeff7fa2

commit a153d6b8fffa6e1e1a88c8d52bee0aec86add91e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat May 31 10:34:56 2014 +0200

    trigger: Rename sr_trigger_stage_new() to sr_trigger_stage_add().

commit d292f767bd031979edbcbf54b7daa39b0aad7812
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat May 31 10:17:17 2014 +0200

    session: Expose sr_session_trigger_get() as a public API call.

commit 649e9e1677b9fefa790289feb66da9acd8579589
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 29 22:58:58 2014 +0200

    fx2lafw: Fix sample count.

commit a989cdbe03d8b5afae779dc97f14a76d7184638f
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 29 22:55:52 2014 +0200

    saleae-logic16: Fix acquisition with fewer than nine channels enabled.

commit 863357fb1091489d5ecb4257bcb879b3beb79734
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 29 22:16:58 2014 +0200

    saleae-logic16: Use new library software trigger.

commit 335122f07d3768cc0fdfa5541030c3a546b8c054
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 15:54:46 2014 +0200

    fx2lafw: Use new library software trigger.

commit ac136b574ac289efffe4273fd7f1e29c70e19208
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 15:53:27 2014 +0200

    Add new software trigger as a library-wide facility.
    
    This is strictly an internal feature, for use by drivers for hardware
    that doesn't have its own trigger mechanism.

commit 3d68b6126d4fd670c317db497ade19314f7f8b56
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 15:46:43 2014 +0200

    session: Free session-wide trigger if set.

commit 2fe80494471a601484b58dd30043665c0dd84774
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 15:46:21 2014 +0200

    trigger: Fix memory leak.

commit 28731bab29640ee3d68b60c1ebdb471a0758e41b
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:22:06 2014 +0200

    zeroplus-logic-cube: Use new trigger API.

commit bbe7e48a8856c3cab7e2dcef34da8111e23a3bc3
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:21:56 2014 +0200

    sysclk-lwla: Use new trigger API.

commit 91fd0f7246b2cfe7adbdcd8c8cdefe89b6607afb
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:21:45 2014 +0200

    ols: Use new trigger API.

commit 02d5c0d8ea5b398962b51952928d31e75c4a8f8d
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:21:23 2014 +0200

    ikalogic-scanalogic2: Use new trigger API.

commit 9615eeb572be5db9e770c0e343f80ab212335e3f
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:21:10 2014 +0200

    fx2lafw: Use new trigger API.

commit aeff7fa28622367115c3c8bdbd965c07dd536458
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:20:51 2014 +0200

    chronovu-la: Use new trigger API.

commit 39c64c6a4ffd11fded83770510fcbea78a658d87
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:19:58 2014 +0200

    asix-sigma: Use new trigger API.

commit 9f00e5aefb492a4bed34ece62177b95c794dbe33
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:05:51 2014 +0200

    Remove dead code from session read.
    
    The "trigger" keyword was supported in theory, but in practice nothing
    ever wrote it, so it was never used.

commit 6db3b6a4d1cff174853206092afa8d191183b6fc
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:05:00 2014 +0200

    Remove obsolete API call sr_parse_triggerstring().
    
    Since triggers are now passed to libsigrok with an API, this moved
    to sigrok-cli.

commit 3b0ff21c8cac7e8db5ed1c00d36d12c8fd41c7ec
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 28 00:01:54 2014 +0200

    Remove obsolete API call sr_dev_trigger_set().
    
    Triggers are now set on the session, not on a channel.

commit 795c9de35e90515e18a107f5f55f1956c7c785ee
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue May 27 23:55:26 2014 +0200

    Rename SR_CONF_TRIGGER_TYPE to SR_CONF_TRIGGER_MATCH.
    
    Drivers supporting triggering need to implement this in config_list()
    and return an array of int32_t consisting of SR_TRIGGER_*.

commit 7b5e6d2978b9fe7afa952b7fa9f8837c87e8ed26
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri May 23 01:21:58 2014 +0200

    Add new triggering framework.
    
    The new triggers consist of a set of structs and an API to manipulate
    them.  Both logic and analog triggers are supported, in an unlimited
    number of stages.
    
    A single struct sr_trigger containing its stages and triggers is then
    added to the session.
    
    In case of a driver where the hardware supports triggering, the struct
    is then converted and used to arm the hardware trigger. Drivers without
    hardware trigger support, such as fx2lafw or multimeter drivers, use it
    as the basis for a software-based trigger implementation instead.

commit f66d45806fb6f9757343db72664ab2b058c75985
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 22 23:22:37 2014 +0200

    fx2lafw: Rename trigger constant.

commit 419bfb50098a33007099837d9ae7900deb1568e2
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Mon May 19 21:38:23 2014 +0200

    motech-lps-30x: Cleanup.

commit 1f7da0c2bbc096cdc5750f47e084ced8c7ce6e48
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Mon May 19 20:47:15 2014 +0200

    motech-lps-30x: Cleanup.

commit 1c3d002b68d9fe6fe511c84e4da7f164f32f35ff
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Mon May 19 19:48:28 2014 +0200

    motech-lps-30x: Implemented driver.

commit d0a92abd543345beb5bcc4d2ddf87936a35d1fb3
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Mon May 19 19:44:04 2014 +0200

    Whitespace and comment improvements, no semantical changes.

commit 1ba4a1cf33080d6e9e7453372ddcf94cab277624
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Mon May 19 19:40:53 2014 +0200

    strutil: Now using base 10 in sr_atol(), sr_atoi() for compatibility to atoi(), atol(); docs.

commit 41b7bd01c1f58f0214b16949a89ed0d283aa4220
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Mon May 19 19:23:30 2014 +0200

    motech-lps-30x: Initial driver framework.

commit 4133caab1d2467a582850a3713ee083827364c8b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 6 23:00:08 2014 +0200

    configure.ac: Bump package version to 0.3.0.

commit 85ca913cae0d9514949db8f638ecb4ef7bca706e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 6 22:59:00 2014 +0200

    configure.ac: Bump libtool/library version from 1:2:0 to 2:0:0.
    
    The libtool current:revision:age numbers change from 1:2:0 to 2:0:0.
    
    Details:
    http://www.gnu.org/software/libtool/manual/libtool.html#Updating-version-info
    
    This changes the library filename (e.g. on Linux) from libsigrok.so.1.0.2
    to libsigrok.so.2.0.0, the SONAME (+symlink) becomes libsigrok.so.2.

commit 8f8289dc1dc4532d33cda04141c8080f6dda00f5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 6 09:00:00 2014 +0200

    NEWS: Add list of user-visible changes so far.

commit ace218f9223c39a3eb6738e36f4b89fae5142673
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 6 20:18:54 2014 +0200

    Rename SR_T_CHAR to SR_T_STRING.
    
    This is more correct and less confusing.

commit 05238d2830c1cc2217d9e2c6d64203914e7fa95b
Author: Martin Ling <martin-git@earth.li>
Date:   Mon May 5 00:38:58 2014 +0100

    rigol-ds: Quick hack to fix bug #354.

commit a9af7b1b8bc76e1c25df7b97c51ce88f4428b9d7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 4 22:04:37 2014 +0200

    README: Mention missing dependency 'librevisa'.

commit f897acaee82d5bc3c511da14167fbbd7951cbf3d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 4 20:57:38 2014 +0200

    log.c: Avoid using the same name for a variable and enum.

commit 4711724141f9073af8b2493c3fc6a643d5c77cbe
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 4 20:51:05 2014 +0200

    Add/update Doxygen @since tags.

commit 768579456c7800e462a404c2c28af1e306989fd8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 4 19:58:56 2014 +0200

    libsigrok.h: Add some missing enum names for consistency.

commit 6b2d33856f15d2ea6642aa4643805ab8ca24f638
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun May 4 11:48:17 2014 -0700

    asix-sigma: Don't set invalid configuration options.

commit f0554946600a7db68f9ef33d25646f17562bf284
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 4 17:55:46 2014 +0200

    doxygen: Updated Doxyfile to doxygen 1.8.6.

commit 8c21897f59b4b78e1caade7cf7b11318b11b3f8b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 4 17:44:05 2014 +0200

    Unhook the Link Instruments MSO-19 from the build for now.
    
    This driver is neither working nor has it been in a compiling state for
    a long time, so unhook it from the build until it is fixed and works.
    
    The files (api.c and protocol.[ch]) are still in git, but won't end up in
    released tarballs and they don't get built (neither git nor tarballs).
    
    This also allows us to drop the otherwise unneeded dependency on libudev.
    When the MSO-19 driver comes back, it should be in a form that doesn't
    require the inherently Linux-only libudev anyway. See also:
    http://sigrok.org/bugzilla/show_bug.cgi?id=65

commit 2fa222c78b522f6f23e8930f5a8c0bbc134fcc5c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 4 17:38:09 2014 +0200

    Drop obsolete Linux-only usbtmc backend.
    
    We're now using a portable libusb-based (userspace) backend which should
    in theory work on any OS with libusb support.

commit e311f770159244725a33a412a9f9ef6eda9126c3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 4 17:35:47 2014 +0200

    README.devices: Various updates and fixes.

commit 71422cb6eb8be34f6fca8a3be7ebe10fe1bea319
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 4 16:57:58 2014 +0200

    Drop left-overs of the removed alsa driver.

commit 144f6660d004d60264a57db7150ed90e5f68ea77
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 3 22:14:01 2014 +0200

    Don't define names ending with _t (POSIX reserved).
    
    Avoid defining any names ending in _t, those are generally reserved
    for POSIX usage. For details see:
    
    http://pubs.opengroup.org/onlinepubs/007904975/functions/xsh_chap02_02.html
    http://www.gnu.org/software/libc/manual/html_node/Reserved-Names.html

commit 999f6730c66fafc76fe32f7090cc740d901a2226
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun May 4 00:35:24 2014 -0700

    asix-sigma: Disable sample-limited capture for now.
    
    This is not really supported yet in the driver.

commit fb2e6de774816b4298dcc9eed66d2d9282d53cab
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun May 4 00:34:24 2014 -0700

    asix-sigma: Publish capture ratio correctly.

commit b9a53103cf1f66a09cde1b5887d3290c579c5d43
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 3 21:22:38 2014 +0200

    saleae-logic16: Minor whitespace fixes, cosmetics.

commit 1b822521f77f8ec61405cc662a4fa19579e90398
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Fri Apr 25 21:27:49 2014 +0200

    saleae-logic16: Use unitsize 1 if none of channels 8-15 are used.

commit 2db959063b073b87cfb45a433f2a422b594731b0
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Fri Apr 25 21:07:16 2014 +0200

    saleae-logic16: Don't send more samples than requested.
    
    This fixes bug #350.

commit 831d7c70eb901788d6fa7551807644b1130cce32
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Apr 15 21:26:26 2014 +0100

    Add SR_CONF_DEVICE_MODE and SR_CONF_TEST_MODE config keys.

commit e826239c85a18ce554e5011a99b51b4e71ef48ef
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Apr 15 21:16:20 2014 +0100

    fx2lafw: Allow matching USB descriptor strings as well as VID/PID.

commit 1c48000dc7aa38c8e4fae9fbc5848be570c94366
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Apr 15 11:23:51 2014 +0100

    fx2lafw: tidy up config_set().

commit a920a7d899be7aabcf7cc70c671b15e628c3d51f
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Apr 15 11:03:59 2014 +0100

    fx2lafw: implement config_get for SR_CONF_LIMIT_SAMPLES and tidy up.

commit a54edb1dfb44c863618779d42b03090de8711961
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 14 21:32:01 2014 +0100

    fx2lafw: pass sdi to command functions.

commit 23b886bc40eaf14cc44c00cf9dba85404ddc267f
Author: Marek Vasut <marex@denx.de>
Date:   Fri Apr 25 18:03:47 2014 +0200

    asix-sigma: Init cur_sample_rate
    
    Init the cur_sample_rate to 200kHz. This is now the default sample
    rate for the ASIX Sigma if no other is specified by -c samplerate=N
    on the command line. Without this change, the driver would crash on
    SIGFPE because a division by zero would happen.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 1e23158b933e2c7d818d95fbbc45cb21cbff7065
Author: Marek Vasut <marex@denx.de>
Date:   Mon Apr 21 01:44:36 2014 +0200

    asix-sigma: Fix the trigger handling
    
    Due to the recent changes in the sigma driver, the trigger handling got
    broken. Fix this by properly calculating and propagating the fact that
    the trigger happened.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 23239b5c84aec17d5d5ae0885a59517f61259c9f
Author: Marek Vasut <marex@denx.de>
Date:   Mon Apr 21 01:29:52 2014 +0200

    asix-sigma: Pull out cluster decoding
    
    Pull out the code for decoding the DRAM clusters into separate function.
    This shall improve readability some more.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit a16a6391b5cc1479d791c8b760352a937b9d3770
Author: Marek Vasut <marex@denx.de>
Date:   Mon Apr 21 01:14:54 2014 +0200

    asix-sigma: Exterminate passing lastts and lastsample
    
    These two values can pulled out from devc->state, so there really is
    no need to pass them as function argument when we already pass the
    devc.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 5fc01191eb13c21e4b0ae1ee117f723d48b2d10d
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 03:10:05 2014 +0200

    asix-sigma: Rework decode_chunk_ts()
    
    This function could have never returned correct data. Rework the decoding
    logic according to the Sigma documentation. This patch also fixes the
    handling of partial DRAM lines and partial DRAM clusters.
    
    While at it, do not allocate megabytes of data on stack, just allocate 2KiB
    which is plenty for all the work this function needs to do.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 46641facd4ad8de4a93910d7089c7b289b412443
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 22:58:34 2014 +0200

    asix-sigma: Suspend support for trailing DRAM lines
    
    The support for trailing DRAM lines was broken. This patch starts
    rework of support for this, but in order to do that, we need to
    rework decode_chunk_ts() a little first.
    
    This patch adjusts the decode_chunk_ts() a little to receive the
    total amount of events in DRAM line instead of some nonsense value.
    This patch temporarily removes the support for the trailing DRAM
    lines until the decode_chunk_ts() is fixed to cope with this, so
    yes, this patch introduces breakage!
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 3628074d09723f20fa1b0a2026d6300ff69242c3
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 22:45:25 2014 +0200

    asix-sigma: Properly fetch timestamp in decode_chunk_ts()
    
    Instead of this ad-hoc readout voodoo, use proper function to read
    the timestemp. One which will not break even on big-endian machines.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit f41a4cae4966fb0237211d163a7afc581e29cbd7
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 22:40:38 2014 +0200

    asix-sigma: Use proper structure for DRAM lines
    
    Use proper structure instead of plain buffer of uint8_t for the contents
    of DRAM in download_capture(). This is beneficial as we can interpret the
    contents easily.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 3513d965699c663c329955f1a96f79fce73dcc6e
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 22:36:55 2014 +0200

    asix-sigma: Introduce function to read DRAM cluster timestamp
    
    Introduce helper function which returns the timestamp of DRAM cluster
    and use it in download_capture().
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit e69ad48e084138c72b5cb5a419efed628c0996bc
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 22:28:33 2014 +0200

    asix-sigma: Unify calling of decode_chunk_ts()
    
    Clean up the way decode_chunk_ts() is called a little. Introduce a variable
    which will not be -1 only in case a trigger happened on the particular DRAM
    line.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit c6648b663c717f85d05e928102127b0024d22984
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 22:19:11 2014 +0200

    asix-sigma: Rework download_capture() to support more than 32 lines
    
    In the current configuration, the download capture used 32KiB buffer
    for samples. This was the upper limit this function could download
    from the Sigma. Even the sigma_read_dram() was only called once to
    read up-to 32 DRAM line from address 0x0 in the DRAM.
    
    This patch reworks the function to call sigma_read_dram() in a loop
    in case there is need to download more than 32 DRAM lines of data
    from Sigma. The data are then correctly passed for decoding to the
    decoding function.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit fd830beb6751a966a0f12a9ca48a8550bbe5bbba
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 21:34:36 2014 +0200

    asix-sigma: Remove stack-based alloc in download_capture()
    
    Avoid allocating 32KiB of data on stack in download_capture(). Instead,
    do a glib-variant of calloc(1, ) to allocate the data for the samples
    which will be downloaded. This avoids explosions of stack on systems
    with tight stack limits.
    
    Furthermore, define structures describing the organisation of Sigma's
    DRAM memory and start using those instead of ad-hoc preprocessor macros
    defining the sizes of various structures in memory.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 462fe786641df67e99d67f0f7031e7ca76430981
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 20:50:10 2014 +0200

    asix-sigma: Localize variables
    
    The trigger position, stop position and chunk in which the trigger happened
    are no longer needed in the global scope. Make those variables local to the
    download_capture() function.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 6057d9fa54fc0c4023e4324cc9540db71ab6cfe7
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 20:45:40 2014 +0200

    asix-sigma: Move all register I/O into download_capture()
    
    Move all the register I/O that is necessary to do the download of samples
    from Sigma into download_capture() function. This makes the downloading
    code contained a bit more again.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 00c8650877a169a04f309f5ecccf7b1b67c75987
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 20:40:00 2014 +0200

    asix-sigma: Clearly separate the sample download
    
    Reorder the sigma_capture_mode() function so that the part which handles
    the download of samples from Sigma is clearly separated from the tests if
    the download should be started.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit d405193074b11296e33acb56945978c08f2f4f98
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 20:30:16 2014 +0200

    asix-sigma: Pull out the CAPTURE mode handler
    
    Pull out the code handling the Sigma which is in CAPTURE mode into
    a separate function. This is so we can start reworking this entire
    code easily soon.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 58d6f20748e6b33677da3b4a388ac3b8fcaa12f7
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 19:57:02 2014 +0200

    asix-sigma: Read position only in CAPTURE state
    
    Check the position of ForceStop and Trigger events only in case we
    are in CAPTURE state, it's useless to do this unconditionally when
    receive_data() is called.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 011f1091fa6d85aef3c36758bd090809f2fde0c9
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 19:49:44 2014 +0200

    asix-sigma: Decrypt the LA mode switch sequence
    
    Decode the logic mode start sequence into a series of FPGA instructions
    instead and get rid of this sequence of magic numbers.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 1c2736f90912b58df18595d474e5c917c7ecd195
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 19:41:23 2014 +0200

    asix-sigma: Encode the opcodes as hex values
    
    Just encode the opcodes as hexadecimal values. This makes for better
    readability when mapping the communication dump with the sigma to the
    code.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 64fe661b87c119079516b9ba7b395bdd8af14994
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 19:36:40 2014 +0200

    asix-sigma: Pull out the logic-mode switching
    
    Pull out the code which switches Sigma from the FPGA programming mode
    into Logic-Analyzer mode into separate function. Also, given the reply
    is only ever 3-byte long, do not allocate 32 byte big buffer, but only
    a 3-byte long one.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 29b66a2eb0ffac181c2d7b0c0d7868e5344fc272
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 19:29:52 2014 +0200

    asix-sigma: Squash yoda-condition in upload_firmware()
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit a80226bbb9966e8692a6d8b63c63e0630831041f
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 19:27:43 2014 +0200

    asix-sigma: Move the sigma_fw_2_bitbang()
    
    Move the sigma_fw_2_bitbang() function closer to the upload_firmware()
    function so there's not such a horrible mess in the file.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit d485d4436177b04e305f1e6c880edf62755380e0
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 19:19:33 2014 +0200

    asix-sigma: Cleanup the bit2bitbang
    
    Rework the bit2bitbang function. Remarkable changes are:
    - The function was renamed to sigma_fw_2_bitbang()
    - We use glib function calls to work with the file
    - We mmap the file containing firmware instead of opening the file
      and then reading it into a buffer.
    - The magic firmware transformation is now type-safe.
    - Documentation and comments were added where applicable.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 8bbf7627df3706fd1fee6d094c09a010dcda9b1a
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 17:58:35 2014 +0200

    asix-sigma: Weed out in-condition assignments
    
    Remove all those if ((ret = foo(bar)) < 0) constructs from upload_firmware()
    function. This is just a confusing programming practice, kill it. While at it,
    replace all the uses of &devc->ftdic with plain ftdic , which is defined at
    the begining.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 499b17e9c043e1ec92e71095289d63f09b981eea
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 17:49:29 2014 +0200

    asix-sigma: Fix firmware path construction
    
    The code silently assumed the firmware path can be no longer than 128 bytes.
    This doesn't scale. This patch fixes it in such a way that it completely
    rips out the run-time computation of firmware path and instead replaces it
    with compile-time computation. It's true this makes the library grow by a
    couple bytes, but makes the code cleaner.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit d5fa188ac93149cb75340d615a1815cbca1f852b
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 17:18:31 2014 +0200

    asix-sigma: Cleanup FPGA initialization
    
    Rework the pre-firmware-upload FPGA initialization sequence so it matches
    the documentation. Also, since this sequence is documented in a separate
    section, wrap it into separate function.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 790c7ccc884df9503ec84d61825d5c016bec02e1
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 17:02:05 2014 +0200

    asix-sigma: Remove NUM_CHANNELS macro
    
    The NUM_CHANNELS macro is inflexible, since in 100MHz and 200MHz modes
    we don't support 16 channels. Moreover, it's only used to limit the size
    of array of channel labels, which can be done in much cleaner way.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit b1648dea88d378d814bc7168c1ad6247677f65cc
Author: Marek Vasut <marex@denx.de>
Date:   Sun Apr 20 16:53:13 2014 +0200

    asix-sigma: Document sampling rate table
    
    Add comments to the sampling rate table explaining how the frequencies
    are selected and where do those numbers come from.
    
    Signed-off-by: Marek Vasut <marex@denx.de>

commit 6868626bd3c62aa04daae24b268665092b6c3bd8
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 2 15:22:49 2014 +0200

    asix-sigma: Acquisition fixes.

commit 6cb45d96c802190aef675e96c6037ee6ab0a8622
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 30 07:40:56 2014 -0700

    output/vcd: Support getting samplerate from meta packets.

commit 83023573d9a3c0fc1d5823d4dc5f9e85b72084d9
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 29 14:00:47 2014 -0700

    output/gnuplot: Support getting samplerate from meta packets.

commit 0f3d8c89673f7044852434073bb0c4f7a2c97deb
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 28 19:09:32 2014 -0700

    output/csv: Support getting samplerate from meta packets.

commit 787e9bc970386c543a16560eff236fd97fcd3357
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 28 15:11:17 2014 -0700

    output/ascii: Support getting samplerate from meta packets.

commit 7bcbbfae3e0262ed25693adb7aa1f0b864722827
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 28 15:06:36 2014 -0700

    output/hex: Support getting samplerate from meta packets.

commit 35159a6b28adfbed14d10b745668bee47b5b8c1a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 28 14:54:47 2014 -0700

    output/bits: Support getting samplerate from meta packets.

commit 7ea458625c34c9c1c7da8431e8af55b9a6f3759c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 25 19:34:41 2014 +0200

    session: Show unitsize of the received data.

commit bdf6c50c9338c10fe174df0fec386df0632614c0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 25 18:44:21 2014 +0200

    Don't include NO_LOG_WRAPPERS in the Doxygen output.

commit 2ad1deb89d9f459752687a03c3d0539d122ea354
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 25 18:40:59 2014 +0200

    Don't include LOG_PREFIX in the Doxygen output.
    
    (files in hardware/, input/, and output/ don't need this since none of
    those directories contain API stuff and are thus not included in the
    list of input files for Doxygen at all).

commit 4f10853e67056297fe71c8645608c371cb8907e2
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 18 19:11:47 2014 +0100

    configure.ac: Separate library flags from other CFLAGS.

commit e958f9217c5ac3880a63b0bba9c9393f985af700
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 18 19:13:13 2014 +0100

    Give type names to all enumerations.

commit d72b0cc8985644cd79fb772e9affaf1c111c87e6
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 21 02:17:03 2014 +0100

    Remove orphaned prototype for sr_filter_channels from proto.h.

commit 06b5d7f70dc121da80a2a0b71b06d2d4b4c170f3
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 24 21:04:23 2014 +0200

    fx2lafw: Don't send more samples than requested.
    
    It's the new law.

commit b0ccd64d021ae7c9dbcebc8413dc2ebe94099f68
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 22 18:08:40 2014 +0200

    WIP

commit bda100ec0f99166ff391a4f4b44662a6eed5641b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 21 23:35:26 2014 +0200

    output/ascii/bits/hex: Remove stray g_free().

commit 1e1dac0c0707f73a4c86e27cd02bb90515550354
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 21 14:46:49 2014 +0200

    ols: Allow disabling all channels.
    
    This fixed bug 316.

commit dba3e6826e3d37309ed49dd77cde346b369bc5a9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 20 22:51:09 2014 +0200

    output: Introduce output module API wrappers.

commit 7e7b7fb7d323f7600958bf29025ca089a15829e3
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 19 13:37:53 2014 +0200

    Removed ALSA driver.
    
    This driver has been unmaintained for years, and was never good code
    to begin with. It's also questionable whether it was ever useful,
    particularly with the demo driver now supporting various analog
    signalling.

commit 3b15586812e47e885ed69e3cd1188b1ccf25f807
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 19 13:34:46 2014 +0200

    Removed obsolete sr_filter_channels().

commit 44559b2c3bfa2c892242097e3aba871a11f943eb
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 19 13:28:17 2014 +0200

    Remove obsolete output API.

commit 6f64ebb22306d1436becd9da4fb3761c99462810
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 19 12:34:30 2014 +0200

    output/ascii: Rewrite for new output API.

commit 8d3af2e868c4fcfb0119ec74c541fb5d04a10fce
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 19 12:31:50 2014 +0200

    output/hex: Rewrite for new output API.

commit dbd0aeff352c93d6091f141550683966504a72d5
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 19 12:25:02 2014 +0200

    output/bits: Rewrite for new output API.
    
    This also fixes the performance problems in the old module.

commit 71e16f47e3b02a4d2a8208ab02ee183ac6162137
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 17 14:40:47 2014 +0200

    output/binary: Use new output API.

commit d42eb9d89938d5ec079fe004ccc4ab5128c5d85a
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 17 14:10:49 2014 +0200

    output/chronovu_la8: Use new output API.
    
    This somewhat naively copies whatever it gets into the output, regardless
    of how many channels are in there, or which ones are enabled. Not sure
    what the best way to deal with that is, but for now you have to feed it
    a channel setup the Chronovu software can read.

commit 2a035e539ab0f1f96fd90f64ac5a654056040971
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 16 20:02:39 2014 +0200

    output/csv: Use the logic stream's unitsize.
    
    This also fixes the channel index, instead of counting on the logic
    data being arranged according to enabled channels only.

commit 2b78ffea549eafb3835c8e58390008cc5f0ca24c
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 16 15:29:53 2014 +0200

    output/vcd: Use the logic stream's unitsize.
    
    Also code cleanup and some memory leaks fixed.

commit b240ee0856349d72d30ad75f010a079338b76baa
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 16 15:26:10 2014 +0200

    output/gnuplot: Use new output API.

commit 1458018224d98bfc080c571e2145f816afbcac39
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 13 18:59:08 2014 +0200

    .gitignore: Add test-suite.log.

commit 55f98c65332cf08ff3f87480f07f8419fe49fab6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 2 18:29:36 2014 +0200

    sr_dev_inst_new(): Use NULL (not "") if version unknown/nonexisting.
    
    Unify the whole code-base to use NULL there, not a mix of "" and NULL.

commit cfe01d0607a65bf4e17e3a8d15e4c0f2b20fb55c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 2 18:23:23 2014 +0200

    chronovu-la: Show errors other than "device not found".
    
    This can be useful for the user to see, e.g. for permission related
    issues (device is there, but cannot be accessed).

commit 958326f8c685667239127a59ef883e7bceb63ac0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 5 13:35:49 2014 +0200

    configure.ac: Clearly mark required and optional libs.

commit 99af83b7380ef7d8d48e15616b8910062890e7d3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Apr 6 22:47:44 2014 +0200

    rigol-ds: fix long memory depth setting on DS1000

commit f589a6d49971194737910faa11236012eed22c5a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Apr 6 22:47:44 2014 +0200

    scpi_usbtmc_libusb: disable all clear_halt for Rigol DS1000

commit 50e6311a1b76ead9e082d99bdea91c1cba08fd4e
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Apr 6 01:31:12 2014 +0200

    scpi_usbtmc_libusb: disable bulk_out clear_halt for Rigol DS1000
    
    fix hangup issue with Rigol firmware version 00.02.02.02.00

commit eb28f1b7b2c89a9986e799adcfffe2e2fc9c72b6
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Apr 5 17:42:33 2014 +0200

    fx2lafw: fix possible use of uninitialized variable (gcc-4.9 warning fix)
    
    hardware/fx2lafw/protocol.c: In function 'fx2lafw_command_start_acquisition':
    hardware/fx2lafw/protocol.c:113:7: warning: 'cmd.flags' may be used uninitialized in this function [-Wmaybe-uninitialized]
       (cmd.flags & CMD_START_FLAGS_CLK_48MHZ) ? "48" : "30");
           ^

commit 38d32464973b828bf327b9271ef4b0437d85c9f2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 2 09:37:29 2014 +0200

    Various drivers: Expose SR_CONF_TRIGGER_TYPE.
    
    Without this, sigrok-cli --show (for example) will not show the
    supported trigger types.

commit 69bdcd8bb44f3368d473da4f9ad5069778b139e7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 2 09:29:23 2014 +0200

    chronovu-la: LA16 has fewer max. samples than LA8.
    
    Each LA16 sample is 16bits wide (LA8 samples are 8 bits wide). Adapt the
    number returned for SR_CONF_LIMIT_SAMPLES in config_list() accordingly.

commit 05266f36a5d4cd9371983bb5f659266489327af2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 1 23:23:23 2014 +0200

    chronovu-la: Fix byte order for LA16 samples sent to the bus.

commit b0efc84e12c97afc59ae53225a4e59c2fa9459ef
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 1 22:41:02 2014 +0200

    chronovu-la: Document that streaming is not possible.
    
    This closes bug #261.

commit 7b3567126c22622180d82463f4f848606d52d2cd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 1 21:47:11 2014 +0200

    Rename 'chronovu-la8' driver to 'chronovu-la'.
    
    The driver now also supports the LA16 device (and possibly others in the
    future).

commit 00910580bb73862856cd3f09d20934f086b3fac0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 31 01:26:07 2014 +0200

    la8: Add support for the ChronoVu LA16.
    
    The ChronoVu LA16 is a new logic analyzer from ChronoVu with some
    differences in features compared to the LA8, e.g.
    
     - Supports 16 channels (instead of 8).
     - Max. 200MHz samplerate (instead of 100MHz).
     - Supports state triggering (low and high channel value) and edge triggering
       (rising or falling edge), the LA8 only supports state triggering.
    
    This driver now supports both the LA8 and LA16, but it needed a few
    changes:
    
     - Add support for detecting multiple device instances at all.
     - Add support for both LA8 and/or LA16 devices being detected.
     - Add a device profile struct for LA8-/LA16-specific device properties.
     - Move the samplerates list to devc (it's different for LA8 and LA16).
     - Split scan() into two functions, one for scanning, one for adding a device.
     - Expand some variables and fields from uint8_t to uint16_t in order to
       support 16 channels.
     - Update the samplerate related functions to support the LA16's 200MHz.
     - Various other minor updates in order to better handle both device types.
     - Various error handling improvements and simplifications.
     - Also, replace time() with g_get_monotonic_time() everywhere.
    
    This also fixes bug #247 (which was related to incorrect handling of
    resources during scan and open of the device, which was exposed by
    PulseView allowing multiple consecutive scan/close/open calls).

commit b172c1301e183646fbe9a2b7e096d9c7ee8e2458
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 30 22:40:27 2014 +0200

    la8: Cleanups, cosmetics, simplifications.
    
    Also, make some LA8 references more generic in preparation of
    LA16 support.

commit 9503583268cb322dc67b0e11d928739cbdcdb342
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 25 21:38:47 2014 +0100

    demo: Fix typos.

commit 8bd3daa48ad3c5e043fc9f468144f9a455ad80ce
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 25 21:35:31 2014 +0100

    Various drivers: Drop some unneeded lines.

commit 0bcfc9dcd83e3bf8200a268782fddad1f15f17a7
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Mar 27 15:13:24 2014 +0100

    rigol-ds: Don't close SCPI handle we didn't open.

commit 5d336f1130ddc2faaeabd7ed6ec602904054bfb8
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Mar 25 23:09:57 2014 +0100

    rigol-ds: Add the TRIGGER_SLOPE entry to config_get() and config_list()

commit 61e77667de34752838a8b0d29b5bfcb14b6b95a1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 25 09:26:05 2014 +0100

    hameg-hmo: Change some PG_/pg_ names to CG_/cg_.
    
    This fixes parts of bug #259.

commit fca75cbb741ae756bf50eaf1cdc6d4d53fcc60cd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 24 16:11:45 2014 +0100

    A few more random 'probe' to 'channel' changes.
    
    This fixes parts of bug #259.

commit f3ca73edd29a48f8cc19755df629ab2bc9478eea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 24 16:05:42 2014 +0100

    Rename a few more API calls with 'probe' in their name.
    
    This fixes parts of bug #259.

commit 3f239f0803b9fbc073dd7abe9fc7b2a0c606fbb6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 24 22:39:42 2014 +0100

    Rename various *PROBE* macros to *CHANNEL*.
    
    This fixes parts of bug #259.

commit 56d0d24535700fb53e47a25ad5c73d34697695fa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 24 21:36:04 2014 +0100

    Rename sr_probe_new() to sr_channel_new().
    
    This fixes parts of bug #259.

commit ba7dd8bbb8168cba432a844259a3e239aa5f36d7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Mar 24 21:34:20 2014 +0100

    Replace 'probe' with 'channel' in most places.
    
    Also, consistently use 'ch' for channel variables. This matches how we
    consistently use sdi, devc, and so on all over the code-base.
    
    This fixes parts of bug #259.

commit 91aea754aaed0f0f2a6fc4b2b875f0d0b7c01f8e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 20 21:58:57 2014 +0100

    Rename 'struct sr_probe' to 'struct sr_channel' everywhere.
    
    This fixes parts of bug #259.

commit 53b4680fceab9351fc87b8c5b34854733f5fdac0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 20 21:58:01 2014 +0100

    Consistently use 'cg' for channel group variables.
    
    This matches how we consistently use sdi, devc, and so on all over
    the code-base.
    
    This fixes parts of bug #259.

commit a68bf88e3a6ba0184f1d6aea4ce26b9a2950a513
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 14 21:21:09 2014 +0100

    Replace channel_group.probes with channel_group.channels.
    
    This fixes parts of bug #259.

commit 40fd0264f907cf99a92d8192a11cde4499ba4652
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 14 21:22:29 2014 +0100

    Replace some 'pg' with 'cg'.
    
    (since 'probe groups' are now called 'channel groups')
    
    This fixes parts of bug #259.

commit 660e398fe9f5fc608787f8fd75a9df8aac61026f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 14 21:09:37 2014 +0100

    Replace 'probe group' with 'channel group' everywhere.
    
    The name 'probe' (and thus 'probe group') is a relic from the times when
    sigrok was mostly about logic analyzers. Nowadays we support a lot more
    device types where 'probe' is not really a good term and 'channel' is
    much better suited.
    
    This fixes parts of bug #259.

commit 3fd2dca2072fb0b205db22df8b686917a3298e99
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Mar 25 17:44:38 2014 +0100

    hameg-hmo: Add missing cases in config_get().

commit bbabdaf1e2802aeef7d48fab4b0dc3507a69ffe9
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Mar 25 17:44:37 2014 +0100

    hameg-hmo: Add the TRIGGER_SLOPE entry to config_list().

commit 422a1c0d58249497b982f9dbd42632e5fc2b4a79
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Mar 25 17:44:36 2014 +0100

    hameg-hmo: Fix the logic for the horizontal trigger position in config_set()
    
    This patch fixes the logic calculating the trigger position as well as the
    (hopefully) last remaining locale issue.

commit e83437ae206dea1bce85c8b46f7c56ebb9667bda
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Mon Mar 24 21:50:07 2014 +0100

    serial-dmm: Implemented support for Voltcraft M-3650CR (driver voltcraft-m3650cr).

commit 1656e47def5422a5273f023d542d4d6a72668b42
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Mon Mar 24 17:42:52 2014 +0100

    serial-dmm: Implemented support for Voltcraft ME-42 (driver voltcraft-me42).

commit 36cf5b544537730719ca5f9098cbe0a57618ddd7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 20 00:04:45 2014 +0100

    Makefile.am: Add missing vxi.h.
    
    If it's not listed as SOURCE, it won't end up in the tarball and a build
    from tarball would thus break.

commit 67bd805523f52030a6459786388ce3385be00501
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 19 23:04:55 2014 +0100

    Switch to a non-recursive automake setup.
    
    Instead of >= 44 Makefile.am's we now only have one top-level
    Makefile.am, and use the 'subdir-objects' automake option to
    handle the build via non-recursive (auto)make.
    
    This has the advantage of fewer (boilerplate or other) files and less
    clutter in general, as well as performance advantages since the new
    setup can build many files in parallel (with 'make -j'), not only 2 or 3
    files within the same (e.g. hardware/xxxx/* subdirectory) and also since
    we no longer need to build intermediate libtool helper libs per subdirectory.
    
    A quick, non-scientific test build on a quad-core laptop with 'make -j 4'
    yields a build time reduction from 35s to 19s.
    
    All autotools features that worked before are still intact without any
    regressions, including the Make targets 'install', 'uninstall', 'check',
    'dist', 'clean', 'distclean' and so on, as well as all the usual portability
    handling (build works on any OS, with any Make implementation such as
    GNU Make or BSD Make, with any shell such as sh/ksh/zsh/bash/dash, etc. etc.)
    and features such as out-of-tree build support, cross-compile support,
    testsuite support (also with colored output), "silent make rules", etc. etc.

commit 9ad05e6cd28e5a4c7cc4f38d2dcb561a14bb5563
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 11 19:46:39 2014 +0100

    scpi_usbtmc_libusb.c: Fix two error checks.
    
    Two error checks had a missing "ret = ", which lead to an incorrect
    value being passed to libusb_error_name().
    
    Also, lower the level for those messages from sr_err() to sr_dbg()
    since they're not fatal.

commit d8cbd659ce2e24428c7e403eeebd50ad4a992caa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 11 19:41:51 2014 +0100

    scpi_usbtmc_libusb.c: Consistently check for < 0 (libusb calls).

commit a84f6ad38984dd8cee2e41a1f35a4ddf373d2dfd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 5 20:48:54 2014 +0100

    Fix 'aquisition' typo in a few places.

commit 846fb172db5d5688b98dce24def523f25d8a76ac
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Mar 9 23:09:47 2014 +0100

    brymen-bm86x: disable driver when libusb is not present

commit 7f7f6a2e0c4f611c2096e5bc079ab5f5b674aefc
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Sat Mar 8 11:04:27 2014 +0100

    gmc-mh-1x-2x: Whitespace fixes (cosmetic).

commit dc05dd606999c1b5e73d8548145b3b32d209d29c
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Sat Mar 8 10:56:16 2014 +0100

    visa: Fixed missing header warnings/uninitialized variable.

commit d1d3b7dff9881acfce0923be9e66b3bddaa48221
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Sat Mar 8 10:50:21 2014 +0100

    gmc-mh-1x-2x: Cosmetic fixes for Metrahit 25S.

commit c6c63b08af0f73b60de6726c9d5aea50d20d83d2
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Sat Mar 8 10:40:38 2014 +0100

    gmc-mh-1x-2x: Fixed 300 µA range scaling.

commit 0bc3ab92e66ee08486e25a9a95b1300e2654fd28
Author: Fabio <sigrok@maconnect.ch>
Date:   Wed Mar 5 10:04:17 2014 +0100

    Fluke189 support
    
    I can confirm that the 189 uses the same "QM" command as the 187:
    <-- QM\r
    --> QM,+03.225 mV AC

commit 8c9d4d67f8678a5c6819428170d5611a4c3f1dc3
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Fri Feb 28 19:51:57 2014 +0100

    Fixed session_driver so that it can run more than one session.

commit 0ab702601d6b855f162340da9a19b1885ee16253
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 28 13:11:46 2014 +0100

    brymen-bm86x: Remove std_dev_clear() wrapper.

commit 1b950bc79c2b8036191ace947543229c75748689
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 28 13:08:53 2014 +0100

    configure.ac: Move Brymen BM86X snippet to correct place.

commit ecaa89af0e01f9c3f585e82eb849bf616bff22cf
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Feb 19 15:09:03 2014 +0100

    brymen-bm86x: actual driver implementation

commit 8d9c8554a53d3c22305558e6064a6a4873e83fe1
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Feb 8 22:40:36 2014 +0100

    brymen-bm86x: Initial driver skeleton.

commit 8bbdd364d3355ee5e39b4573910f7b300ecf6d09
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Feb 26 00:29:55 2014 +0100

    session: Always read a whole number of samples.

commit a66307424e7a14df8f53e04d5ff77436dbaa830f
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Feb 26 21:37:18 2014 +0100

    Remove std_dev_clear() wrappers from drivers.

commit 824fba03415058388108378dadb30b2efcb499a2
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Feb 26 21:35:33 2014 +0100

    session: Implement dev_clear().

commit 8102cee4d495c7402a7ca70ec40414312129c1f2
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Feb 26 21:25:07 2014 +0100

    device: sr_dev_clear() now always works.
    
    If the driver does not provide a dev_clear() function, the wrapper
    now calls std_dev_clear() instead.

commit 0294a409b80f21c8197fa4533fd9819f8274a381
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 12 15:13:41 2014 +0100

    conrad-digi-35-cpu: Add missing Makefile.am, minor cosmetics.

commit c6a2843a58a398d0095291c2a1f397b419d164f4
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Sat Feb 8 14:26:26 2014 +0100

    conrad-digi-35-cpu: Implemented driver.

commit 823b4e5817af106e88ab4be2bdb999ac9d1ee50b
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Wed Feb 5 19:50:46 2014 +0100

    conrad-digi-35-cpu: Initial driver framework.

commit a90061e5d1d3f60e4dccd9a408ad53269cc7d7cd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 12 15:04:54 2014 +0100

    gmc-mh-1x-2x: Shorten driver names a bit.

commit fadd07072b283f7040036a1050e23e7af43f1324
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Sun Feb 9 18:13:49 2014 +0100

    gmc-mh-1x-2x: Support for interface SI232-II with driver gmc-mh-2x-bd232.

commit c90beca7801b16e46ffd4d74c9dd21b02a045ab5
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Wed Feb 5 14:59:02 2014 +0100

    gmc-mh-1x-2x: Added new driver gmc-mh-2x-bd232.

commit 67eb6bcbe607fdc745d34a30123c5a6ad81cad72
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Wed Feb 5 14:46:10 2014 +0100

    hwdriver.c: Update/extend some Doxygen comments.

commit 6392d5992b12cf2b51d7f6704c4d23f3a2d4a294
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Wed Feb 5 14:40:40 2014 +0100

    gmc-mh-1x-2x: Cleanup, docs, minor fixes.

commit 813aab691b255580d3247b9fec7ab3f7b4fc8a18
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Wed Feb 5 14:32:21 2014 +0100

    Update/extend some Doxygen comments.

commit d8b6b28b803ceabef12ac9ccc3f760d0ade70512
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Fri Feb 7 20:20:20 2014 +0100

    scpi_visa: Add missing callback parameter.
    
    (scpi_visa_dev_inst_new): Fix serious compiler warning due to
    missing drvc parameter in prototype.

commit 52f6951c4e15900d4c617d886d8f8298706c9684
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 7 19:42:27 2014 +0100

    scpi_usbtmc_libusb: Consistent libusb error handling.

commit ed840c8612a42506e7c28cca83b4586d9bd79471
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 7 19:01:45 2014 +0100

    scpi: Disable scpi_usbtmc in favor of scpi_usbtmc_libusb for now.
    
    Having both in the list will "find" the same device twice.

commit 2a0f6924d2c8f3b203560ba0086e9d297855677a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Feb 4 23:19:02 2014 +0100

    usb: remove unused sr_usb_find_usbtmc()

commit 20ed3ceee71d97ca594931a537d035503e6d6ec4
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Jan 17 10:49:00 2014 +0100

    scpi: add a libusb based implementation of usbtmc

commit ca28abd6a55c87c3c17fe839b3515ce1e5f121a5
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Feb 2 21:50:14 2014 +0100

    hameg-hmo: use the new scpi scan API

commit 9d3ae01b377d73ae3ba0f45715bcd1138d2c28d9
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Feb 2 21:49:57 2014 +0100

    rigol-ds: use the new scpi scan API

commit b541f8376d8fadb1377e3140c3d79304f5d680ec
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Feb 2 21:47:45 2014 +0100

    scpi: add a generic scan API and implement it in usbtmc and serial transport
    
    note that sr_usb_find_serial() is copied from the hameg-hmo driver

commit 17bdda58686a208424520b64f9324eba259ff535
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Jan 17 10:47:42 2014 +0100

    scpi: add a struct drv_context parameter to scpi_dev_inst_new()

commit ea2d6d994f28c11b7b3d0232bd1a3dbbbf67a401
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Feb 2 21:33:09 2014 +0100

    libsigrok-internal.h: endian neutral helper macro to write 8/16/32 bits integer to unaligned memory

commit a4f9c35b23e120195269f5387df6dffaabe344dc
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Feb 2 21:29:34 2014 +0100

    libsigrok-internal.h: add helper macro to read 8 bits integer
    matching the 16 and 32 bits one

commit 6e94eb4142c59a92db4e6db3e715607aed30cda9
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Feb 2 21:46:20 2014 +0100

    rigol-ds: apply :KEY:LOCK DISABLE only to DS1K

commit 3918fbb0cf65df317390643f2bb143716b8d0a60
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Feb 2 21:44:26 2014 +0100

    rigol-ds: properly end WAIT_TRIGGER event handling

commit 83dbd9f09caa400b09fdb699a34f728f1a33b58a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Feb 2 22:09:01 2014 +0100

    rigol-ds: properly deal with dev_close() getting called multiple times

commit b84b7ee73d67273871d03ede6e7de89f187ef929
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Feb 2 16:21:33 2014 -0800

    Fix building without librevisa.

commit fb9e91aed45a45c80014951e1dbd01c5d3e60c5b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Feb 5 00:56:49 2014 +0100

    output/vcd: Extend output stream to last sample.
    
    (receive): Write a dummy timestamp after the last sample
    to indicate the length of the sampled stream.

commit 4f2dad42f44e4de1e5a7eea79d27f4ee3284ac46
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Feb 5 00:25:32 2014 +0100

    input/vcd: Remove debug output from inner loops.
    
    (parse_contents): Do not call sr_dbg() on every signal change.
    This would be excessive even for sr_spew().
    (read_until): Do not call ftell() just to be able to show some
    number in a debug message later on.

commit cd1b0e8f7921afc84d582eb4d95ce673912943dd
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Feb 3 01:54:20 2014 +0100

    input/vcd: Avoid truncation of shift to 32 bits.
    
    (parse_contents): Cast constant 1 to uint64_t before shifting left.
    Also fix whitespace errors.

commit 7ad4e2b80b47aab7be54f1efd084b4df7eb1d6b0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 3 00:24:13 2014 +0100

    scpi_visa.c: Minor cosmetics.

commit 1fb2312f99a27d552cbd13df7827eb366bcc3122
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Feb 1 10:01:05 2014 +0000

    Add librevisa SCPI backend.

commit 191c7e5f4b3f189270ebeed3b92da4cdc594118b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Jan 30 22:11:10 2014 +0100

    vcd: Remove bogus $dumpvars and $dumpoff commands.
    
    These commands are superfluous and do not seem to make sense in
    the context they were used.  Also, $dumpvars was missing an $end,
    and $dumpoff was used without any content.

commit 2b6363b433683dfc9bedb678dfe854a56b776d4d
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Jan 30 21:57:49 2014 +0100

    vcd: Output timestamp only once per change.
    
    Avoid writing a new timestamp for every changed signal if multiple
    signals change state simultaneously.  Also, keep signal transitions
    on the same line with their timestamp to make the output easier to
    inspect in a text editor.  (VCD does not care whether newlines or
    spaces are used to separate tokens.)

commit 563080a8d1f1737578a313b89995a9da6ec1077c
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Jan 30 20:49:36 2014 +0100

    vcd: Fix output for more than 8 channels.
    
    (receive): Use probe index for sample byte selection too, not just
    for bit selection.  Also simplify the indexing expressions a bit.
    This fixes the problem of incorrect output for probes indices 8 to
    31.
    Also, use double rather than float in the timestamp calculation,
    and format the result directly as floating point number rather than
    converting it back to uint64_t.
    Additionally, make sure that the state of all signals is written
    for the very first sample in the stream.  This fixes the problem
    that signals would be displayed as indeterminate until the first
    change.
    (context.samplecount): Make the sample counter part of the context
    struct, rather than keeping it as a global static.

commit a6c12f3f70fe301051b7de4ae144db926ebeac9c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 30 17:52:44 2014 +0100

    Drop unneeded comments.

commit 85d8aa496e49363b0088359aaa1f90fdb4f30c43
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 30 17:48:10 2014 +0100

    sr_probe->index is no longer deprecated (for now).

commit 7d4874c1b63c169d1847e93c0d221a16d662dd53
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 30 17:02:34 2014 +0100

    configure.ac: Only check for things we actually use.
    
    Drop checks where we don't use the result (yet). We might bring back
    some of those once we start actually using the result in the code.

commit 6358f0a9568848be734a8a94ad7f510e04a4503f
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Jan 30 00:31:42 2014 +0100

    sysclk-lwla: Implement SR_CONF_CLOCK_EDGE setting.

commit 860bc59b0ff598f37f23a1882bf5822ef7c86382
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Jan 29 20:53:51 2014 +0100

    hwdriver: Add SR_CONF_CLOCK_EDGE option.
    
    Allow the edge of an external clock input to be configured by
    means of an SR_CONF_CLOCK_EDGE configuration setting.  This is
    a string option with the same format as SR_CONF_TRIGGER_SLOPE.

commit 625763e2c2b69f79b950ad0b0cd8b779500f5d95
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 30 11:58:07 2014 +0100

    ols: Code cleanup and more debug output.

commit 016e72f30e21fbec6a1097318ab36877b2c140af
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jan 29 08:22:02 2014 +0100

    ols: Fix endianness problems in protocol.

commit e6e54bd2537ac423977f5574292f2cb987ce8629
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Jan 26 21:42:22 2014 +0100

    sysclk-lwla: Add support for external trigger input.
    
    Implement the configuration setting TRIGGER_SOURCE with the
    choices CH (logic channels) and TRG (external trigger input).
    Also implement the TRIGGER_SLOPE setting for selecting the
    edge to trigger on (rising or falling).

commit e0df15d43600737fe225f5c68dbdbcf84d5fa326
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Jan 26 20:28:59 2014 +0100

    sysclk-lwla: Simplify and optimize word extraction.
    
    It turns out that all LWLA protocol responses consist either
    of 32-bit units or of 32-bit units combined into 64-bit units.
    Thus it makes sense to double the basic unit size for reading
    from 16 bit to 32 bit.
    We cannot do the same for command messages though, as those
    actually do use 16-bit quantities in some places, and 32-bit
    arguments are not always aligned to 32-bit boundaries.
    
    (acquisition_state.xfer_buf_in): Change unit type to uint32_t,
    and update related macros and code accordingly.
    (LWLA_TO_UINT32): New macro to replace LWLA_READ32, operating
    directly on 32-bit values instead of pointers to 16-bit units.
    Make use of a compiler-recognized idiom for bitwise rotation
    to efficiently swap the 16-bit halves of a 32-bit word.
    (LWLA_TO_UINT16): New macro to replace LWLA_READ16.
    (LWLA_READ64): Remove unused macro.
    (LWLA_WORD_[0123]): Slightly simplify 16-bit word extraction.

commit 5413df19528c96c6fba3ee4cc61ec3dfe01047cb
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Jan 25 23:27:40 2014 +0100

    sysclk-lwla: Limit use of SR_ERR_ARG to user-supplied arguments.
    
    The return code SR_ERR_ARG is intended for reporting unsupported
    or inapplicable device configuration settings and is not a hard
    error.  In order to indicate failure of internal sanity checks,
    use SR_ERR_BUG instead.

commit 1c873c114cdf67b2cffa78293611d8f8f275bab8
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Jan 28 17:13:00 2014 +0100

    scpi: Limit the log message in get_string() to 70 characters.

commit 9d156555a557aa079056d42fbc9ddd12338e842e
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Sun Jan 26 21:30:57 2014 +0100

    demo: Cast to double while calculating the pattern frequency.
    
    Without the cast non integer frequencies weren't possible (e.g. with a sampling
    frequency of 50Hz we would end up with a signal frequency of 2Hz instead of
    2.5Hz). The result were signals which had an incorrect number of samples per
    period.
    
    BugLink: http://sigrok.org/bugzilla/show_bug.cgi?id=297

commit 464d49360a02c6b378ebaf5ef38f4bb4536dd5ee
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 27 21:19:41 2014 +0100

    rigol-ds: Deal with dev_close() getting called multiple times.

commit ca9b9f4834f106ba8387cf962a216425e0476de5
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Jan 27 00:22:01 2014 +0100

    hwdriver: Change TRIGGER_SLOPE setting to string type.
    
    Drivers interpreted the uint64 values to the SR_CONF_TRIGGER_SLOPE
    configuration setting in different ways.  In order to orthogonalize
    the API, change the type of the setting to a string with the same
    format as uses for logic probes.

commit fe90fbb7829ac745d59be37e61fa55e45b251a4e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 25 21:20:29 2014 +0100

    demo: Require sample limit.

commit c2066c2104f46bd88b40a6dc2f0051fe1272ff8a
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Jan 25 02:21:19 2014 +0100

    sysclk-lwla: Load bitstream files in RBF format.
    
    Modify the bitstream loading routine to work directly with the
    Raw Binary Files (.rbf) generated by Altera tools.  Previously,
    a custom format was used which was basically an RBF preceded by
    a 4-byte header specifying the transfer length.

commit 7f4975b4401a1e8de61e356b5b272fc00b658260
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 25 20:39:50 2014 +0100

    demo: Keep separate counters for logic and analog sources.
    
    Since they have different internal buffer sizes, their output counters
    are not in sync. See bug 295.

commit aa48adf96059aa882da4dc8738d6a1e13068d2ae
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 25 12:44:00 2014 +0100

    Properly publish samplerate when loading session file.

commit 3a841040800101909c95a9a9f95d0b0ab19b3b7c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 23 22:45:08 2014 +0100

    sr file format: Bump version to 2.
    
    The *.sr (libsigrok session) file format has changed since the last
    libsigrok release. Frontends using older libsigrok versions will not
    be able to read *.sr files created by frontends using the new file format.
    
    Thus, bump the version number of the file format to 2.
    
    Current libsigrok will read both version 1 and version 2 files
    correctly, and always write version 2 files.

commit fe0d9caa88a1b6207de6760e75086007601e1169
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jan 23 10:13:54 2014 +0000

    rigol-ds: Fix a couple of compile warnings.

commit e36aae989cc9f747f5a0880bfae6a378d7e31e23
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 23 23:11:34 2014 +0100

    output/csv: Drop last separators as needed.

commit ee38c8ba3e49fa3b8af6d2fd83396b3dd4b109a7
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Jan 23 02:35:51 2014 +0100

    sysclk-lwla: Implement config_commit() callback.
    
    Move pre-acquisition hardware setup to the new config_commit()
    callback.  At the moment, the only setting applied at commit
    time is switching the clock source, which involves uploading
    a new bitstream to the FPGA.

commit 43db343618e81d03aa8531b4a4ed96c250a29991
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Jan 23 02:27:58 2014 +0100

    sysclk-lwla: Implement config_probe_set() callback.
    
    Move setup of channels and trigger masks to the new probe
    configuration callback.  Although the actual hardware setup
    still happens just before acquisition, the new approach
    already has the advantage that invalid settings are caught
    early.
    Also, it turns out that the LWLA1034 allows triggering on
    channels which are not enabled for data acquisition.  This
    feature is now supported as well.

commit 50cad98d1ba595d6e2da900dbe212b293a058189
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Jan 23 01:24:29 2014 +0100

    sysclk-lwla: Do not reset drv_context.instances on scan.
    
    Apparently, frontends may call scan() more than once to accumulate
    multiple devices, so do not reset the instance list pointer at the
    start of each scan.  Also, number devices continuously across scans.

commit 99c76642aa8d3c75bef4ef3927b4c4cf45461892
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Thu Jan 23 01:10:31 2014 +0100

    sysclk-lwla: Advertise SR_CONF_CONN option.

commit 4472867a9f17101c7849f26fff9dcce7010f7ac7
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 08:15:12 2014 +0000

    rigol-ds: Don't run rigol_ds_block_wait() code unless supported.

commit aff00e40880184c9f9d4a934d83af0cf052ed70c
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 08:13:27 2014 +0000

    rigol-ds: Fix partial read handling in header parser.

commit 8943049cd411e194c77ca4ffed434a43af525f03
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 07:41:34 2014 +0000

    scpi_serial: Reimplement to allow scpi_read_complete() to work correctly.

commit 824eb2acfd1a9047f4044370c6375a79d7e2c7b2
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 05:07:20 2014 +0000

    rigol-ds: Fix divide by zero when no analog probes selected.

commit 7d63347e9083648abd82bdeb49435ec1f7a98a44
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 04:57:48 2014 +0000

    rigol-ds: Stop capture cleanly on read errors.

commit ae3a1913665dcdd721c88a46bc93c5e86747b519
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 04:50:38 2014 +0000

    rigol-ds: Improve protocol debugging output, abort on read errors.

commit 2b399703d10dedfbed1f6b13070e0c3f5fd9938b
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 04:49:57 2014 +0000

    rigol-ds: Only protocol v3 adds trailing linefeeds to data blocks.

commit a849c43a5070fce7b39d31383d4b370872e40a2b
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 04:48:33 2014 +0000

    scpi_usbtmc: Improve debugging output.

commit 569d4dbd3e4c6cef0456c2afcc9a1e3d995d96ee
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 04:08:00 2014 +0000

    rigol-ds: Overhaul vendor/series/model info and protocol variants.

commit e086b750fabe4247c5d88a37fa6927f907213d75
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 00:25:32 2014 +0000

    rigol-ds: Overhaul VS5000 and DS1000 support.
    
    This change moves the handling of series differences out to the points in the
    code where they actually matter, unifying the overall structure of the code.
    
    It also adds new VS5000/DS1000 series equivalents for commands that were
    previously only implemented on the later models.
    
    After this change, trigger waiting and the 'Memory' data source are supported
    on the VS5000/DS1000 series.

commit 38354d9d9eb7d63ee10ee42636b0ce0075536cf4
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 00:22:41 2014 +0000

    rigol-ds: Use common rigol_ds_config_set() function throughout.

commit cf9f4bc5b0bf5ceef6ccfff7bdbf6b4ac2fd7486
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 22 00:14:42 2014 +0000

    scpi: Log responses received by sr_scpi_get_string().

commit 32f09bfd9e2eaa6b909a672f779b74c53838120e
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 23 01:09:16 2014 +0100

    ols: Don't reduce sample count just because it's not a multiple of 4.

commit 54da58ca9b9bde79d1b22e5254d7e396ff024fea
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jan 22 02:44:52 2014 +0100

    output/csv: Drop extra separator on every line.

commit e96cf218c08d474fca0285113ad334823a60a3b9
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jan 22 02:34:56 2014 +0100

    output/csv: Get rid of 64-probe limit.

commit 4829d37d6ad74c9368784b3cf3cae6f1a0a651c4
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jan 22 01:14:26 2014 +0100

    output/csv: Use new output API.

commit 2b36d6c64e16c4b4efdffacd61d6fbc0c1b7ef91
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 21 18:25:50 2014 +0100

    demo: Cycle through all available patterns for default analog probes.

commit 03aa381efbb3fe3cb3fec8e7f2229b22bae58c56
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 21 18:19:57 2014 +0100

    demo: Probe indexes should be unique, even if the types are different.

commit eca2f8521333b7d259cc110e025d915b50aa384c
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 21 18:16:52 2014 +0100

    Don't mention non-logic probes in session file metadata.
    
    They don't get saved anyway, and are very confusing to clients.

commit 22c196883d50849ac3a6ed3bffa98e43b6155069
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Jan 21 16:51:01 2014 +0000

    rigol-ds: Disable key lock when closing device.

commit 933e63a13bcedc7d4a003605449e54241e25f4eb
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 21 17:02:27 2014 +0100

    brymen-dmm: Make protocol parser locale-independent.

commit fe9d5abefcebb3a382d990e069d93c28e9541e35
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 21 16:43:49 2014 +0100

    agilent-dmm: Make protocol parser locale-independent.

commit 357e341d9a9e8f3834fe82c5ff4141f67c29d2d2
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 21 16:33:34 2014 +0100

    fluke-dmm: Make protocol parsers locale-independent.

commit d2cd06e7e96054973efe3b68565e66cdedeb5efe
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 21 14:47:05 2014 +0100

    Make sure to delete temporary metadata file after use.
    
    Fixes bug 276.

commit ac2926b37be8c569c5ca7f163a9219b08805fdd2
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 21 14:03:27 2014 +0100

    std: Fix caller prefix output.

commit 10d309c8abe03fa242409a6db398b4705cf6cf3d
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Jan 21 02:23:38 2014 +0000

    rigol-ds: DS1000 series still needs the stupid delay.

commit 32b7cd4f02a8f84a860ee57911dd71191fc96987
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Jan 20 23:04:49 2014 +0100

    session: Auto-commit settings before acquisition.
    
    (sr_session_start): Just before starting acquisition on
    a device, call sr_config_commit() to apply pending config
    changes to the hardware device.
    (sr_session_dev_add): Ditto.  Also, return an error code
    if starting acquisition failed.

commit 8dd0b290eb6ce6ebf9bde8b9a52785adb45b16f7
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 21 12:54:24 2014 +0100

    rigol-ds: On DS1000 with firmware < 0.2.4, use legacy protocol.
    
    Apparently the ASCII header containing length was only added in version
    0.2.4.

commit fcdebbe89cca239c2270bea97ee709d26c51ae3b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 20 19:08:10 2014 +0100

    rigol-ds: Shorten vendor name.

commit 67d6f6fca2b85f2ef6a7e03383ebdcd2ce877eab
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 20 19:07:48 2014 +0100

    agilent-dmm: Shorten vendor name.

commit 6d16fdfb1328ba46edf0734b2b1ae62b1c26fb05
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 20 18:16:25 2014 +0100

    ols: Add option to turn test patterns off again.

commit 2a854d71392d2d22c59ec975ca11eb72ab81061d
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sun Jan 19 20:39:11 2014 +0100

    hwdriver: Introduce sr_config_commit() API call.
    
    (sr_dev_driver.config_probe_set): New optional callback enabling
    drivers to be notified upon changes to probe settings.
    (sr_dev_probe_enable, sr_dev_trigger_set): Invoke new driver
    callback on changes.
    (sr_dev_driver.config_commit): New optional callback allowing
    drivers to defer application of configuration settings until
    an explicit call to config_commit().
    (sr_config_commit): New public wrapper function.

commit 2b0e4a468a522770f27959d07efdd7b23e70a509
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jan 19 23:28:40 2014 +0100

    rigol-ds: add support for more keys in config_get()

commit 72ecba02f44079e96a2708f3ac9ac847c85edb03
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jan 19 23:26:26 2014 +0100

    rigol-ds: use appropriately defined NUM_VDIV constant

commit 8e06edf5282647deb9ddcc9ffad5bd6f94ae6f6a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jan 19 23:24:58 2014 +0100

    rigol-ds: add more valid timebases for DS2302

commit 889ef4a01cbf50d381cda0a1331b794a2c6d26c8
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jan 19 14:46:59 2014 +0100

    rigol-ds: fix set_cfg() calls with float parameters to avoid locale issues

commit f76c24f6fdf09075a68197659df35eb1530e3004
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 15:07:15 2014 +0000

    rigol-ds: Send FRAME_BEGIN and FRAME_END per frame, not per channel.

commit bac11aeb1b4f90e434ce05ee89ab1976a2a2b742
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 14:46:10 2014 +0000

    rigol-ds: Cleanup and fix check for short data blocks.

commit 51bfe5363a89f7547810ed02868207a6f6be35b5
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 14:22:09 2014 +0000

    rigol-ds: Use *OPC? command rather than delay to await completion.

commit 7788579e66d1bb7b3db8d3360c11f6407f596fee
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 14:17:50 2014 +0000

    scpi: Remove redundant newline removal in sr_scpi_get_hw_id().

commit 334fbc2ac0ced005d558710e48ca660eaf9dcac5
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 14:10:36 2014 +0000

    rigol-ds: Use standard sr_scpi_get functions, remove internal versions.

commit d03dfac6b9c07812c0b7b21858b247088d5605aa
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 13:43:34 2014 +0000

    scpi: Strip trailing newlines in sr_scpi_get_string().

commit 470140fc0dff26e40000c8858c32dd84760df14a
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 02:56:45 2014 +0000

    rigol-ds: DS1000 series actually use IEEE488.2 data block format.

commit d22250a96adbef6dbae44cd8e346cb5f31a3f872
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 02:56:01 2014 +0000

    rigol-ds: Correct digital waveform block sizes.

commit 3ed7a40c753128d73875282cd318e1c8d96b360a
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 02:27:29 2014 +0000

    rigol-ds: Check SCPI read is complete after reading expected block length.

commit 904fd29b7255958f499719f4b7f8f653596e33c6
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Jan 17 00:46:16 2014 +0000

    rigol-ds: Update which channels are enabled after making changes.

commit f0de2dd0fa67b61e755b04657b132282acc1c9a0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 19 17:18:59 2014 +0100

    Remove SR_CONF_MAX_UNCOMPRESSED_SAMPLES again.
    
    The maximum sample size that can be set on a device is now published
    by sr_config_list(SR_CONF_LIMIT_SAMPLES). This returns a tuple of
    uint64_t representing minimum and maximum number of samples.

commit 9497f49ef8ce9136775c77386a79256806ee1c02
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Jan 18 18:13:40 2014 +0100

    sysclk-lwla: Improve message log output.
    
    Report settings at acquisition start as informational messages.
    Print a message when the the trigger condition has been met.
    Demote some other messages from information to debug, and use
    the %zu format for printing size_t values.

commit 2cfd16a31672be2ef8227dcda407e8cc5a24607f
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Jan 18 17:36:23 2014 +0100

    sysclk-lwla: Streamline packet output logic.
    
    (process_sample_data): When expanding run-length samples into
    session packets, calculate the number of samples to write in
    advance while honoring all constraints.  This is cleaner than
    checking constraints within the expansion loop.  Also, the new
    logic always fills up packets exactly to whatever limit applies
    first, thereby removing the need for truncation after the fact.

commit 29d587670df54e6dce281e942d1da0c0ee5a74f3
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Sat Jan 18 16:08:39 2014 +0100

    sysclk-lwla: Implement SR_CONF_LIMIT_MSEC.
    
    Allow the acquisition to be constrained by time in addition to
    a sample count limit.  Since the LWLA protocol actually provides
    only a duration natively, implement the sample count limit on top
    of the new duration limit.
    
    With this change, limiting an acquisition in external clock mode
    should finally work properly.

commit 17794067f96fd2b6f55b49bfcc2ce08e6edf57e5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 17 20:41:56 2014 +0100

    tests: Fix a few warnings.
    
    Fix a bunch of "no previous prototype for ..." warnings exposed
    by -Wmissing-prototypes.

commit 2438b737ae644ce156d5ad808439358821234191
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jan 15 01:51:04 2014 +0100

    demo: Bring analog square wave amplitude into line with other patterns.

commit 9f54e0e84f93ca4773994d4ee3c2cf3d8989790b
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Jan 14 23:03:10 2014 +0100

    demo: Add analog sawtooth pattern.

commit 091c9621275fed7b0a418b644de46efec709d47b
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Jan 14 23:03:09 2014 +0100

    demo: Add triangle pattern.

commit 4374219bc8c26997bb5c13c57f0babe3a61cd47e
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Jan 14 23:03:08 2014 +0100

    demo: Implement sine wave pattern.
    
    This adds sine wave generation capabilities for the analog channels in the demo
    driver. The frequency of the sine wave depends on the configured sample rate of
    the demo device. The frequency of the sine wave is always 20 times smaller than
    the sample rate, in other words we always have 20 samples per period.

commit e196cb6193421ec8de4f026a1bf22c14f623b3f3
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 17 12:11:52 2014 +0100

    uni-t-ut32x: Fix typo that prevents usage with multiple devices.

commit c2b394d56220de371280ff6e2b83559e1b1d27b6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 17 01:57:09 2014 +0100

    rigol-ds: Minor whitespace fixes.

commit 04e8e01ec6e5f293cde7d53e63fd29f0740af4a3
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jan 16 23:25:59 2014 +0000

    rigol-ds: Enable/disable LA pod when (de)selecting digital channels.

commit 51b294cd013db9d4d15f713c9ed576c343e685d6
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Jan 16 18:57:45 2014 +0000

    rigol-ds: Reset num_frames to zero in dev_acquisition_start.

commit b751cf7a82ff04973e9525b42bb3e21ab88a1ab8
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Jan 15 17:06:46 2014 +0000

    rigol-ds: Make sure to always send SR_DF_END at end of capture.

commit 4914dd4b9a9e38b72aa351a0322e812c9d6a0384
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Jan 14 21:27:58 2014 +0000

    rigol-ds: Calculate effective samplerate.

commit 5415e6024766fb9cd130782415eabcfe243bb3aa
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Jan 14 21:21:31 2014 +0000

    rigol-ds: Separate function to compute analog frame size.

commit c1bcb8cc633cc69ce4a872f59ec2b686bc00bd04
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Jan 14 20:55:20 2014 +0000

    rigol-ds: Advertise SR_CONF_LIMIT_FRAMES support.

commit 969edf63068d19260381274cfa4fecf6a390345b
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Jan 14 20:48:17 2014 +0000

    rigol-ds: Fix check for probe group validity.

commit 55eb33dbf8cec9d7871187fe08d834180203b484
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 17 00:37:58 2014 +0100

    hameg-hmo: Fix two compiler warnings on Windows.
    
      CC       libsigrok_hw_hameg_hmo_la-protocol.lo
    api.c: In function 'auto_find_usb':
    api.c:70:39: warning: unused parameter 'vendor_id' [-Wunused-parameter]
     static GSList *auto_find_usb(uint16_t vendor_id, uint16_t product_id)
                                           ^
    api.c:70:59: warning: unused parameter 'product_id' [-Wunused-parameter]
     static GSList *auto_find_usb(uint16_t vendor_id, uint16_t product_id)
                                                               ^

commit dcc94340bd4c17f74c57a9ec9a2d8d9c1f06dd9f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 17 00:26:30 2014 +0100

    usb: Fix two compiler warnings on Windows.
    
      CC       libsigrok_hw_common_la-usb.lo
    usb.c:241:18: warning: no previous prototype for 'usb_thread'
    [-Wmissing-prototypes]
     SR_PRIV gpointer usb_thread(gpointer data)
                      ^
    usb.c:256:13: warning: no previous prototype for 'usb_callback'
    [-Wmissing-prototypes]
     SR_PRIV int usb_callback(int fd, int revents, void *cb_data)
                 ^

commit c06c24d2d321c4adb2274402857b8811485c40ac
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 19:42:27 2014 +0100

    hameg-hmo: Silence warning about format security.
    
    The command for fetching the sample rate while in single shot mode doesn't take
    an argument so the snprintf here is redundant.

commit ef1a346b0b69a6ef74c75f6eb61ac5742b67b5c2
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 19:55:00 2014 +0100

    hameg-hmo: Reset the number of acquired frames in acquisition stop.

commit ccf146182522391d6506dcb3944d305e8906101c
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:58 2014 +0100

    hameg-hmo: Expose more options with config_get().
    
    This patch exposes the TRIGGER_SOURCE and COUPLING options via config_get().

commit eff1ee0321166b7017765f91f5833fdf69e30d1b
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:57 2014 +0100

    hameg-hmo: Advertise the frame limit option.

commit 23e1ea7a7d862a8f5173dd12c62d6a4b2e7e9015
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:56 2014 +0100

    hameg-hmo: Update the sample rate when the channel states or the timebase change.
    
    The sample rate on the Hameg scopes changes depending on the number of channels
    turned on and on the current timebase.
    
    Update the sample rate if any of the above change.

commit 14a2f74d9a5d696baab59cda426604f1750d17ba
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:55 2014 +0100

    hameg-hmo: Add support for sample rate fetching.

commit c09392d092f4b4c8d979b968bacb9f9056dc45e6
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:54 2014 +0100

    scpi: Add CMD_GET_SAMPLE_RATE to the command enum.

commit 8de2dc3b2e6ee1cb2df31db567e59f197623007c
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:53 2014 +0100

    hameg-hmo: Change the way vdiv and timebase are saved.
    
    The current vertical division setting (per channel) and the timebase are stored
    as a floating point number. This is suboptimal since clients expect us to send
    this information to them in form of a rational number.
    
    Store only the index of the current setting since all the supported settings are
    already stored inside of an array.

commit 66e3219dbd086dc57087281f10fdefbe060ee5c8
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:52 2014 +0100

    hameg-hmo: Send the DF_END packet in acquisition_stop()
    
    The DF_END packet was send out after all configured frames were fetched, but
    devices may stop the acquisition at any point in time and an DF_END will not be
    send out in this case.
    
    Send the DF_END packet inside of acquisition_stop() so this can't happen.

commit 68e3d070144375fc01c54f0295a6c9acf726d9cc
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:51 2014 +0100

    hameg-hmo: Close the device after initial scan.
    
    The device is after a scan left open and clients that don't call unconditionally
    dev_open() will never fetch the initial device state.
    
    Close the device after the scan so clients know they need to open it.

commit 965b463d9825c2a72a3a1cfcc10e1a23ccc768aa
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:50 2014 +0100

    hameg-hmo: Handle floating point numbers while ignoring the locale.

commit 13dbd151fee223b0cff563fbee81d31e786494e8
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:49 2014 +0100

    scpi: Use sr_atof_ascii() instead of sr_atof().

commit 9806c2d573a3fde4c26a38eaab265c7a78962e94
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 15:28:48 2014 +0100

    strutil: Add function to parse floating point numbers while ignoring the locale.
    
    Most of the supported gear uses the ANSI C locale for communication, and if the
    client sets up an incompatible locale parsing would fail.
    
    This function ignores the client's locale and parses floating point numbers
    using the ANSI C locale. This function should be always used when parsing
    floating point numbers coming from the instrument.

commit 92b68bb5d6e5ca97990d223daaa3c74e4bbf4333
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 02:53:41 2014 +0100

    device: Pass sdi as an function argument to config_list in dev_has_option()
    
    With drivers that support multiple devices we need to know the device model
    while listing options. That information is most of the time saved in the private
    part of the dev_inst structure.
    
    Pass the pointer to the dev_inst structure as an function argument so we have
    access to this information.

commit 580f309948b1540a32cb1fd787ae3599c68cae4b
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Thu Jan 16 02:53:40 2014 +0100

    strutil: Correctly parse floating point frequencies in parse_size_string().
    
    parse_size_string() incorrectly parses a real number, e.g. 1.5 kHz ends up
    being 1Hz.
    
    This patch fixes parse_size_string() to take the fractional part as well into
    account. The fractional part is parsed as an double precision floating point
    number while ignoring the locale.

commit 0b92c32cb87f48d5f378b64c787a6f25b65915ad
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Jan 15 11:09:06 2014 +0100

    sysclk-lwla: Make use of the probe index again.
    
    (configure_probes): sr_probe::index has been un-deprecated,
    so use it instead of relying on the list order.

commit d02d475442d80ed7b51449526afd5c54ac843d1d
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Jan 15 02:51:08 2014 +0100

    sysclk-lwla: Bypass divider in external clock mode.
    
    (lwla_setup_acquisition): Set the clock divider bypass
    flag to 1 for the external clock modes as well.
    (capture_setup): Set the clock divide count to 0 if an
    external clock source is selected.

commit 313c7a7da20cb6d8e5e962844ed47d57460ff978
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Jan 15 01:12:39 2014 +0100

    sysclk-lwla: Utility functions clean-up and semantic fixes.
    
    (lwla_send_bitstream): Unref the mapped file earlier in order
    to simplify the error handling.
    (lwla_receive_reply): Do not treat a reply buffer length of
    zero as silent no-op.  That logic was left over from an earlier
    iteration, before the distinction between reply buffer size and
    expected read length was introduced.

commit 60e2fa0a03f689bf1e04f38e91473b8c231c4e26
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Jan 15 00:59:08 2014 +0100

    sysclk-lwla: Remove unused dev_context::next_state.

commit 945e4343e2be4ad9e70e1a995182988b2331e0bd
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Wed Jan 15 00:52:26 2014 +0100

    sysclk-lwla: Avoid warning due to bogus range check.
    
    (lwla_set_clock_source): Checking whether an enum value is greater
    than or equal to zero apparently results in a warning with some
    compilers.  Assign the enum to an unsigned variable to avoid this,
    and return SR_ERR_BUG if the range is exceeded, as this indicates
    a bug in the driver code itself.

commit 9e2bf9d204d153de65dd98445d9d91819198196f
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 14 23:30:02 2014 +0100

    configure: add -Wmissing-prototypes compiler option
    
    This should avoid introduction SR_PRIV functions when static would be enough.

commit 8a2aaffa02d333219ba9159b581a2a7482e5185f
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 14 23:29:17 2014 +0100

    remove unused static functions

commit d87c1766f2968d121cea9d913b06dc3493adfd9e
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 14 23:16:55 2014 +0100

    change a bunch of functions from SR_PRIV to static
    
    None of those functions are called across compilation units.

commit 8162cad7e0727fc31d797afacfed4c23dd97aca0
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 14 23:38:23 2014 +0100

    move function declarations to the appropriate header

commit 2588e50c63d08245547e9947e67b4247f9102b19
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 14 23:24:47 2014 +0100

    es519xx: add missing declarations for es519xx_2400_11b_altfn

commit 365cca8aca560bdc3c5443a732e8d2620821a450
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 14 22:59:33 2014 +0100

    gnuplot: proper error message when using gnuplot output without logic probe

commit ad7621d4451cdd3c29f92c9c0e42428e92b4ba3a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 14 22:56:55 2014 +0100

    add udev rule for the Rigol DS2000 series

commit 1f98295dfa0e303e05b0472cb025c03d3b0cb42b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 14 19:52:26 2014 +0100

    sysclk-lwla: Fix probe name issue.
    
    The g_ascii_formatd() function expects the "format" argument to start
    with a '%' character, e.g. it should be "%f" or such (this is not
    clearly documented in the glib API docs, but visible from the source code).
    
    The usage of "CH%f" for example will trigger an assertion and thus make the
    LWLA device unusable in practice (e.g. in PulseView on Windows no probenames
    would be shown, and sampling wouldn't work).
    
    Example:
      GLib-CRITICAL **: g_ascii_formatd: assertion 'format[0] == '%'' failed
    
    (not exposed in all glib versions or builds of glib on all distros
    apparently, some may need G_MESSAGES_DEBUG=all or other measures)
    
    From the glib g_ascii_formatd() code:
      g_return_val_if_fail (format[0] == '%', NULL);
    
    We now use g_snprintf() instead for simplicity. This has been tested to
    fix this specific issue (i.e. the probenames now do show up in PulseView).
    
    This closes bug #270.

commit 2379783d85a90bc2930f7eaff348c91b2d60d015
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 14 19:46:05 2014 +0100

    configure.ac: Don't build sysclk-lwla if libusb-1.0 is not found.

commit 87283d98c996db225444cf0c80e19099edb6fe61
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 14 19:36:28 2014 +0100

    configure.ac: Move sysclk-lwla chunk to correct location.

commit 7ebe9b9e7e8649fa592527d7cba2cf49804c3652
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Jan 14 01:43:02 2014 +0100

    sysclk-lwla: Honor SR_CONF_CONN at scan time.

commit 8a3ddd8815aea40a2efd5987e754df1ec1322337
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Tue Jan 14 01:28:00 2014 +0100

    sysclk-lwla: Fix calculation of the running sample count.
    
    Field 7 of the status response is actually a duration in
    milliseconds at all samplerates but 125 MHz.

commit 5874e88d83cabbec62e36c37e9016fab983d957b
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Jan 13 22:57:59 2014 +0100

    sysclk-lwla: Implement support for the LWLA1034.

commit aeaad0b0b5db53f3d600359834b2738422feaeaf
Author: Daniel Elstner <daniel.kitta@gmail.com>
Date:   Mon Jan 13 22:49:55 2014 +0100

    sysclk-lwla: Initial driver skeleton.

commit bfaf112b689cba3ae5b3a73133fcdf7e45653550
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Jan 14 18:25:08 2014 +0000

    rigol-ds: Use correct digital channel numbers when fetching config.

commit a4eb4b296da9818ffb04bb8023d43f6a006a81ca
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 14 00:05:24 2014 +0100

    cem-dt-885x: Don't use char as signed type.

commit 613c11084915ac24de9bd0355a7479ece9adfa35
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 14 00:17:44 2014 +0100

    scpi: properly check for HAVE_RPC (which is always defined)

commit d993d8d39d739d84f4927d251a826142a6a946a8
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 13 23:40:55 2014 +0100

    rigol-ds: remove lonely break

commit a31b2ccbd8db3716d2b13971a8519631e06727fa
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 13 23:38:32 2014 +0100

    rigol-ds: prevent config_list() to return empty g_variant
    
    This fixes the following glib message:
    $ ./sigrok-cli -d rigol-ds --show
    [...]
    g_variant_builder_end: assertion '!GVSB(builder)->uniform_item_types || GVSB(builder)->prev_item_type != NULL || g_variant_type_is_definite (GVSB(builder)->type)' failed

commit 69d83be9bf4b6aa7e6cabdf5ce1b6452182fa55b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 13 22:22:40 2014 +0100

    Use PRIu64 for format in pretty-printer.
    
    Thanks to Marcus Comstedt for the fix.

commit 02820f07955badeb2da144a5cc678733a8fd4750
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 13 22:49:57 2014 +0100

    rigol-ds: does not depend on libserialport

commit a44a804bc6756605bcfbc3e9bff1066896303a9e
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Jan 13 22:49:21 2014 +0100

    scpi_usbtmc: does not depend on libserialport

commit 138c0652f8a24b531ee2bec9a72d623431c48bca
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Mon Jan 13 12:54:24 2014 +0100

    udev: Add the Rigol DG4000 series to the udev rules

commit e22aa87808624c86ec52ea8d57d0a6f35c9e018e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 13 02:10:11 2014 +0100

    atten-pps3xxx: Fix options reporting.

commit fe997353bf0c66425997bb84a0ad1041faf2a60e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 13 02:05:39 2014 +0100

    atten-pps3xxx: Fix output channel mode get.

commit 2388ae860c369171d8728539ce2e9aab5810896b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 12 23:31:23 2014 +0100

    demo: Properly handle logic vs. analog when setting the pattern.

commit 7a1da33198c0c4d9f982a147e5a49a128446eca8
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 12 22:36:39 2014 +0100

    demo: Split supported device options by probe group.

commit dc3b3be5cb633695e700b895bc3d15deb83d722d
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jan 12 18:46:24 2014 +0100

    scpi_vxi: ensure the vxi link was properly opened before closing it

commit 104ed125532596a43f2d95d9a5d05bd6d51b9afa
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jan 12 00:38:08 2014 +0100

    scpi_tcp: split into scpi_tcp_raw and scpi_tcp_rigol
    
    The current implementation is renamed to tcp-rigol as it seems to be
    a Rigol proprietary protocol used only on Rigol VS5000 series.
    
    A new tcp-raw implementation is introduced which simply carries raw SCPI
    commands over TCP. It is probably a much more common protocol and it is
    at least available on Rigol DS2000 series on port 5555.

commit f754c1469188a5e1a82c98532cb21b334530a91a
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Jan 12 00:05:02 2014 +0100

    scpi: make the scpi_dev_inst_new more generic

commit c3515cea44f7c3044fa56570e8d3225148c36a8f
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Jan 11 17:56:15 2014 +0100

    scpi: factorize dev_inst_new calls out of individual drivers

commit d5876cfb4a51140e449e37e35937795ad43368f7
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Jan 9 23:44:35 2014 +0100

    scpi: add VXI transport support

commit c84b6ab81cfd7ac6b5cde43e6a50ac2dd3fdb520
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Tue Jan 7 23:28:28 2014 +0100

    import VXI RPC Language description
    
    along with the corresponding rpcgen generated source code files

commit 1c183900d2ee1416a0281871928e4064797ee528
Author: Marc Schink <sigrok-dev@marcschink.de>
Date:   Sat Jan 11 13:55:26 2014 +0100

    configure.ac: Disable atten-pps3xxx driver if libserialport is not found.

commit 45357ce64f07a3ac7d3faf99d9a0966694980e2e
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Jan 11 17:48:53 2014 +0100

    std: use #ifdef rather than #if where the constant may not be defined

commit ab988ecb237c6aa8510eaa4a53e4e3d1ba78fd9b
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 10 02:10:51 2014 +0100

    atten-pps3xxx: Push configured settings even without acquisition.

commit 81c9e1a0647f3329eb61d2592e937051a17ecdd4
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 10 02:09:49 2014 +0100

    atten-pps3xxx: Use configured values to construct packet.
    
    This used the values previously received from the device, not very useful.

commit 33c40990fd099c3230fdac51f84a1be7ce2e88e7
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jan 8 21:18:19 2014 +0100

    atten-pps3xxx: Full support for the PPS3203T-3S.

commit 471607f0244e93cd67097760431a0dd3d39152eb
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jan 8 21:15:45 2014 +0100

    Add config keys for programmable power supplies.

commit fa0d6afe19c3a545f3f940933ed079966525d142
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 5 13:12:01 2014 +0100

    atten-pps3xxx: Initial driver skeleton.

commit 14563512ec720cbdfb792cff169d6bb4cde8ca6f
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 9 16:28:29 2014 +0100

    chronovu-la8: Publish SR_CONF_MAX_UNCOMPRESSED_SAMPLES.

commit 0b9b3c41c2768c5fda73b3e38b3483278bcab202
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 9 16:27:56 2014 +0100

    ikalogic-scanalogic2: List all keys in device options.

commit f649fe8f8e6e2406e5187bd19a8e6641358ae010
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 9 16:26:58 2014 +0100

    zeroplus-logic-cube: List all keys in device options.

commit 67055d4c184c8ff1db5f296608ac5c77f80ac437
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 9 14:30:20 2014 +0100

    zeroplus-logic-cube: Publish SR_CONF_MAX_UNCOMPRESSED_SAMPLES.

commit c2b988bd4a1986c15a0ffc8a38b3aa56d1a68c89
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 9 14:00:53 2014 +0100

    ikalogic-scanalogic2: Publish SR_CONF_MAX_UNCOMPRESSED_SAMPLES.

commit 7730e4f002d6ae85fa2945e8a5752c639bfb0899
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 9 13:08:32 2014 +0100

    Add support for SR_CONF_MAX_UNCOMPRESSED_SAMPLES.

commit d86e0b11c7dabcf8fbbb9f692a070f9679f0ea18
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 9 12:36:05 2014 +0100

    Add SR_CONF_MAX_UNCOMPRESSED_SAMPLES.

commit a769b9f357f9f298f015664044ee6c48651affc2
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 7 12:52:23 2014 +0100

    Add sr_session_save_init().
    
    This allows a frontend to initialize a session file, providing the
    required samplerate and probe names, without having a proper
    struct sr_dev_inst handy.
    
    sr_session_append() is then used to add captured data to the session
    file, as usual.
    
    The existing sr_session_save() function works the same way as always.

commit 311622f69e35a1c82d76ece9995daf14d94c191f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 6 20:53:12 2014 +0100

    serial-dmm: Drop unused DMM_COUNT.

commit ec5186f9360f307ced6083137fc99f931aaae1a1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 6 20:44:44 2014 +0100

    hardware/common/dmm: Fix debug output level.
    
    Most messages from the DMM parsers are not hard errors, lower to
    sr_dbg() so that the sigrok-cli output doesn't get cluttered (by default)
    with debug output such as:
    
     P1: 0.001100 V DC AUTO
     sr: fs9721: Sync nibble in byte 0 (0x00) is invalid.
     P1: 0.001100 V DC AUTO
    
    (using -l 4 or -l 5 will still allow the user to see such messages)

commit 2710cb53fd4e56eb0ffe0b76657a67cce932c734
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 6 18:08:55 2014 +0100

    serial-dmm: Support the Tenma 72-7745 via UT-D02 cable.
    
    (it was already supported in uni-t-dmm via UT-D04 cable)

commit d9e79c512289201a76e55435c09d7d7e68a1cf1b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 6 17:20:35 2014 +0100

    Add support for the Tenma 72-7750 (UNI-T UT60G rebadge).

commit 4104ef810e56cd68ccfd66919a24e9e8c572ef58
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 3 22:32:16 2014 +0100

    Add initial support for the UNI-T UT60G.

commit 1267f128acc0464d195abdb89de9c126259e7b83
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 4 00:18:29 2014 +0100

    README.devices: Cosmetics, consistency fixes, updates.

commit 48d3238e66bac0958fbec316db837aa3a8a1075a
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Fri Jan 3 14:37:39 2014 +0100

    serial: Improved docs.

commit 8ae157d976d9825f77c46b1cfa9ecaeacad25436
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Jan 3 17:50:16 2014 +0100

    scpi_usbtmc: fix reading of blocks bigger than the 2048 bytes buffer

commit a53278de01008e1ea04f06d6ae3a32de37d1797c
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Jan 1 18:24:45 2014 +0100

    rigol-ds: fix waveform reception on DS2000 series
    
    The ":WAV:DATA?" scpi command must be sent before calling
    sr_scpi_read_begin().

commit 036d378a628213f71afd24e9de475eacd592ca32
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Wed Jan 1 18:23:48 2014 +0100

    rigol-ds: add a few more DS2000 models to the supported list

commit 7142d6b9d5d65749e0cedfcff9025dffe38c76c2
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 2 23:29:04 2013 -0800

    zeroplus: Add voltage threshold support
    
    It doesn't currently mesh well with libsigrok, but at least the support is there.

commit 42ceb77726b6314fc999cf3664114820eaeddba9
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 30 07:12:49 2013 -0800

    zeroplus: Major rework of sample buffer processing
    
    The sample buffer is a still a bit of a mystery, but this should help.
    The variables in play:
    
    triggerbar/ramsize_trigger - These two variables added together indicate
    how many samples we want captured. ramsize_trigger - triggerbar
    indicades how many samples must be captured. The ratio between the two
    is determined by capture ratio.
    
    memory_size - This indicates the number of samples in the circular
    capture buffer. stop_address, now_address, and trigger_address are
    pointers within the zeroplus that wrap based on this size.
    
    now_address - The address that the zeroplus was about to write to when
    it finished capturing, and now the address that will be read from when
    reads are done from the capture buffer
    
    stop_address - The address that the zeroplus last wrote to when it
    completed capture.
    
    trigger_address - The sample address for which the trigger occured.
    
    status - This one is a bit tricky. Some testing has shown that if the
    zeroplus has captured memory_size or less samples, the STATUS_READY bit
    is set. For all captures generated with more samples than this,
    STATUS_READY was cleared. However, boundary conditions are difficult to
    test and values such as, memory_size + 1 have not been tested. We use
    this to determine if the capture has wrapped through the sample buffer.
    
    More testing is required, but this improves behavior in a number of
    cases, specifically capturing sample amounts that are not a power of 2
    of the sample buffer size. Before, random data was passed to libsigrok.
    
    Signed-off-by: Russ Dill <Russ.Dill@gmail.com>

commit a864a05b25d150214978f51e21b724d912648129
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 30 07:04:42 2013 -0800

    zeroplus: Add getters for memory configuration
    
    This is needed at capture readback time to determine how many samples to read
    in.
    
    Signed-off-by: Russ Dill <Russ.Dill@gmail.com>

commit aad031928e5457ea8f7e4452401d55dcb8cb4cf1
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Tue Dec 31 16:25:51 2013 -0800

    zeroplus: Modify analyzer_read_start to just prep for bulk reads.
    
    Let the capture loop manage which samples are thrown out rather
    than throwing out two here.
    
    Signed-off-by: Russ Dill <Russ.Dill@gmail.com>

commit bc059b42a26bbfa1d64bbf617abe4d440bdc57c5
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 30 06:59:55 2013 -0800

    zeroplus: Always set DONT_CARE_TRIGGERBAR to 1
    
    Experimentation with the windows driver has found no situation where
    this is set to anything other than 1. The zerominus software also never
    sets this to anything other than one. Revert the code change made in
    0ab0cb942f.
    
    Signed-off-by: Russ Dill <Russ.Dill@gmail.com>

commit 4c1433d172e974f8b47ade71ef5e9557ba77a9f5
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 2 22:00:30 2013 -0800

    zeroplus: Ignore capture ratio if there is no trigger
    
    If there is no trigger, don't try to capture anything before it. There
    won't be any because we trigger immediately.
    
    Signed-off-by: Russ Dill <Russ.Dill@gmail.com>

commit 05f853b5c3b8d1666ad1adecf5321c61801bda5e
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 30 07:05:17 2013 -0800

    zeroplus: Add missing config_get for SR_CONF_CAPTURE_RATIO
    
    Without this, latest pulseview gets an assert and dies.
    
    Signed-off-by: Russ Dill <Russ.Dill@gmail.com>

commit 5db0c668fa691f44be6caf173ad64b4765d06a29
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 2 21:25:10 2013 -0800

    zeroplus: Support all 32 channels of 32 channel models
    
    This will need some additional work when support is added for compression
    modes since group D is disabled for RLE compression and C and D are
    disabled for "double" compression.
    
    Signed-off-by: Russ Dill <Russ.Dill@gmail.com>

commit 1d4a28392800bde47c51334bea45060a45fd7450
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Thu Jan 2 19:38:52 2014 +0100

    gmc_mh_1x_2x: Fixed sign and AC/DC for current measurements with Metrahit <= 16.

commit 124c548de85346ff7ff9c6776a963b911559faac
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 2 14:25:06 2014 +0100

    serial-dmm: Increase timeout when scanning for DMMs.
    
    We have to wait a bit longer than 1s for a valid DMM packet to arrive,
    since for various DMMs some modes (Hz/% for example) the packets will
    arrive a lot less often than in other modes. If the waiting period is
    too short detection of the DMM will fail.

commit 7fb5f0a0f5daf0666fded59abf8be63a7fcece46
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 2 02:48:13 2014 +0100

    serial-dmm: Drop obsolete function prototypes.

commit d327972b9720b4c69b3aaca895416121757806e0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 2 01:34:21 2014 +0100

    Add initial support for the V&A VA40B multimeter.

commit 641d8f276ce52e84903a3d918187cf4d74c7dda4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 1 17:38:05 2014 +0100

    output/analog: Add missing space (consistency).

commit 79bc9924d70d6c785c3ab28d35ac67f4a3601e1d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 1 16:40:36 2014 +0100

    uni-t-dmm: Fix incorrect order which breaks UT61B/C.

commit 7cb69b1870f507cf235e22463e9201427fb2f5d6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 1 15:25:39 2014 +0100

    Add support for the UNI-T UT61B multimeter.

commit 162a48bfc7e94598fb15911001f84f8b1c1bd77b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 31 19:22:16 2013 +0100

    teleinfo: Fix a compiler warning (clang).
    
      CC       libsigrok_hw_teleinfo_la-protocol.lo
    protocol.c:62:41: warning: missing field 'num_samples' initializer
          [-Wmissing-field-initializers]
            struct sr_datafeed_analog analog = { 0 };
                                                   ^

commit 42f2f8a533e33ab77e737fbd880ef6e06bdb2b93
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 31 19:21:04 2013 +0100

    gmc-mh-1x-2x: Fix compiler warning (clang).
    
      CC       libsigrok_hw_gmc_mh_1x_2x_la-protocol.lo
    protocol.c:133:32: warning: equality comparison with extraneous
    parentheses
          [-Wparentheses-equality]
                            } else if ((devc->scale1000 == 2)) {
                                        ~~~~~~~~~~~~~~~~^~~~
    protocol.c:133:32: note: remove extraneous parentheses around the
    comparison to
          silence this warning
                            } else if ((devc->scale1000 == 2)) {
                                       ~                ^   ~

commit 35b904a7924472522b1675427e9a630c2189a94f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 31 19:20:51 2013 +0100

    es519xx.c: Fix a few compiler warnings (clang).
    
      CC       libsigrok_hw_common_dmm_la-es519xx.lo
    es519xx.c:632:33: warning: missing field 'is_voltage' initializer
          [-Wmissing-field-initializers]
            struct es519xx_info info = { 0 };
                                           ^
    es519xx.c:659:33: warning: missing field 'is_voltage' initializer
          [-Wmissing-field-initializers]
            struct es519xx_info info = { 0 };
                                           ^
    es519xx.c:688:33: warning: missing field 'is_voltage' initializer
          [-Wmissing-field-initializers]
            struct es519xx_info info = { 0 };
                                           ^
    es519xx.c:717:33: warning: missing field 'is_voltage' initializer
          [-Wmissing-field-initializers]
            struct es519xx_info info = { 0 };
                                           ^
    es519xx.c:746:33: warning: missing field 'is_voltage' initializer
          [-Wmissing-field-initializers]
            struct es519xx_info info = { 0 };
                                           ^
    es519xx.c:773:33: warning: missing field 'is_voltage' initializer
          [-Wmissing-field-initializers]
            struct es519xx_info info = { 0 };
                                           ^
    es519xx.c:800:33: warning: missing field 'is_voltage' initializer
          [-Wmissing-field-initializers]
            struct es519xx_info info = { 0 };
                                           ^
    7 warnings generated.

commit 79a1176b3f027f0d29628d98a69c9e97864ed052
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Dec 30 19:23:54 2013 +0100

    fix endian neutral helper macro to return an integer type

commit 264c99eda2084659492c18e0e7d0e662319053d9
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Dec 30 04:00:41 2013 +0100

    ols: Use serial source management wrappers.

commit 9f5d4c3cc31bf6dd3ceac62dc8f5266c5f1189cf
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Dec 30 03:54:55 2013 +0100

    ols: Mark all serial calls as blocking or nonblocking.

commit 9a47421157a3881265daef50ffd11df9f444d1d9
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Dec 30 03:52:17 2013 +0100

    Add blocking and nonblocking versions of serial_read and serial_write.

commit cb410697fb0bab583624cb31db05185206c75bbb
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Oct 3 23:35:33 2013 +0200

    remove the es51922 protocol parser, superseded by the es519xx protocol parser

commit d97824e52e3367115860b60c10a5dbb63187f032
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Oct 3 23:30:18 2013 +0200

    switch the UNI-T UT61E driver to the new es519xx parser

commit 29bad967a437f3e14a01b043ccca483e890346bc
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Dec 29 17:15:42 2013 +0100

    es519xx: correctly handle the VAHZ function
    
    This handles the frequency and duty cycle display in voltage or current mode.

commit c3e871dc8e7df18a49a0ac244b86c9f8cb488c82
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Dec 29 17:14:37 2013 +0100

    es519xx: apply the proper fixed factor in duty cycle mode

commit e1f9f1e1f2c64e9501ba2ef79670b5e26f220ffe
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Dec 29 17:07:42 2013 +0100

    es519xx: fix switching between frequency and duty cycle mode on 14 bytes chips
    
    Here is what the datasheet says about this:
      "If judge bit is 1, it means frequency mode. If judge bit is 0,
       it means duty cycle mode."
    But this is plain wrong. Reality proves this is the other way around.

commit 4d2630e63a6456ab84d0968fbd8f1c319f034c46
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Dec 29 17:04:19 2013 +0100

    es519xx: correctly handle the voltage factor in diode mode

commit a7c01629f6e96a79912977ed7262841cedf4ddfa
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Dec 29 16:59:30 2013 +0100

    es519xx: fix continuity mode handling
    
    Depending on the chip, the limit value for the buzzer is between 25 and 35 Ω,
    so this code set the limit for continuity to 25 Ω to be on the safe side.

commit 5f985df23cb2a15d498d60fec8a4e5d14e38a7c0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 29 17:35:51 2013 +0100

    Add support for the UNI-T UT61C multimeter.

commit 683fd1613735d0e86c3b14c18b11d22492cee88a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 29 14:17:10 2013 +0100

    fx2lafw: Fix incorrect unitsize when a trigger fires.
    
    The unitsize was always being set to 2, regardless of whether an fx2lafw
    device with 8 or 16 probes was used.
    
    This fixes bug #182.

commit 87b545fba4d537a255dffcf2d8053908e3847480
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 29 14:09:34 2013 +0100

    fx2lafw: Minor cleanups.

commit 0709197deb6cfb5189a2402df23bbda6961793ce
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 29 13:20:09 2013 +0100

    rigol-ds: Correct usage of NUM_TIMEBASE and NUM_VDIV config keys.

commit bc7b7eb196b7e3f15bed857ee8b3533c0d899b3f
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 29 13:13:04 2013 +0100

    scpi: Strip trailing newline from *IDN response if present.

commit b178c79d35be85a3980248061655f15ca2fa85f5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 29 12:33:10 2013 +0100

    victor-dmm: Fix MIN/MAX always being reported.
    
    This fixes bug #228.

commit 8b2d41edb3fe095a71f1cb416fff4abf1402a8c0
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Dec 27 23:52:23 2013 +0100

    demo: Analog probe support.

commit c07f60e73dba95479c96650a94db77c3639639ce
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Dec 24 11:27:40 2013 +0100

    demo: User-configurable number of probes.
    
    The sigrok and incremental patterns repeat every 8 probes, shifted by
    one probe.

commit bf90d4c666cac50308577741e64d7cd42dbaad8d
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 23 00:01:59 2013 +0100

    Add config keys for setting the number of analog probes.
    
    This is primarily of use in the demo driver, but this patch also
    takes in the logic probe setting config key used only by the
    session driver so far.

commit 3699a8a1ff68a2f5f781c6ae74946adc8bc82673
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 29 10:57:38 2013 +0100

    Skip analog probes in logic-only output formats.

commit 05c644ea081f5973fcbb2429318b808b931edfe3
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 29 02:36:49 2013 +0100

    Revise SCPI read API to allow backend-independent data handling.

commit b76eca818a66c5bb5b409c44e46ac0f5d851b0ce
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 29 01:48:40 2013 +0100

    Add udev rule for Agilent DSO1000 series.

commit 227a0981c0da72df610306fe2eb4ca1cd26453f5
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 29 01:39:49 2013 +0100

    rigol-ds: Support the rest of the DSO1000 range.

commit 821fbcadcc18c0e88fa7d78156dadae4aa466b89
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 29 01:34:58 2013 +0100

    rigol-ds: Support 4 analog channels.

commit 0d9f5a12cb32758b739d4c816964d186fc6a8b54
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 29 00:35:09 2013 +0100

    rigol-ds: Use correct live waveform size for Agilent DSO1000 series.

commit 10afee13a3a08b4852d4214bc6d9f0ff468b1ce6
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 29 00:27:11 2013 +0100

    rigol-ds: Add support for Agilent DSO1014A.

commit 77c16c04639f0657bcb12e4b9f5201875f975b8a
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 29 00:26:54 2013 +0100

    scpi: Log IDN? result.

commit 32c426d204e6133b19db486504beffd33a6f6548
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 28 21:00:46 2013 +0100

    Add config keys for upcoming RF demodulator drivers.
    
    Langford driver will be first.

commit 07ccb2b3f1beda0f2bbb7cdbb830975b7bc739f2
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 27 23:28:17 2013 +0100

    rigol-ds: Fix rigol_ds_channel_start() for digital channels.

commit 9e4b7d98337658d02a1789b0b8a11939eb6ef087
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 27 23:24:40 2013 +0100

    rigol-ds: Use correct analog frame size for VS5000 series.

commit 6396b0a76bea8cf85f5501685bb77c776f0598a7
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 27 23:19:55 2013 +0100

    rigol-ds: Use set_cfg wrapper for capture setup commands.

commit 1fed20cb387550e858a48a59a2c42e96b7b01541
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 27 23:13:21 2013 +0100

    rigol-ds: Select channels before issuing RUN command.

commit 48460c6f3e46be7c60ab9ea5271ca773bce7d60e
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 27 19:50:48 2013 +0100

    rigol-ds: Unify partial read handling.

commit f80a0bf232b19009dece9517542717d4ea087390
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 27 18:56:59 2013 +0100

    rigol-ds: Unify code for counting expected incoming bytes.

commit 677f85d00bacfce05ad50ec2e9f6d7c47a761a43
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 27 17:03:13 2013 +0100

    rigol-ds: Use rigol_ds_channel_start() function for legacy protocol too.

commit 0d87bd93eb5323b3bb325814a786efe3e336618d
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 27 15:59:25 2013 +0100

    rigol-ds: Rename and document some confusingly named variables.

commit c36923b03b343bcdbda55e5167a36e1c63b527a7
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Dec 27 17:29:03 2013 +0100

    asix-sigma: fix incorrect pointer cast (non-aligned memory and endiannes issue)
    
    This fixes the following warning:
    
    asix-sigma.c: In function 'receive_data':
    asix-sigma.c:1064:4: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
        devc->state.lastts = *(uint16_t *) buf - 1;
        ^

commit 9ee78f234739be21bceb9caef1894dfaab39b8df
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 27 17:27:52 2013 +0100

    appa-55ii: Don't use _t suffix for a typedef.
    
    Names ending with _t are reserved for POSIX.
    
    http://pubs.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html
    (last line in table 2)

commit 53cd1c78f56c533652c8bc15f6823f3e92303606
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Dec 27 16:00:25 2013 +0100

    hameg-hmo: Support DC LINE coupling.

commit df823ac4445ed6f708136e208c8b8bd4930f4a9e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 27 16:18:28 2013 +0100

    Doxygen fixes: Hide private stuff, document some structs.

commit 00f24b9fd89e9edb34cf2cfd270020c8a40817be
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 27 15:50:27 2013 +0100

    Doxyfile/Doxyfile_internal: Ignore doxy/* when creating docs.

commit 170fbcb3f769e89a9f1d1d2394986dbc5a78ec21
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 27 15:36:22 2013 +0100

    Doxyfile/Doxyfile_internal: Update to same 1.8.5 template, sync them.
    
    This also makes the diff from Doxyfile to Doxyfile_internal more readable.
    
    Also, put public API docs into doxy/html-api/, private stuff into
    doxy/html-internal/.

commit b95dd7619d2add244c3173cad4c5ac53849171bc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 27 13:05:54 2013 +0100

    log prefixes: Cosmetics, consistency fixes, typo fixes.

commit 3544f848e0d7f67af8e11ce7ec344b34cd797df3
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Dec 23 03:38:35 2013 +0000

    Centralise duplicated logging helper defines.

commit dafafb0e9429fcc9185df1c861184ce79defb7ee
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 27 00:35:42 2013 +0100

    teleinfo: Minor cleanups.

commit 76b4d4f422060718673da16fee6ab054d505ab7d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 27 00:22:19 2013 +0100

    appa-55ii: Minor cosmetics, whitespace fixes.

commit 27fd2eaacb46c28c40dae8db6db762eb4e15aa60
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 26 13:15:46 2013 +0100

    gmc-mh-1x-2x: Use standard API callback names for now.
    
    If multiple functions need to be differentiated later, we can bring
    back more specific names.

commit 873e0c1295b78022ef95f7dd537fa2557f72c681
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 26 13:02:02 2013 +0100

    gmc-mh-1x-2x: Don't put driver-specific things in sr/SR namespace.

commit 3a6095d0058bb9989ec393295ced1718bde96a69
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 26 12:55:54 2013 +0100

    gmc-mh-1x-2x: Use 'di' variable to match other drivers.

commit ec29a878e0ca0b18969b00274744d0788234b54d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 26 12:52:29 2013 +0100

    gmc-mh-1x-2x: Fix two compiler warnings.

commit fc348b770a2a9354cdf407f7501c5098b63e4bd7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 26 12:51:18 2013 +0100

    gmc-mh-1x-2x: Cosmetics, whitespace, cleanups.

commit 7574e58c1a9f2c9665d9680a8b02ac30f407cdbc
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 23 01:53:30 2013 +0100

    appa-55ii: Coding style fixes.

commit 81a9ab725f9ce9125c9bc22bc5ebd2903c26bc35
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Dec 12 00:22:32 2013 +0100

    appa-55ii: driver implementation with Live and Memory data source support

commit 5e7a8e57d4c042b4a4673e9f9cef19306a8b861b
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sun Dec 1 01:13:44 2013 +0100

    appa-55ii: Initial driver skeleton.

commit e28ef28a3c9a5cd2c86e4ab4de2516ab82d91082
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Dec 12 00:20:47 2013 +0100

    endian neutral helper macro to read 16/32 bits integer from unaligned memory

commit f5027ca481d91fc92ec878d2eec2b6b446d3b7de
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Dec 12 00:18:00 2013 +0100

    add support for AVG mqflag

commit 61c39f54bbcae7bdde86ddb11b2fd0ff308d319b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 22 18:46:45 2013 +0100

    demo: Code cleanup.

commit 34ea7f9695794ea4654b26dd4aa6b79cdee90b71
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 22 17:38:24 2013 +0000

    Windows usb: don't try to resume thread if shut down in callback.

commit 6640324f7f2730dc5a120af90a849b8d8fee52fa
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 22 17:27:13 2013 +0000

    usb: Enforce that there can only be one USB event source for now.

commit b5328e1dfaf8a03ce503ab89abed0d83c58a7bb2
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 22 17:10:57 2013 +0000

    Windows usb: Unlock mutex when shutting down wait thread.

commit 589edd9b81bce493de73075c9cdd6a5928ed3f59
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 22 14:50:11 2013 +0000

    Winsock2.h must be included before anything that includes Winsock.h.

commit 5321ac6b5296cad499d6b27a8b3f04cef6611165
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 22 07:16:56 2013 +0000

    Implement usb_source_add and usb_source_remove for Windows.

commit 6c60facc190a03c50aa66d4b1d17c825fec5d20e
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 21 23:03:24 2013 +0000

    Use common usb_source_add and usb_source_remove functions.

commit ba1949f583de322e74f43eb880529155a763a84f
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 20 17:45:46 2013 +0000

    Use new libserialport event set API to make GPollFDs for serial sources.

commit 17e9317b247844ac09539a20e76e9e2548d64b13
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Dec 19 10:45:36 2013 +0100

    Bump minimum libusb version to 1.0.16
    
    This gets us the libusb version checking mechanism itself, hopefully
    making this sort of thing easier in future.
    
    Also hotplug, device tree traversal, and lots of fixes.

commit 95ecc765463462938200cf5cbcffba663f893c29
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 19 00:31:26 2013 +0100

    bbcgm-m2110: Minor cosmetics.

commit 825da8b20f8eb879cd6b3e7911b4aa7b35a5b9ed
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Wed Dec 18 23:37:42 2013 +0100

    serial-dmm: Add BBC Goerz Metrawatt M2110 DMM driver.

commit 5d03743096a1e850c6ccbb1eb902705a62604e80
Author: Matthias Heidbrink <m-sourcetree@heidbrink.biz>
Date:   Wed Dec 18 23:33:45 2013 +0100

    serial-dmm: Commented struct dmm_info.

commit e9a6213976eca51006e8459a5e3f062a88aee719
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Mon Dec 9 14:35:29 2013 +0100

    hameg-hmo: Move the declaration of the driver info out of protocol.h
    
    This fixes duplicate symbol error on Mac OS X.
    
    BugLink: http://sigrok.org/bugzilla/show_bug.cgi?id=216

commit cb7b165b3dc073c49729173132a37203e9d98838
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 17 17:46:24 2013 +0100

    serial.c: Show both error code and error message.
    
    This is helpful in many cases, e.g. when trying to identify which of the
    16000 system error codes from
    
      http://msdn.microsoft.com/en-us/library/ms681381%28VS.85%29.aspx
    
    has been encountered (which is not trivial if you only have an,
    e.g. German, string message alone).

commit 2eb84c983584490153fe2bcbf10cc7ceaf46d033
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 16 10:24:32 2013 +0100

    Doxygen: Consistently use @ notation everywhere.

commit 9d122af8f0c243278cc5edd79aae234aaa34984d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 10 18:18:58 2013 +0100

    Drop superfluous \n in some debug messages.

commit a582788653a34479c1523290cb9343e445085d71
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 10 17:39:31 2013 +0100

    Fix a few #include guard names.

commit 865730188c64765fd40fc45f28aed7fa5771550f
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 17 16:25:13 2013 +0000

    python: Use OrderedDict for input formats.

commit 772b21d42566f5ccf79075bfdf65a4e0e323f74b
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 17 16:10:08 2013 +0000

    python: Split up Device class and add InputFileDevice class.

commit 01e9ff61c2b32cd607c71c55b72b729851a19abc
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 17 13:11:43 2013 +0000

    python: Give config keys an auto lowercase name if they have none defined.

commit cad0acef5d21fefc4c5dd4c284d91f7be3f7deeb
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 17 13:01:35 2013 +0000

    python: Add ConfigKey.info and ConfigKey.<id> shortcuts.

commit 14e8eb33539dedf7760efff3165b3a0a1e09edbd
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 17 13:01:11 2013 +0000

    python: ConfigInfo: return None from constructor if not available.

commit 8593c8e30dcf9155d15b0bce7d943bf7fc82582d
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 17 12:47:49 2013 +0000

    python: Add ConfigInfo and DataType classes.

commit 409d85b3ac23c2915413c97354533f1d05f7dd9e
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 17 00:42:33 2013 +0000

    python: Finish output format support.

commit f0e764de7babf8004169732749040d9a2fc4ad71
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Dec 16 02:11:42 2013 +0000

    python: Finish input format support.

commit a64198c8ea721c3a7867e9a753f1a761b89769c9
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Dec 16 01:21:39 2013 +0000

    python: Add initial support for input and output formats.

commit 945e23a57dc5e639c96fd00294f735848f8d463e
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Dec 16 18:09:57 2013 +0000

    python: fix setting device/probe group configuration.

commit 4e5c64e35855885987b065e5923d0339d818680b
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 15 20:02:05 2013 +0000

    python: whitespace fix.

commit 5f9c4c8a34e6c1d122d36efd2e8263f0456541bd
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Dec 11 10:49:01 2013 +0100

    Detect non-existent file before libzip does.

commit 1e7134dc8cff3f28a312e41c997ed488fb071e96
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Dec 11 00:33:11 2013 +0100

    std: Don't build serial helpers without libserialport present.

commit 98582bf53f61043e6918be291648f8f6dfb5f6b4
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 9 22:49:12 2013 +0100

    Make API docs more consistent, avoid tabs to line up comments.

commit 5483bb8349d361be62ae5197b871afa6c8520c36
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Fri Nov 22 21:08:49 2013 +0100

    doxygen: Created Doxyfile_internal to extract „everything“ that is possible into a separate directory doxy/html-internal.

commit 04cb915716ecdc1ee26440b4c09bc2f2de183631
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Fri Nov 22 20:40:52 2013 +0100

    Improved doxygen docs.

commit 86fa0ef594dbe6492eb781d5b7f17722edbbf586
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Fri Nov 22 14:08:04 2013 +0100

    doxygen: Updated Doxyfile to doxygen 1.8.5.

commit 854434de0bc581f16f87f85595f473ee41ca9e0c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 7 21:36:27 2013 +0100

    Use std_serial_dev_open().

commit 23dc6661667b05a91b01ab6a6fa425aa57af6daf
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 7 20:26:15 2013 +0100

    std: Add std_serial_dev_open().

commit d43b090816f61e77d8054084e85202de1a1ebeb7
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 7 20:39:55 2013 +0100

    std: Standardize function name.
    
    std_dev_acquisition_stop_serial() is now std_serial_dev_acquisition_stop().

commit 37fa80b4be4808958340b56dc62265e2d4f14e85
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 19:42:35 2013 +0000

    Disable OLS driver on Windows.

commit b6eb8252e545f358d359d4aa7a01073f10f1cd00
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 19:35:50 2013 +0000

    Remove now-unused fd field from struct sr_serial_dev_inst.

commit bf72f649999a6e8741ffee1ca2850db4d478f9f8
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 19:35:13 2013 +0000

    ols: Get fd from sp_get_port_handle() rather than serial struct.

commit 64ecf7ee52aecdf225f4e45240025a4a734e351a
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 19:29:16 2013 +0000

    Eliminate internal usage of serial->fd in serial.c.

commit a0a4c0fb09cac1105ad03325d7232a8f492f181c
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 19:19:20 2013 +0000

    Use sp_get_port_handle to get an fd for adding/removing serial sources.

commit af473e0eb2db5475bdc1da6a87edb828d163c015
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 19:17:49 2013 +0000

    brymen-dmm: Use port name instead of fd in debug message.

commit 6936af3292b6a76a4ef5521fd8ea752333f13ae8
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 19:16:30 2013 +0000

    Use sdi->status instead of serial->fd to tell if port needs closing.

commit bf2c987fdef6787a5ce826ed9d98a70f52a1ff96
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 18:47:43 2013 +0000

    Use std_serial_dev_close() to replace matching dev_close functions.

commit 043e899a5155dcdc353abc20006424973d8e2ed0
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 18:41:09 2013 +0000

    Add std_serial_dev_close() function.

commit 7faa3e8821735e063e17fcad326c68aae14fe907
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Dec 2 13:06:08 2013 +0000

    Route sr_source_remove for all serial devices through a wrapper.

commit abc4b3356d184401cb62aaa521d1c80ebd7d6f0f
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Nov 30 12:54:02 2013 +0000

    Route sr_source_add for all serial devices through a serial_source_add wrapper.

commit b4936bae0a4b2e8527324416faf81704e53216d2
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 17:54:33 2013 +0000

    rigol-ds: close SCPI device after using for scan.

commit 721fc2272ea1e7f3036eca570380bafe40146859
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 7 16:11:27 2013 +0000

    scpi_serial: Iterate serial_write as necessary to send full commands.

commit bb9d6116f828c4790334d98c65414dcef660d169
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 7 18:50:12 2013 +0100

    filter.c: Work around const warning.

commit 764e7bbfec52f0530f1f965879b0d81a7fc9acb2
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sat Dec 7 17:09:06 2013 +0100

    filter.c: Fix endianness bug in sr_filter_probes

commit c1e45c6511eb4e9023095fc364913db85a092651
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 7 15:50:25 2013 +0100

    Minor whitespace fix.
    
    Really just for testing some git hooks.

commit c3e2b08dc9a252ada9b9a51ae47ea588135944e1
Author: Marvin Schmidt <marv@exherbo.org>
Date:   Tue Nov 26 08:50:52 2013 +0100

    Fix test failure
    
    The GError object has to initialized to NULL before being passed to
    g_file_set_contents or it will throw the following critical warning
    
    GLib-CRITICAL **: g_file_set_contents: assertion 'error == NULL || *error == NULL' failed
    
    and return FALSE, which leads to failed assertion and subsequently
    to the test failing

commit 0f4a4350579604c874e1ad4b741f9b059f3585f3
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 6 03:20:48 2013 +0000

    scpi_tcp: must define _WIN32_WINNT to 0x0501 or higher to get getaddrinfo().

commit 1c6736ab862815db0530cb01ba83e1556e2a55d8
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 6 02:26:58 2013 +0000

    Link against the ws2_32 library on Windows.

commit 789840741cc680908754531a3fcb59d313276677
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 6 01:55:04 2013 +0000

    rigol-ds: Enable for non-Linux, as it now supports other transports.

commit 987a053084b521f3f2af7beb2da68a24a24da363
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Dec 6 01:14:55 2013 +0000

    scpi_tcp: Fix building on Windows.

commit b9a5614dbf88d0046e4c1f22e1b8b7666c4f52f8
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 2 22:00:30 2013 -0800

    zeroplus: Rework triggerbar/trigger address logic
    
    This reworks the triggerbar/trigger address logic to match the values sent
    by the windows app for all models (The zerominus tool was used to reprogram
    the USB device ID on a single device). Additionally, the DONT_CARE_TRIGGERBAR
    register is always set by the windows app and does not seem to indicate that
    these registers are "don't care"'s.

commit c38e64c7425aaf82f8a49b702cae764c403d2acd
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 2 21:57:46 2013 -0800

    zeroplus: Clip sampling sizes larger that our sample memory
    
    Otherwise, we'll return a non-sensical result for our memory_size
    enumeration.

commit 3e43da1f70d48aba917026074d46ca4c91e43bf1
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 2 21:57:04 2013 -0800

    zeroplus: Add support for additional memory sizes
    
    The zeroplus can have up to a 8M SRAM. Avoid some extensive if/else
    blocks by noting that all sizes except the first are related by their power
    of 2.

commit e93fb98b8ab4f9aea905c027b69d08ceb64befc5
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 2 21:51:53 2013 -0800

    zeroplus: Rename max_memory_size to max_sample_depth
    
    This private variable is measured in samples, not bytes. Avoid confusion
    by renaming it.

commit d20844e28b82704aaf0a5929d7078f57b6c59f5a
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 2 21:47:14 2013 -0800

    zeroplus: Just wait until not busy on data capture
    
    While captures using a trigger do set the STATUS_READY bit, immediate
    captures do not set the STATUS_READY bit, they just clear the STATUS_BUSY
    bit. This was confirmed with packet captures using the "official" driver/app.

commit 60cc6f85795315d3257a55cc257bdc3e511b6f45
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Mon Dec 2 21:25:10 2013 -0800

    zeroplus: Add usb IDs for 32 channel models, but only use 16 channels
    
    The code needs some work to support 32 channels. Until then, support
    the 32 channel models, but only allow the use of 16 channels.

commit 7cf1a98d733b97656ef1b28259d5cd2b4190a104
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Dec 5 00:21:15 2013 +0100

    rigol-ds: Minor error reporting fix.

commit 91e406b9210b2b2c009e9ef8662d2634e5b6e997
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Dec 5 00:16:11 2013 +0100

    scpi/usbtmc: Prototype fixes.

commit bc03a7cc2ccadeb5951525fae708bd3f840836b0
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Dec 5 00:09:34 2013 +0100

    scpi/serial: Use stubs for all SCPI functions.
    
    Avoids some gcc warnings, since the SCPI prototypes don't exactly
    match serial_*.

commit 962af1a379f2c1715b22f0779ed3ebc6f0d8c2ec
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 21:38:05 2013 +0000

    rigol-ds: Support VS5000 series devices.

commit b8705e99e45224941d43f10438d69726d8f2d85b
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 21:32:47 2013 +0000

    scpi_tcp: Adjust to observed protocol for Rigol VS5000 series.

commit 3520422fc761d50830a45a43cd7d34cca589ad1b
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 20:42:22 2013 +0000

    rigol-ds: Support TCP connection.

commit 08a359138b3e363ecbba6396a939c48eeab31f92
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 20:23:14 2013 +0000

    Add implementation for SCPI over TCP.

commit 56868b5d6b7401f3916df1468b537bd0d04087f5
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 13:08:49 2013 +0000

    rigol-ds: Handle partial analog frame reads.
    
    Reading a frame over the DS1xx2 RS232 connection now sometimes works,
    but most of the time stalls part way through with g_poll showing the
    fd as not ready.

commit 9dfeb81b09377cd5413c7ccd448fca2e77615084
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 13:03:23 2013 +0000

    scpi_serial: Flush buffers after opening port.

commit 0dc7b43eb77865aae515039734d76d27ad156c6e
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 12:49:38 2013 +0000

    rigol-ds: Support RS232 connection.
    
    Probing tested OK over RS232 for DS1052E and DS1102D. Capture needs work.

commit 4d7a9a14a3cfeb4cba2a9996ac1e11d9cecf70fa
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 10:55:32 2013 +0000

    rigol-ds: Eliminate fixed-size buffer in set_cfg.

commit 87c410830d9967d9eea73ae18bef12e668b94e92
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 10:53:51 2013 +0000

    Add sr_scpi_send_variadic() function.

commit 17b5b202640c1ea5de09b0685a5ed6635f2e06df
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 10:25:15 2013 +0000

    Replace rigol_ds_send() function with sr_scpi_send().

commit 504f40a5749b34f2d0932868188e7d94da929be4
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Dec 4 10:24:52 2013 +0000

    Make sr_scpi_send() take printf-style arguments.

commit 1ef513807124f5c3f3706896fa943e9adf10ef30
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 3 23:31:32 2013 +0000

    Only scpi_serial.c functions need HAVE_LIBSERIALPORT, not scpi.c.

commit 4b4474ed6a4701e28961569eb777052d0b74673d
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 3 23:29:20 2013 +0000

    Remove SR_INST_USBTMC which is no longer used.

commit ae1bc1cc2631f5d56cdffb4d4426f0c2bdd30500
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 3 23:19:40 2013 +0000

    Port rigol-ds driver to use common SCPI functions.

commit a1ff9c1897262faa3b284ea5bb82593c45de70d0
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 3 22:56:32 2013 +0000

    Add sr_scpi_read() operation for reading arbitrary data.

commit 31034792da84daa5163b7d72bb98664c65aa7cc0
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 3 22:25:33 2013 +0000

    Implement SCPI over USBTMC.

commit 23f43dff15abf5202d81f36e062b0ae5b0ca01cd
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Dec 3 20:40:19 2013 +0000

    Make SCPI functions device independent, with separate serial backend.

commit 8d558c7a9fd96f60077fc2b176576846f5089110
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 3 17:16:59 2013 +0100

    strutil.c: Don't expose sr_atox() as API calls for now.

commit 082972e8c5deb48eba5c2b558e451dea1005e23f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 3 17:13:50 2013 +0100

    hameg-hmo: Reduce unnecessarily high nesting level.

commit 719eff68ad03b4acaea87e227eda361ef2e299be
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 3 16:58:34 2013 +0100

    hameg-hmo: Use hmo_ prefix for driver-local SR_PRIV functions.

commit 89280b1a4c0675b1383ccc6a5a63e8a2a6add05e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 3 16:48:21 2013 +0100

    hameg-hmo: Minor cosmetics, coding-style fixes.

commit d5976d8be5ee72a89e82b4a3baeae6eba48a8d3a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 3 16:08:59 2013 +0100

    scpi.c: Minor cleanups, cosmetics.

commit c6e35004cb7b5de7c2e9cff785d08589daf96e7e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 3 15:48:02 2013 +0100

    configure.ac: Don't build hameg-hmo if libserialport is not found.

commit 582b3d21d39526b602f3611ae0082eacfad8e11e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 3 15:37:36 2013 +0100

    configure.ac: Move Hameg HMO AM_CONDITIONAL to the correct place.

commit 13f2b9d789fdc7130c0f31b88319bd0f3445109a
Author: poljar (Damir Jelić) <poljarinho@gmail.com>
Date:   Fri Oct 25 18:15:00 2013 +0200

    hameg-hmo: Add initial working driver version.
    
    This patch adds initial support for Hameg's HMO oscilloscopes. It currently
    supports only the HMO compact series (70MHz-200MHz).

commit 06a3e78adb41974ed759b39812ba1f83fd21a5aa
Author: poljar (Damir Jelić) <poljarinho@gmail.com>
Date:   Tue Oct 15 20:45:14 2013 +0200

    hameg-hmo: Initial driver skeleton.

commit 1bd9e678ac2c00c4b6336ed2506c28cdcfe3a25c
Author: poljar (Damir Jelić) <poljarinho@gmail.com>
Date:   Fri Oct 25 18:13:20 2013 +0200

    serial: Add function to extract serial options.
    
    This patch adds a function for a common operation of all serial based drivers.
    It extracts the serial options from the options linked list that is passed down
    to every hardware driver.

commit 1a323dd887e655ac76133af1f018e3eeabd174e2
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Mon Nov 18 16:13:12 2013 +0100

    scpi: Add function to fetch uint8_t.
    
    This patch adds a function to read and parse a SCPI response which contains a
    comma separated list of unsignet 8-bit integer numbers (e.g "1,0,64").
    
    This is particularly useful if the instrument sends digital measurement data
    in this format.

commit 8acbb89a1dd38f15e53c5a46c226c074db5c4efa
Author: poljar (Damir Jelić) <poljarinho@gmail.com>
Date:   Fri Nov 1 20:40:04 2013 +0100

    scpi: Add function to get an array of floats.
    
    This patch adds a function to read and parse a SCPI response which contains a
    comma-separated list of floating-point numbers (e.g. "1.0e-5,2.0e-4,3.0e-3").
    
    This is particularly useful if the instrument sends analog measurement
    data in this format.

commit f5922adef5a866bd1c292436f1c4bc6b93103aef
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Sat Nov 9 12:49:08 2013 +0100

    scpi: Add a function to read and wait on a *OPC? reply.
    
    The SCPI standard specifies the "*OPC?" command (Operation complete query) which
    queries the instrument for its operative state. When all pending operations are
    complete, the instrument responds with a "1".
    
    Some manufacturers block before completing all operations and don't respond
    with anything and some of them respond with a "0". This function handles both
    cases uniformly.

commit d730f70e06653c60d65c668cce02f358decce991
Author: poljar (Damir Jelić) <poljarinho@gmail.com>
Date:   Fri Nov 1 19:27:44 2013 +0100

    scpi: Add more functions (getting int/bool/float/double).
    
    This patch adds helper functions to read an SCPI response and parse the response
    as an integer, boolean, floating-point or double-precision floating-point number.

commit aa1e3b400b95b7f16716bfd65a2ebbf870e42fa5
Author: poljar (Damir Jelić) <poljarinho@gmail.com>
Date:   Fri Nov 1 19:25:32 2013 +0100

    scpi: Add function to strictly parse bool strings.
    
    This patch adds a function that is similar to sr_parse_boolstring but its
    matching rules are more strict.

commit 7b9d73203163daa70273f0adfa854a1dc01f08f0
Author: poljar (Damir Jelić) <poljarinho@gmail.com>
Date:   Tue Oct 29 12:15:47 2013 +0100

    scpi: Add helper functions for SCPI communication.
    
    The Standard Commands for Programmable Instruments (SCPI) defines a standard
    for syntax and commands to use in controlling programmable test and measurement
    devices.
    
    SCPI documentation:
            http://www.ivifoundation.org/docs/scpi-99.pdf
    
    This patch adds helper functions for sending SCPI commands, reading a SCPI
    response and reading and parsing a SCPI "*IDN?" response.

commit 9e4f8cf93b465fb34b35b083935f45ba5427045e
Author: poljar (Damir Jelić) <poljarinho@gmail.com>
Date:   Fri Nov 1 18:40:06 2013 +0100

    strutil: Add helper functions: string to number.
    
    This patch adds helper functions for converting a string to different number
    formats (double, long, float, int).
    
    These functions are exposed in the public API.

commit 3ba7b61ab23ff61f112206601b8a57a5c5545ae3
Author: Dan Horák <dan@danny.cz>
Date:   Sun Dec 1 22:07:18 2013 +0100

    define correct variable for the unified Rigol driver

commit 66a435766721dd6ecdbce7b31a2f43c2e0752a12
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 1 19:30:35 2013 +0100

    serial-dmm: No error message upon 0 new bytes.

commit 9647ce694b1f76cc7196420bb9932e4ff6c8b349
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Nov 27 01:43:49 2013 +0000

    Use new libserialport blocking/nonblocking API calls.

commit 016f2e005ddbc604594c863dca8a89212bf46a5c
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 29 17:32:55 2013 +0100

    Fix memory leak when loading session files.

commit b3916147a505681a9c9612bbc2261c281d57b576
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Nov 29 01:40:50 2013 +0000

    rigol-ds: Fix duplicated "LA" probe group.

commit ae67644fe5340d9c6e450fb0443178af356e0647
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Nov 29 00:48:42 2013 +0000

    Create & use new sr_usbtmc_dev_inst for Rigol DS driver.

commit babab6225b44eeeb73aa62e281d50636ec170bd5
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Nov 29 00:14:54 2013 +0000

    DS2000 sample memory capture patches from Mathias Grimmberger.

commit 355de5a1101076d29c8d1c223c1b07b2bb6b06b3
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Nov 7 23:13:30 2013 +0000

    Fix handling second channel on DS2000 series.
    
    Patch from Mathias Grimmberger.

commit 6ff1394ed1be4700123e9c6165128eb39f294648
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Nov 1 21:49:05 2013 +0000

    rigol-ds: brown paper bag, using timebases instead of vdivs.

commit 7cc1a55091fc06c1c616c8d11c42abeb412cb994
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Nov 1 21:32:33 2013 +0000

    rigol-ds: fix calls to config_list with NULL sdi/devc.

commit bafd489094c42e626ee0b1964893a308751c50b7
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Nov 1 11:05:49 2013 +0000

    rigol-ds: Add support for DS2xx2 series.
    
    Based on patch by Mathias Grimmberger <mgri@zaphod.sax.de>.

commit 3086efdd73885820da142ce8c36053bbc3cf0e5f
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Oct 31 17:31:39 2013 +0000

    Rename rigol-ds1xx2 driver to rigol-ds.

commit 6c57446d415dfb21bea448513bd61a17867a64f8
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 26 22:20:30 2013 +0100

    Don't accept over 64 probes.
    
    The code is limited to 64 probes for now, so don't accept setting
    the probe limit to higher than that.
    
    See bug 194.

commit e4c8a4d7cb00c26d55a8600011ab22a33d4ab95a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 26 22:11:48 2013 +0100

    input/vcd: Coding style fixes.

commit 34539700795f6ef4879105818cf8ed4e7336d6c1
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 26 16:59:04 2013 +0100

    output/csv: Fix wrong cast.

commit c4d85a4026cd9c593521a635b1e477aac15eb86a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 26 16:29:43 2013 +0100

    serial.c: Re-enable serial_read() error reporting.
    
    libserialport now returns 0 (not SP_ERR_FAIL) as return value when a
    non-blocking read would return EAGAIN.
    
    This fixes bug #188.

commit 25b66c3c61629d2c679d3c1b6dea9e4a0c9f1a1e
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Nov 23 21:00:28 2013 +0000

    Use new libserialport opaque configuration structure.

commit 3182932d360303df459abce20dbe093ce9c453e8
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Nov 23 20:48:15 2013 +0000

    Use accessor for new libserialport opaque port structure.

commit 067b3836b2720866444e400e2f67562c68b981f4
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 26 01:50:21 2013 +0100

    gmc-mh-1x-2x driver depends on libserialport

commit 79b9a237bdf974c826d222086424bc1edb089976
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Nov 23 15:24:40 2013 +0100

    uni-t-dmm: Drop unnecessary DMM count.

commit 5e1f7c890d099ba47fca543936417a94f989445f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Nov 23 12:50:33 2013 +0100

    uni-t-dmm: Add support for the Tenma 72-7745.
    
    This is a rebadged UNI-T UT60E.

commit a147c7b416c51d115708dce56f096cf1fe8bfb06
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 22 20:03:03 2013 +0100

    hantek-dso: config_list(): Only SR_CONF_BUFFERSIZE needs sdi.

commit 7c07a1783e62dc76bce6238fb3a54160aefedbc3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 22 19:56:20 2013 +0100

    ols: config_list(): Handle SR_CONF_PATTERN_MODE.
    
    SR_CONF_PATTERN_MODE was not handled in config_list(), yielding
    non-working OLS support in PulseView (due to an assert), and a missing
    pattern list in sigrok-cli's --show output.
    
    This fixes bug #184.

commit 330af0ec899c3b5f0fd6943941d1785faba4dcb1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 22 15:13:04 2013 +0100

    Update to 3-digit libserialport package version format.

commit e2b238210187e40ad434f659e68d604ed5f523d4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 22 15:02:12 2013 +0100

    Make struct sr_session opaque.
    
    The fields of this structure should not be used directly by frontends
    (and none of the current ones do). Thus, make the struct opaque and hide
    its contents from the API.

commit f57924179d08dee9d24099233ffbee2123613a22
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Nov 21 15:47:09 2013 +0100

    gmc_mh_1x_2x: Completed driver for Metrahit 1x/2x
    
    This driver supports devices with “RS232“ interface (Metrahit 16I,
    18S, Siemens B1105 tested, 29S incomplete).

commit 367983a7443d12d85243215bdc83f6cbdd82daeb
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Tue Nov 19 22:30:34 2013 +0100

    Added SR_MQ_TIME and SR_MQFLAG_DURATION.

commit a970522b6d0551360f66ed08b10104f25cc0537c
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Tue Nov 19 22:26:53 2013 +0100

    serial: Allow 5 and 6 data bits.

commit 7b4edcb654d6b36da4369bac3688ad77f6132766
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Tue Nov 19 17:49:23 2013 +0100

    gmc_mh_1x_2x: Inital driver skeleton.

commit 13cd8197eb1980cae4c5676ef88717c2cc9164b0
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Nov 21 17:33:02 2013 +0000

    Update for libserialport v0.1 API.

commit c4650aca12630038fa034e2c0a2915073bdceedf
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Nov 20 22:06:01 2013 +0100

    Suppress compile warning

commit 8c273ac57ce34d5a8c8b5093413564af69968041
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Nov 19 12:03:20 2013 +0100

    output/text: Fix memory leak of internal state buffers.
    
    The text output module keeps buffers for internal state, upon receiving a DF_END
    packet it frees the internal context but the buffers are never freed.
    
    This adds a text_cleanup() helper function and registers it as the cleanup
    function within all the text output modules.

commit 61bab807f4b85660c07b1ac62a3ae2b35b333e5e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 20 00:42:08 2013 +0100

    DT4000ZC/TP4000ZC: Force DTR=1 on the serial port.
    
    This fixes the driver e.g. on NetBSD.

commit 4403c39fe4c681352d1bac7efc1725f4eecb6215
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 19 23:22:46 2013 +0100

    ols: Always open serial port in nonblocking mode.
    
    The scan() function was opening the port in non-blocking mode, the dev_open()
    function however was not using the SERIAL_NONBLOCK flag. This led to hangs
    in certain situations.
    
    This fixes the OLS e.g. on NetBSD.

commit 1a54044299c0da7bc894bf429fa306b236c10b68
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 19 20:09:59 2013 +0100

    serial.c: Minor cosmetic fix.

commit a82635f252167ccfb3c5e3e698439af62adca29c
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Nov 15 00:26:45 2013 +0000

    Use new sp_port_config fields.

commit e385e2ed90d9f66ed72124c8c4c9a04f771fe5e1
Author: Martin Ling <martin-git@earth.li>
Date:   Thu Nov 14 18:52:57 2013 +0000

    serial: Use new sp_set_config instead of sp_set_params.

commit 066d42b1c803e3b78b7d34df1f1516f729f81085
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Nov 19 01:08:19 2013 +0100

    serial: Fix leak in serial_open.
    
    A new sp_port is created every time we call serial_open (sp_get_port_by_name
    implicitly creates one for us), so free it every time we call serial_close.

commit 90c7f4e92d020a50b17bb64484209b6e5805003b
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Tue Nov 19 01:08:18 2013 +0100

    device: Fix leak if probe groups are created.

commit 1130e4229b2df4b9f308761928d44747cd568aee
Author: poljar (Damir Jelić) <poljar@poljar.org>
Date:   Fri Nov 15 16:54:55 2013 +0100

    rigol-ds1xx2: Send a SR_DF_END packet before acquisition stop.
    
    Without a SR_DF_END samples could be cached in the internal buffer of an output
    module and never flushed, therefore they would be missing in the final output.
    
    By sending a SR_DF_END packet we force the output to be flushed.

commit 449cc16bb279e5d3322846ce6bd390e867e71ccb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 15 12:23:09 2013 +0100

    serial.c: Temporary quickfix until a libserialport fix is done.

commit dc99135322eef1926da9aff7c9013154efbf3f3c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 15 09:48:34 2013 +0100

    libsigrok-internal.h: Fix libserialport.h name.

commit 26e0361cc61e8a2236f6667f3e2ac4edd3dc68d2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 13 22:43:26 2013 +0100

    uni-t-dmm: Drop unused packet_request callback.

commit c4f2dfd0f0df07e6e2b10e33c46c9c457c9c5016
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 13 19:56:13 2013 +0100

    configure.ac: libserialport is optional.
    
    Disable drivers that need serial port support if libserialport is not found.
    
    Also, disable building various other serial port related code in that case.

commit 0dcb0c981eccf8df444a9ab0d49dcacf791930f7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 13 19:35:27 2013 +0100

    README: Document new libserialport requirement.

commit 6a76efebc1f4d7dab7b1ec0819c2ac06b123f36b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 13 19:09:46 2013 +0100

    serial.c: Fix a few return values.

commit a0dfaa6c4c34fd37e4ea5294960526145e043e4c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 13 19:04:54 2013 +0100

    serial.c: Cosmetics, coding-style.

commit 0d4405ce5e9373d2dcd90a9188b79d79eaafae5d
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Nov 4 12:54:27 2013 +0000

    Update for renamed libserialport header file.

commit f2b830f71df551e68f85eace38b01f4c741da328
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Nov 3 23:10:17 2013 +0000

    Fix silly copy-paste error.

commit c9bc57b6bc0c13d7bf4fef60db3030f88eeebda5
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Nov 3 22:53:04 2013 +0000

    Update to new libserialport API.

commit a9bce5a56199e44d4e2ec42d7aab7f57f386d55a
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Oct 27 15:51:24 2013 +0000

    Use libserialport for serial port access.

commit 3220827c57d6c3970b925303000dca095d6cf900
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 11 07:53:52 2013 +0100

    error.c: Add SR_ERR_PROBE_GROUP handling.

commit a0dc461d7b2a345bd0e28e87e7bbf343825f0182
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 11 07:42:51 2013 +0100

    doxygen: Fix/improve 'struct sr_probe_group' documentation.

commit 57d0a2e195c6dac9e00bf6af3aa35bc394500b15
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 10 23:22:18 2013 +0100

    unittests: Update for probe-groups changes.

commit 58f433696301321bda26431789abb2ba05e56dde
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 3 14:16:10 2013 +0100

    rigol-ds1xx2: Unbreak listing of _VDIV and _COUPLING

commit 5f77dffc027b22a80998ac3037b87546004c6bca
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 3 14:15:35 2013 +0100

    rigol-ds1xx2: Unbreak listing of SR_CONF_DEVICE_OPTIONS

commit be60a9e4a97ab68a140511afca83db1f202e7a0e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 3 14:13:59 2013 +0100

    rigol-ds1xx2: Better error reporting when probe groups are required

commit 78bcc55afa19dc2d8432afccf2fb78a0114db509
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 3 14:11:43 2013 +0100

    rigol-ds1xx2: Minor coding style fixes

commit bdc955bc0628afc643e672ba1493a6bd6c3d8ce5
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 3 14:04:15 2013 +0100

    Add SR_ERR_PROBE_GROUP, denoting a probe group requirement

commit d3c74a6fb05118e32ad421443251b7b3288918f9
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 31 23:58:33 2013 +0100

    probe_groups: API changes required to implement probe groups.

commit ba358ffd83810fe0c03248992b9076fb435f7b4b
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 31 22:53:22 2013 +0100

    rigol-ds1xx2: fix bitrot in device cleanup code

commit e43fdd8d4f207046939c67d5f60481b42ca35650
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 28 22:11:43 2013 +0200

    rigol-ds1xx2: Don't assume valid sdi

commit 57ecdbd74245dab0b14b43e4ed5a470e50e63e42
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 28 22:11:05 2013 +0200

    Update API documentation

commit 45311368de0e860711cded2718c85f6e06c2d613
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 28 13:05:27 2013 +0200

    rigol-ds1xx2: Skip obsolete fields

commit af54bac90a98e3ab0c34b00e91bd31775f84e51f
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 16:02:12 2013 +0100

    python: Map probe group configuration to ProbeGroup attributes.

commit 417e9f3ab427ceb61bde663e357b67dfdac09371
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 15:46:48 2013 +0100

    python: Add classes for probes and probe groups.

commit f48e0249b45592811598c493b08a1fbf5219b659
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 14:48:56 2013 +0100

    rigol-ds1xx2: implement probe group specific options.

commit 3d3a601e803d4fe10e2f633b5f0e06104dcf9017
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 13:44:34 2013 +0100

    rigol-ds1xx2: create probe groups.

commit 5150ef336b69bfece769eef746f522270d6de90b
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 21:07:16 2013 +0100

    probe_groups: Add a name field to sr_probe_group.

commit 909cc050bf96ce7b26e5431cccfe44cc95c62842
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 21:05:03 2013 +0100

    probe_groups: initialise sdi->probe_groups to NULL.

commit 54e7a3d0d7bd80c993db9ff37b4a38ed38af7b0a
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 21:11:32 2013 +0100

    probe_groups: Update Python bindings for API change.

commit 5daed4bc6d984a4e03881bcc7fe9104e930a18e1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 21 00:45:01 2013 +0200

    Use priv for consistency

commit 8f996b89481670219c7576e2c68b128a0a2ce026
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Apr 20 01:00:49 2013 +0100

    probe_groups: API changes required to implement probe groups.

commit 8dce54f7aa9eed362f2c9e41412c6b71ba1a32b6
Author: Dan Horák <dan@danny.cz>
Date:   Mon Nov 4 10:53:36 2013 +0100

    update udev rules
    
    With usbtmc driver being classified under usbmisc in newer kernels the udev rules
    need an update.

commit 360079e78efaa44142458dde329042b97da68a87
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 3 23:34:21 2013 +0100

    configure.ac: Bump libtool/library version from 1:1:0 to 1:2:0.
    
    The libtool current:revision:age numbers change from 1:1:0 to 1:2:0
    (i.e., revision is increased) since the library source code has changed,
    but no interfaces were added or changed or removed.
    
    Details:
    http://www.gnu.org/software/libtool/manual/libtool.html#Updating-version-info
    
    This changes the library filename (e.g. on Linux) from libsigrok.so.1.0.1
    to libsigrok.so.1.0.2, but the SONAME (+symlink) remains the same
    (libsigrok.so.1) since this release is API- and ABI-compatible with the last.

commit 3f6549307bba0483a20e1f434aab5ae95005117e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 3 23:32:23 2013 +0100

    configure.ac: Bump package version to 0.2.2.

commit 8e2da1a650dade6529668d4b22e906ccec172b17
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 3 19:23:00 2013 +0100

    NEWS: Update for upcoming 0.2.2 release.

commit d69d26429f33b7ae15b786fcc73e644bbb153a60
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 4 00:18:47 2013 +0100

    output/analog: SR_UNIT_REVOLUTIONS_PER_MINUTE: Add missing break.

commit 21d464a7e53efc9ac9810d9301a12b6a56fdb061
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 4 00:46:45 2013 +0100

    contrib/z60_libsigrok.rules: Also mention UNI-T UT325.
    
    The same USB/HID based IC is used in the UNI-T UT-D04 cable (for various
    multimeters) and the UNI-T UT325 thermometer.

commit 8823146edff2f539fba48da807e011d94f1321f4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 4 00:41:56 2013 +0100

    contrib/z60_libsigrok.rules: Add entry for the Saleae Logic16.

commit 5724a20af7a6449204d79972c6804d6c9b34b3f8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 3 23:28:55 2013 +0100

    configure.ac: Fix list sorting (cosmetic).

commit 122d33d47d17fd56c6306190b7066d8819b43145
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 3 23:28:03 2013 +0100

    configure.ac: Move a teleinfo snippet to the correct place.
    
    This breaks some configure use-cases otherwise.

commit 9b2f03bbd2e5d5a6efe056645b34e17ace9d8b90
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 3 18:18:44 2013 +0100

    README.devices: uni-t-dmm devices need VID/PID now.

commit 5fa12e93e3f1cf2825591e76e1f63d974fec9cc2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 3 17:30:42 2013 +0100

    README.devices: Updates.

commit 53f05fa80f1f9d7657f1173f24d9d1e2b740a312
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 3 16:08:38 2013 +0100

    doxygen: @since tags document only last API change.
    
    If a function existed before but the API changed, the @since
    tag only reflects the release of the last API change.

commit ef1020f9cba528b542968b32fe662241e96e6119
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 3 16:06:15 2013 +0100

    HACKING: Updates, some additions.

commit b775d753e3874d69ee342b1d6c0961a6f1494f18
Author: Dan Horák <dan@danny.cz>
Date:   Sat Nov 2 16:47:11 2013 +0100

    rigol-ds1xx2: detect Rigol DS1xx2 with upgraded bandwith
    
    The bandwith in Rigol DS1xx2D/E scopes can be upgraded to 150 MHz in software.
    So detect also scopes with the upgraded bandwith.
    
    using libsigrok-0.2.1 + this change + commit da970d24ec (required for newer kernels):
    
    [dan@eagle sigrok]$ sigrok-cli --scan -d rigol-ds1xx2 -l 5
    sr: libsigrok loglevel set to 5.
    sr: Sanity-checking all drivers.
    sr: Sanity-checking all input modules.
    sr: Sanity-checking all output modules.
    srd: libsigrokdecode loglevel set to 5.
    sr: hwdriver: Initializing driver 'rigol-ds1xx2'.
    sr: serial: Opening serial port '/dev/usbtmc0' (flags 1).
    sr: serial: Opened serial port '/dev/usbtmc0' (fd 7).
    sr: serial: Wrote 5/5 bytes (fd 7).
    sr: serial: Closing serial port /dev/usbtmc0 (fd 7).
    sr: rigol-ds1xx2: response: /dev/usbtmc0 [Rigol Technologies,DS1152D,DS1EU150XXXXXX,00.04.01.00.02]
    sr: hwdriver: Scan of 'rigol-ds1xx2' found 1 devices.
    The following devices were found:
    rigol-ds1xx2 - Rigol Technologies DS1152D 00.04.01.00.02 with 18 probes: CH1 CH2 D0 D1 D2 D3 D4 D5 D6 D7 D8 D9 D10 D11 D12 D13 D14 D15

commit 3a8cad91374739ec7143b94894f14435c1d09426
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 31 13:47:30 2013 +0100

    metex14: Handle a few missing cases for overflow.

commit 88f544f27e56e8cd4a022d3de1f37153b941d158
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 29 20:31:24 2013 +0100

    Add support for the Metex M-4650CR.
    
    (the Voltcraft M-4650CR is a rebadged Metex M-4650CR)

commit 2b83d7fee11dddba7603e180c3528b14ff8aba0e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 29 18:10:10 2013 +0100

    Add support for the Voltcraft M-4650CR.

commit 4a35548bbee613149fa4fbfa3dd9eaacb7511376
Author: Marc Schink <sigrok-dev@marcschink.de>
Date:   Wed Oct 23 10:13:53 2013 +0200

    Initial Comma-separated values (CSV) input support.

commit 6bf4273ee8bb6477ba55e0540e370547bd804641
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 28 22:59:32 2013 +0100

    Fix two FreeBSD build issues related to libusb-1.0.
    
    FreeBSD's libusb-1.0 compatible library has a few differences compared
    to the "normal" libusb-1.0 from libusb.org which we have to work around.
    
    LIBUSB_CLASS_APPLICATION doesn't exist in FreeBSD's libusb, and
    libusb_handle_events_timeout_completed() doesn't exist either.
    The latter is basically libusb_handle_events_timeout() with an extra
    (unused by us) parameter, so the workaround is relatively simple.
    
    This fixes bug #185.

commit 71185b48a114a8278e8baac04f5053ae046fdbcf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 13 09:46:08 2013 +0100

    Unit tests for 'binary' input format & version APIs.

commit e790bd5cda9ccf99474b2d4998d3dd4e204416ea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 25 20:10:01 2013 +0200

    norma-dmm: Minor cosmetics, coding-style, consistency fixes.
    
    Also, add a missing "%" in an sr_err() and a missing parameter in
    another sr_err().

commit f8e76e2e74bf09024af50d68a0e90a558be126b9
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Oct 17 10:57:18 2013 +0200

    norma dmm: Implemented driver.

commit bfd48770fc18dae79d140120e6af3b7ac4bdb2ee
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Oct 17 10:57:17 2013 +0200

    norma dmm: Initial driver skeleton.

commit 1477a9a6dc4f470cb91c64c71c139825e8329adb
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Oct 17 10:57:16 2013 +0200

    std.c: Changed return value of std_dev_acquisition_stop_serial() for non-active device to SR_ERR_DEV_CLOSED for consistency with other functions.

commit 50a9aba21b912b44559290ece466b46aaa8840cf
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Oct 17 10:57:14 2013 +0200

    serial: Removed flag OPOST (turn off all output processing).

commit a510d55571a970fd90e6aca30771dd34bcc73296
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Oct 17 10:57:13 2013 +0200

    serial: Added flags CLOCAL (ignore modem status lines) and CREAD (start receiver).

commit 1b943b6d8b81be8b91216525a56007c5bdef43df
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Oct 17 10:57:12 2013 +0200

    serial: Added flag IXANY (any char will restart) to XON/XOFF handshaking.

commit 0c30b35fce5777592ff781ec9660b7e46f0af9c6
Author: Sean Young <sean@mess.org>
Date:   Sun Oct 13 12:36:02 2013 +0100

    saleae-logic16: claim device before using it
    
    The kernel warns:
    
    [ 7461.925685] usb 2-4: usbfs: process 11303 (sigrok-cli) did not claim interface 0 before use

commit 5542bee61b0e18e9ae3fa6edb361b8ed1bb77425
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Oct 3 21:20:18 2013 +0200

    teleinfo: actual parser implementation

commit 8e796cb438a80c6bcab5d44afaae0c74d757b673
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Mon Sep 23 22:02:02 2013 +0200

    teleinfo: Initial driver skeleton.

commit 45315d0460aa9d66b520f80dbd0dee66e48df12d
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Oct 10 22:28:35 2013 +0200

    add energy meter device type and related units

commit c02dc3e26141a13554828be9a4ffa2def857d2b3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Oct 23 18:41:13 2013 +0200

    metex14: Add support for pF (picofarad).
    
    This is used on some Metex DMMs.

commit ee6cb5a417713a3080d03be44643b47131d59e2e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Oct 23 18:07:54 2013 +0200

    metex14: Use case-insensitive string compares.
    
    This allows some other DMMs to be supported that use e.g. "kOhm" vs.
    "KOhm", and so on.

commit 1a807c13fcf4bc015fb22311c70292e9c51bb5f9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 20 14:45:20 2013 +0200

    metex14: Support DMMs with slightly different protocol.
    
    This adds support for DMMs with 5 digits in the protocol (instead of 4)
    and some more whitespace variants.

commit 71f1302b4b4b712149303d235876146e8d1d9af5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 29 17:43:28 2013 +0200

    metex14: Support DMMs with whitespace differences.
    
    Most Metex DMMs use e.g. "  mV" as unit field, others use "mV  ",
    though. Support these (and other) whitespace variants by stripping all
    spaces and only comparing non-space characters.

commit bfb926c1d2e248336dd57a5ab63cf503cb2b00b7
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Oct 10 23:11:06 2013 +0200

    es519xx: restore correct packet size

commit b21d7eebe24093269e78f84fb13e03f492abc502
Author: Matthias Heidbrink <m-sigrok@heidbrink.biz>
Date:   Thu Oct 17 10:57:15 2013 +0200

    serial: Changed order of flags PARENB and PARODD in deletion to same order as in setting (cosmetic).

commit 8819bf5a960c37561e2bbbffa2685ec477938083
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Oct 16 18:10:29 2013 +0200

    Bump libzip requirement to >= 0.10.
    
    We now use zip_int64_t and zip_get_num_entries() for example, which
    requires at least libzip 0.10. This version was released in 03/2012,
    which is old enough that we don't necessarily have to do a work-around
    for older versions. Thus, simply bump the requirement to >= 0.10.

commit 568dcacc1a43f5bfb5a103e6e9b6a5ad50ea2d08
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Oct 16 10:40:38 2013 +0200

    Better error reporting on session start failure

commit df6b0f99af1c2f4be963a7fb388e21a718cce6f3
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Fri Oct 11 01:36:52 2013 +0200

    ISO-TECH IDM103N: remove the useless -ser postfix

commit 94e9021b3ee2d18ef0480c6fa95f0d950cf12eb9
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Sat Oct 12 17:25:29 2013 +0200

    es519xx: correct initialization of es519xx_info structure

commit 93d719cde6dbd3cc79b035b223e5a0d4ab5926cb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 7 00:24:44 2013 +0200

    es519xx: Fix incorrect packet size, and a typo.

commit 72e1672fc9267cd34fe9e6b174a80ec6aae420d8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 6 14:59:10 2013 +0200

    es519xx: Cosmetics, coding style, minor fixes.

commit de737bfc11f37ecaf9e028ba17fceafe510fc68c
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Oct 3 22:10:25 2013 +0200

    add ISO-TECH IDM103N serial-dmm driver

commit c01bdebc575cc3abdba30610afa374f0364b0b94
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Oct 3 22:00:22 2013 +0200

    add cyrustek es519xx generic protocol parser

commit 87532f23a4dbfb6ae1454cbea4566725d5a7555c
Author: Aurelien Jacobs <aurel@gnuage.org>
Date:   Thu Oct 3 21:37:14 2013 +0200

    output/analog: add revolutions per minute unit

commit 2f9376117c804898eaf75c3efebdbd97b6d89695
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Sep 7 14:48:38 2013 +0200

    fx2lafw: Organize driver into api.c / protocol.[ch].
    
    This now matches the naming conventions of the other drivers.

commit fbf07e020995b2d50ef337a2c629b2b8997dd047
Author: Daniel Thompson <daniel@redfelineninja.org.uk>
Date:   Fri Oct 4 08:34:05 2013 +0100

    agilent-dmm: Fix SEGV during incomplete reply from meter.
    
    If buf contains exactly the string "Agilent Technologies" (for example if
    there are bugs in the timeout logic or serial driver causing the reply from
    the meter to be abridged) then this code will SEGV. This is because tokens[1]
    is NULL but only tokens[2] and tokens[3] (both of which are undefined) are
    NULL checked.
    
    Can be trivially corrected by NULL checking tokens[1] as well.
    
    Signed-off-by: Daniel Thompson <daniel@redfelineninja.org.uk>

commit 5715e84fe3335e519148d7f6252b046598a982a8
Author: Daniel Thompson <daniel@redfelineninja.org.uk>
Date:   Thu Sep 19 16:39:24 2013 +0100

    serial: Only sleep when no characters are received.
    
    g_usleep(XX) sleeps for *at least* XX microseconds but may sleep for
    longers (on older kernels the sleep will typically be 10000us). Thus
    byte receive loops containing an unconditional sleep will perform
    very poorly (for example it causes the scan in agilent-dmm to timeout
    prematurely).
    
    Even on modern kernels serial_readline() has a 2ms sleep per byte which
    means it will read at a maximum rate of half a character per millisecond
    (~4800baud).
    
    This is fixed by only sleeping when read() returns no data.
    
    Signed-off-by: Daniel Thompson <daniel@redfelineninja.org.uk>

commit 1b142b78274d74563a084299a01ef1a92206356f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Sep 24 09:25:32 2013 +0200

    README.devices: Various updates and additions.

commit ba26f45d1d0472597aa257eb1aaff61834ab7e5a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Sep 24 09:20:15 2013 +0200

    configure.ac: Don't build uni-t-ut32x if libusb-1.0 is not found.

commit 45c0841b2576fab58e7e059fd7fb839c740ba758
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Sep 24 09:16:44 2013 +0200

    uni-t-ut32x: Shorten dev_list().

commit 1ca48e29d436ccbd2a8faefd388840ca6de7aebf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Sep 24 09:02:38 2013 +0200

    Makefile.am: Add missing HACKING file.

commit d5c5ea2a29d1a7063e26327b87fa820dc1babd16
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Sep 24 09:00:16 2013 +0200

    libsigrok.h: Fix enum entries order.
    
    New enum items must be added at the bottom of the respective "category"
    within the enum in order to not change any numbers (i.e. break the ABI).

commit 72a08bccffe5a73376113e07287327e4f89d270f
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Sep 25 11:51:38 2013 +0200

    Minor documentation fixes

commit 5451816fd1676eab2942aba8cec6188451772760
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 21 17:44:49 2013 +0200

    When adding a device instance to a running session, start acquisition on it

commit f438e0c923a114d7fd34fe0729ecd6891cb262f4
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Sep 18 13:28:07 2013 +0200

    Add sr_session_append(): add captured data to an existing session file
    
    This extends the session file format to contain logic data files named
    either "logic-1" as before, or "logic-1-1", "logic-1-2", ...
    representing chronologically ordered chunks of captured data.
    
    The chunks are transparently concatenated together by sr_session_load().

commit 6ebe003985ac566fb2a35f1c5df8207dc9947d01
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Fri Sep 6 22:27:46 2013 -0700

    ols: fixed demux mode disable noise filter
    
    Demux flag wasn't getting set off if one non-demux sample was ran
    beforehand.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit 6a53bde6716ce761af11e2bf34527ece629d0c21
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Thu Sep 5 23:38:59 2013 -0700

    ols: Moved FLAG_FILTER to demux check
    
    Demux mode was having filter mode set which it doesn't
    support per FPGA demon core docs.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit 4ac4595ad08e58a3f1e6310fffb34624ce6f4c07
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Sep 4 09:36:47 2013 +0200

    configure.ac: Properly use $HW_ENABLED_DEFAULT everywhere.
    
    Otherwise --enable-all-drivers / --disable-all-drivers doesn't work
    correctly.

commit c542391f8243e9307950820fa8dc3fad6fec3600
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Tue Sep 3 20:47:10 2013 -0700

    proto: Add missing prototype in proto.h
    
    Add missing prototype sr_session_dev_list that was
    breaking the Pulseview build.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit 2bb311b482d587a7d20c35bf54f084bc0011d72d
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 2 14:24:32 2013 +0200

    New API function sr_session_dev_list()
    
    This exposes the list of devices added to the session. In the case of
    loading a session from file, these struct sr_dev_inst are otherwise
    not exposed to the frontend. See bug 145.

commit fa93154fe6cb0962c1a1551dacb6619a7b3f4810
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 2 14:23:42 2013 +0200

    Properly initialize session

commit e52bb9be8351b8c4f960d998a62dfbd05b8fa637
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 1 13:10:54 2013 +0200

    Voltcraft VC-830: Fix diode mode handling.
    
    This DMM is not using the standard bits in the FS9922 protocol/structure
    to indicate the "volt" and "diode mode" flags. Instead, it only sets the
    user-defined bit "z1" to indicate both "diode mode" and "volt".
    
    This fixes #142.

commit a6ed50f4055b9377d1ebe9e4b886ae357acc578e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 1 13:40:17 2013 +0200

    es51922/fs9721/fs9922/metex14: Use diode MQFLAG.
    
    This fixes #141.

commit 98494dc8a393f6e1b73fddb1e59aa3a3f590d764
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Sep 1 13:41:02 2013 +0200

    fs9922: Fix typo.

commit 045e9a99186396694fb10f3155a7fb868705ecb8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 30 16:34:39 2013 +0200

    serial.c: Drop unneeded <glob.h>.
    
    This is no longer used, and also it is not available on Android and thus
    breaks cross-compilation for Android.
    
    Thanks Marcus Comstedt <marcus@mc.pp.se> for reporting.

commit e6523173cff4b39e78566495786e43f0917c860f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 30 08:57:09 2013 +0200

    output/analog: Support all known MQFLAGs.

commit b1de040700de67dd41a881922f21a691c3aec77e
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Thu Aug 29 00:06:53 2013 -0700

    ols: fixed channel limit check
    
    For demux mode we half the channels. Previous check method broke
    the OLS randomly and but it in a bad state.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit da970d24ecfcf67f89a9532f3a53ade8cb1131ed
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 30 13:57:15 2013 +0200

    rigol-ds1xx2: newer Linux kernels have USBTMC in /sys/class/usbmisc

commit f51acd69d74b007281f6016e466d026d61a375f3
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Tue Aug 27 22:17:05 2013 -0700

    ols: combine demux samples
    
    demux mode allows DDR sampling which disables group 2 & 3
    and thus samples group 0 & 1 to sample on rising and falling of
    the clock.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit 7b0a57fd1c1d1b658864b81df2357849ccc4715c
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Tue Aug 27 21:19:56 2013 -0700

    ols: add swap channels feature
    
    Allow channel groups to be swapped. This is useful
    for demux at 200mhz with the unbuffered channels.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit de524099823d7a7b9aeae3e87e79c14cfc809fd6
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Tue Aug 27 21:19:55 2013 -0700

    ols: Display noise filter flag
    
    Show if noise filter is on. This is important to be
    sure is off for demux mode.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit 00d04d3b0eca2898409fe78b33c1bbf177cd8504
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Aug 27 00:33:20 2013 +0200

    ols: Fix RLE count handling
    
    The high bit of the sample, denoting this is a count, was not getting
    properly cleared. This resulted in an inevitably negative count, and
    corruption of the sample buffer before it was transferred to the
    frontend.

commit abb39e6b8c9f2d512920dce440c0d8dd7a9a90f0
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 26 23:42:09 2013 +0200

    ols: Properly initialize entire single-sample buffer before start
    
    The single sample buffer, up to 4 bytes long, was not getting initialized
    on (every) acquisition start, only after the first full sample was in.
    This caused the first sample to potentially hold garbage.

commit eb1b610b1281bd83cb4dbd02b2eccdf4888bb093
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Sat Aug 24 22:01:15 2013 -0700

    ols: add external clock support
    
    Add external clock support that allows you to use the tracing
    targets bus clock line for sampling.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit 967760a8937e997ba9d7b729442f882947be154e
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Sat Aug 24 22:00:52 2013 -0700

    ols: add test mode support
    
    ols allows both external and internal test patterns at ~20khz
    which are helpful for unit tests and demos.
    
    pattern=internal -> route pattern internally to all 32 pins
                          (input otherwise disabled)
    
    pattern=external -> generates pattern on unbuffered pins 16:31
                          (which can be looped back to the buffered pins 0:15)
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit 503133bb5fcf9304d9bd93c023bc9c6c20c3aa0b
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Fri Aug 23 21:42:51 2013 -0700

    ols: fixed parallel stage triggers
    
    Stage count was always getting incremented one more than
    actual stages, and this caused a extra stage with zero'ed data
    probe lines to have the start bit field.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit d0107565c1e61e7b705fb9c0c84c72490da57d8f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 21 11:41:21 2013 +0200

    saleae-logic16: Drop unneeded NUM_PROBES.

commit 87b537ced00b56ec7c8b3cfb9ea375a5501017d2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 21 11:37:40 2013 +0200

    saleae-logic16: Shorten dev_list() implementation.

commit 96484e22b46af66216d1e0357c6e3478494d416c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 21 02:02:41 2013 +0200

    saleae-logic16: Whitespace fixes, cosmetics.

commit 186dde8d724c19fc62eb7c0d5dcabfd98579d7ee
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Mon Aug 5 18:34:47 2013 +0200

    saleae-logic16: Cleanup the prime_fpga function
    
    The driver should now work on any Logic16.

commit fec7aa6a44fdd3ed835bd2b15ea5cf63beecda10
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Mon Aug 5 12:05:40 2013 +0200

    saleae-logic16: Update copyright blurbs.
    
    Copied copyright lines from fx2lafw driver, since much of the code is
    taken from there.

commit db11d7d2d05c9e38978ae92920d96b61cf982d14
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Aug 4 16:20:07 2013 +0200

    saleae-logic16: Add voltage threshold conf.

commit b117363ad7510e300501612c0cda23b81adeccc5
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Aug 4 14:28:04 2013 +0200

    saleae-logic16: Declare confs.

commit 7b5daad45c6526f6eed368e30d262dcbe610b7f5
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Aug 4 13:46:35 2013 +0200

    saleae-logic16: Implemented acquisition.

commit 15abcf0f5888dab4c077af6600fab219342af830
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sat Aug 3 00:35:44 2013 +0200

    saleae-logic16: Initialize the FPGA.
    
    The map_eeprom_data function is currently unknown.  The map entries
    provided were observed via bus-snooping of the vendor software on my
    device.  Other devices may need additional values.

commit 5eea4305ad108b8549257170985688004e65d00b
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Fri Aug 2 21:02:00 2013 +0200

    saleae-logic16: Reworked scan/open to handle FW upload.
    
    The new code is based on code from the fx2lafw driver.

commit f6a21fa50c3276eab4aacf61cae4ecfb16a98e73
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Wed Jul 31 16:53:35 2013 +0200

    saleae-logic16: Detect the hardware.

commit 6383365795b8f9a3408315f8726fa75fa25e19d1
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Wed Jul 31 11:44:57 2013 +0200

    configure.ac: Fix build when libusb-1.0 not available.
    
    The Saleae Logic16 needs libusb-1.0, thus disable this driver when
    libusb-1.0 cannot be found.

commit c463dcf06cdeb7f6ec0d2bafda707cce3a486bf0
Author: Marcus Comstedt <marcus@mc.pp.se>
Date:   Sun Jul 21 12:30:32 2013 +0200

    saleae-logic16: Initial driver skeleton.

commit 56e76981bc5e8e8d138275ad215e96d8ab4939af
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 11 10:52:43 2013 +0200

    uni-t-dmm: Require conn parameter for scan
    
    Since the uni-t-ut32x series handles devices with the same USB VID.PID,
    which is linked to the WCH CH9325 USB/HID-UART interface chip, this
    driver can no longer assume it can handle anything with this VID.PID.

commit d6ff054ae58f1423282d52c37ac9e76296163504
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 11 10:44:03 2013 +0200

    uni-t-ut32x: Full acquisition support

commit 6513f97fbe18ba1f4a093e882b0d19284234b8b3
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 9 22:39:15 2013 +0200

    uni-t-ut32x: Flesh out driver

commit 3877dde43a08c23e37a6d944321005320bdcf784
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 9 00:29:04 2013 +0200

    uni-t-ut32x: Initial driver skeleton.

commit 4a8bbed76d127663e62d83f6a3ac5b7e315e5f00
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jul 22 19:48:15 2013 +0200

    center-3xx: Initial Center 309 / Voltcraft K204 support.

commit 4433145f481d077570b371b466e98b17a77ec7e2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jul 19 09:35:48 2013 +0200

    center-3xx: Initial driver skeleton.

commit fc1bb735e4ce1fd4e8a109b50d2fd698dec39aac
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Aug 8 19:39:50 2013 +0200

    Doxyfile: Set version to "unreleased development snapshot".

commit f6b59690146fc45050cef965a6be1590b47852b9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 7 01:08:37 2013 +0200

    Bump package version to 0.2.1, libtool version to 1:1:0.
    
    The last release (0.2.0) had the libtool version (current:revision:age)
    set to 1:0:0. Since this release doesn't add/change/remove any
    interfaces, only 'revision' is increased, resulting in 1:1:0.
    
    http://www.gnu.org/software/libtool/manual/libtool.html#Updating-version-info
    
    Frontends using libsigrok don't need to be recompiled or relinked.

commit b11df97ad5650e17f336373b5170b4ff02e4e2aa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Aug 6 22:32:46 2013 +0200

    Doxyfile: Change version to 0.2.1.

commit f93c89b2140e1f1b67f7822887322376a9b92448
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Aug 6 22:31:18 2013 +0200

    NEWS: Add entries for the upcoming 0.2.1 release.

commit 6cda4600c14e20e8849a071413bf70890979eadb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 7 00:40:51 2013 +0200

    README.devices: Minor documentation updates.

commit 1861be0baf8792e48e0bc009a20074210b2c1370
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 7 00:34:06 2013 +0200

    Make sr_session_iteration() static.
    
    This function is not used outside of session.c at the moment, so make
    it static for now.

commit cdc30138c54a781c83a0b125e26216b6799cb045
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 7 00:28:40 2013 +0200

    udev rules: Add missing IKALOGIC ScanaPLUS entry.

commit ce95428cca4ee7f8263389dd44a02d228d2be88e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 7 00:22:14 2013 +0200

    Consistent use of "IKALOGIC" spelling.
    
    The company name is written all-caps pretty consistently on the
    vendor website and docs, so use that spelling everywhere.

commit b07b42f319488d821d23c3310133872df70987c5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 7 00:18:36 2013 +0200

    Cosmetics, typos.

commit 059f36325e456e71a66beab929ee04e9d43475eb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Aug 7 00:03:14 2013 +0200

    unittests: Comment out a testcase.
    
    The boundary test-case with SR_GHZ(18446744073ULL) currently fails, but
    that is not practically relevant so comment it out for now, until we add
    a proper fix.

commit 094e6b815972240fbc210f8c5ef2eaa8c989fbc0
Author: Peter Stuge <peter@stuge.se>
Date:   Tue Jun 4 02:20:57 2013 +0200

    Format decimals correctly in sr_si_string_u64()
    
    The function previously formatted 1004 as 1.4 k and 1004000 as 1.4 M.
    The function now formats 1004 as 1.004 k, 1004000 as 1.004 M and
    1004000000 as 1.004 G.
    
    Fixes #73.

commit ba253f2bb97b7a69ad8b486f411d8d81d33792a4
Author: Paul Sokolovsky <pfalcon@users.sourceforge.net>
Date:   Mon Jun 3 22:23:57 2013 +0300

    Fix sr_si_string_u64() test cases.
    
    The function shall format 1004 as 1.004 k, 1004000 as 1.004 M and
    1004000000 as 1.004 G.
    
    References #73.

commit e11a1ebaccd6232227cdbec24e2b2654940f1138
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Aug 6 21:45:27 2013 +0200

    alsa: Fix double-free issue.
    
    This fixes bug #129.

commit 4d7ddff75b8c23fc8d5355c480df029b130cec0c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Aug 6 23:25:18 2013 +0200

    uni-t-dmm: Fix UT61E bug related to the UNI-T UD-D04 cable.
    
    This fixes bug #136.

commit ee2cc2d4dc42d833f549f476dd93654c0c674cec
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 5 14:52:44 2013 +0200

    ikalogic-scanaplus: Don't build if libftdi was not found.

commit 37d80736ab601a2e6fb9bf846c9790c3cac8d8ac
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 5 13:34:10 2013 +0200

    kecheng-kc-330b: Don't build if libusb-1.0 was not found.

commit 1a0c33822077e5c8a13d1a98961c6b9090181427
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 5 13:19:21 2013 +0200

    .gitignore: Add some files from the testsuite.

commit 59142ae17756417781018cf81f5a69ba6654f3b2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 5 13:16:31 2013 +0200

    Disable mso-19 per default, mark experimental.
    
    This driver is not yet in a really usable or working state, it'll be
    re-enabled by default when we're sure it works properly.

commit c51bbdec345b0d7e1c9013e0a1bea2586cf6daa7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Aug 5 12:59:23 2013 +0200

    Drop nexus-osciprime skeleton for now.
    
    This is mostly just a skeleton driver framework at the moment, we'll
    bring it back when the driver is fully implemented.

commit c93ebace3053de2ca37a280fec5e0f7ca036df08
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Aug 2 01:02:03 2013 +0200

    uni-t-dmm: Drop DMM table (comment).
    
    This info is in the wiki already, no need to duplicate in the code.

commit faf720246ae6ec17e9ac47ee28c0320c1cfbd956
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 1 19:14:49 2013 +0200

    ols: Workaround for mac os X stray events

commit ce4d26ddf96ceb62ada8ccd25347976ac5e4029f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jul 31 13:09:48 2013 +0200

    Various cosmetics, whitespace, consistency fixes.

commit 1663ebe27f95a297c36dd8e9e494dec1fe9c6be7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jul 31 12:31:47 2013 +0200

    udev rules file: Only list supported devices.
    
    The udev rules file should only list devices that are actually supported
    by a driver in the current libsigrok version. Thus, drop all entries for
    devices which will get support later on (at which point the respective udev
    rule will be re-added again).
    
    Also, add a few missing entries.

commit d1056603a00b92d12170e6e7d3da33473147c5f5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jul 31 12:22:06 2013 +0200

    udev rules file: Drop URLs and lsusb.
    
    The URLs to vendor webpages and the full lsusb are in the wiki
    already, no need to duplicate them here.

commit f6eb2cb555aa79d57a20a754df66e83d897be668
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 18 15:06:06 2013 +0200

    Make sr_session_iteration() private

commit 2b691be80654ca0cba58576c907c2c3e02e1f680
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jul 17 22:17:17 2013 +0200

    serial-dmm/uni-t-dmm: Drop Tecpel DMM-8060.
    
    The Tecpel DMM-8060 was added since we assumed it would be a rebadged
    Voltcraft VC-820 (since we know the Tecpel DMM-8061 is a rebadged VC-840).
    
    However, according to the vendor webpage it doesn't have PC connectivity
    at all, so drop it for now (until someone can confirm that it does or does
    not actually have RS232/USB connectivity).

commit e84e0096db5eb2b00300abe5e40487b190dd291d
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 16 17:18:20 2013 +0200

    Fix build

commit b979d0c9cbf3a697c0ac4b06031ffb18b5f60006
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 16 17:17:54 2013 +0200

    kecheng-kc-330b: Code cleanup

commit d406dccd6a7486d3a2913338d4d023aa93322de3
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 16 15:58:46 2013 +0200

    lascar-el-usb: Don't close device after acquisition

commit 85ed4ab3bae4e5a6fbc741c4c8f8e2d9923e9594
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 16 15:58:11 2013 +0200

    kecheng-kc-330b: Acquisition from stored logs

commit b483be7456fbc2e29efa50a49f6e8d60a8107527
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 15 14:14:28 2013 +0200

    Add sr_session_iteration() API function

commit f336618c3d1dc766da1c9f8ba46b322de9c746fa
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 25 22:00:29 2013 +0200

    kecheng-kc-330b: Check device status before acquisition
    
    Can't really count on it either way though, the device is just
    too flaky to conclude whether it's going to work or not, regardless
    of the status returned.

commit df03552894dc80e2de6f818622936663c5b05946
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 25 14:09:01 2013 +0200

    kecheng-kc-330b: Live SPL acquisition

commit bc7be4a9f4940dd9708208bddab87bd190ef816f
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jun 24 13:24:43 2013 +0200

    kecheng-kc-330b: Implement all SR_CONF options

commit c8bab81c5c862868ea8bf7e72d240c8fc24627e7
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jun 21 15:58:08 2013 +0200

    Add Kecheng KC-330B

commit a8806f032cb0fe3d86d9c75ed7069d6bdf6c78ea
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jun 21 15:57:48 2013 +0200

    kecheng-kc-330b: Flesh out driver, add scan functionality

commit ed759a08351394a060ad9352bf2617d41bdeea28
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jun 20 21:31:31 2013 +0200

    kecheng-kc-330b: Initial driver skeleton.

commit ab4bb6eb7c6d7ab2eb212088a764fb696726c8dc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 4 15:32:20 2013 +0200

    ikalogic-scanaplus: Initial driver implementation.

commit fdf4a1f5a0a04046ec014786b4a8fce125e1163c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jun 21 17:15:10 2013 +0200

    ikalogic-scanaplus: Initial driver skeleton.

commit a7a163a795c9ad8cb06b5fe5458d7c98c405bf5a
Author: Florian Knodt <git@adlerweb.info>
Date:   Fri Jul 5 14:02:50 2013 +0200

    Support for UNI-T UT60A/E multimeters via RS232 or USB

commit fb8d593cfea094dd50d74873c8c00445eb0a040f
Author: Marc Schink <sigrok-dev@marcschink.de>
Date:   Tue Jul 2 21:52:23 2013 +0200

    Use GET_REPORT request for device to host transfer.

commit f05e7b7a9bf32388afc5dad77448621164887b7c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jun 22 17:12:38 2013 +0200

    error.c: Simplify and shorten.

commit 45bb47a7f7ea3062b7df1e505fb6687f63d6c1e0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jun 22 17:05:57 2013 +0200

    README.devices: Minor updates.

commit c134574938ef5746775ac62e10025da34d83ae47
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jun 22 16:53:13 2013 +0200

    uni-t-dmm: Add support for the Voltcraft VC-830.

commit 6045b91aa43bd824db528e2cc52d93ebf8a819d4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jun 22 16:48:00 2013 +0200

    serial-dmm: Add support for the Voltcraft VC-830.

commit 32be5b22462fa271c8837694d7f242a0bda2f2f7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jun 21 15:18:33 2013 +0200

    configure.ac: Move an AM_CONDITIONAL to the correct location.

commit 1f36a6c6852d175b5b0ad37bd5da8da039cc2896
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jun 21 15:11:36 2013 +0200

    configure.ac: Fix build when libusb-1.0 not available.
    
    The IKALOGIC Scanalogic2 needs libusb-1.0, thus disable this driver when
    libusb-1.0 cannot be found.

commit cea26f6e9f1a58f28a4b790756a2f95dcf0eaa9d
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jun 20 14:35:34 2013 +0200

    cem-dt-885x: Support for retrieving stored samples

commit 662172d4f4eaada1b4a107317ca085c80ff38954
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jun 19 12:23:30 2013 +0200

    cem-dt-885x: Support for SR_CONF_DATA_SOURCE
    
    This device can do both live and memory-based acquisition.

commit 6caeef6ee5795232b78c8986619f8919e2b09c8c
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jun 19 12:18:00 2013 +0200

    Add SR_CONF key for data source

commit 4c22355f046fefff812042ef9764199df17fb809
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jun 17 15:46:14 2013 +0200

    cem-dt-885x: Support for powering off the device

commit 32de50b7f3f0155589d90b273cac6b0c3dcfeec6
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jun 17 11:54:37 2013 +0200

    Add SR_CONF key for powering off a device

commit f157b2eebb8523792bd085eeb8fb3632b5d4c172
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jun 17 01:26:25 2013 +0200

    cem-dt-885x: Support for sound pressure level measurement range

commit 8417ebad122cfade0f9ae6db6cbd8e7249156753
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jun 17 01:25:41 2013 +0200

    Add SR_CONF key for sound pressure level measurement range

commit 0cd9107dfb6fc36d816fd93a7b45dc2e0a990578
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 16 13:23:58 2013 +0200

    cem-dt-885x: Fix datalog on/off setting in max/min hold mode
    
    As it turns out, the device randomly decides to send no logging state
    info when max hold or min hold mode is enabled.

commit a90e480cdc808d0c91eecc6b5078e745a751882b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 16 12:14:09 2013 +0200

    cem-dt-885x: Support for max/min hold modes

commit 9fd6bc205433eae242960e9e976d28ac0fd20254
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 16 12:12:20 2013 +0200

    Add SR_CONF keys for max/min hold modes

commit 1487ce4fbc0368058d16d42666fd8703e976f072
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jun 15 13:00:41 2013 +0200

    cem-dt-885x: Support for changing time weighting

commit be73391982fc49c9eab45f6863eaca08e76a8b48
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jun 15 12:17:55 2013 +0200

    cem-dt-885x: Support for changing frequency weighting

commit fd8854c4d030288be1007a4f81e0ba1228a9dbac
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jun 15 12:09:31 2013 +0200

    Add SR_CONF keys for sound pressure level time and frequency weighting

commit e1af0e85b9b48b309f3552bceeed81d356735a33
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jun 13 14:33:15 2013 +0200

    cem-dt-885x: Support for turning data logging on/off

commit 3e62166ed3d0a2763b3627b5434b599a4b65c479
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jun 13 14:23:06 2013 +0200

    Add SR_ERR_TIMEOUT

commit 5f2a4aff4bbea36044203e700901973520f285a1
Author: Florian Steinhardt <mail@floriansteinhardt.de>
Date:   Tue Jun 11 20:35:57 2013 +0200

    added Voltcraft M-3650D Multimeter

commit 14cf708fef6d1dfd371923c7749f8cecd8a896a2
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jun 12 16:04:23 2013 +0200

    cem-dt-885x: Send last measurement at normal rate in hold mode
    
    The device only sends the "hold" token otherwise, which clashes somewhat
    with other devices. This makes the device more predictable for frontends.

commit bc1143280f7ca878e1309a1d1c0899275ff32d27
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jun 12 15:45:37 2013 +0200

    cem-dt-885x: Hold off measurements in max/min hold mode

commit e37c4b3959052691a9e9d9ec4cfcdf0f8c6e36e1
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jun 12 13:10:56 2013 +0200

    cem-dt-885x: Live SPL acquisition

commit 7fb8279c9b7e1e7f564725970bbafff74f5d2394
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 11 23:33:25 2013 +0200

    cem-dt-885x: Flesh out driver, add scan functionality

commit 8fa9368eb41c7cb040a9eaef34aecc9f8a9e6d7e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jun 8 01:12:10 2013 +0200

    cem-dt-885x: Initial driver skeleton.

commit 28083961fbbd7ff76ee1199d3aebde21dded77ab
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 11 18:55:47 2013 +0200

    scanalogic2: Only print actual state changes in the log.

commit 9526f2d4f80968e9b2d00442fd4705d6902db589
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 11 18:55:47 2013 +0200

    scanalogic2: Replace %i with %s where needed.

commit 79914b3a62adb1b0b054d23c2721ce80eb7ba9ea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 11 18:55:47 2013 +0200

    scanalogic2: Shorten a few function name prefixes.
    
    The driver-private helper functions in protocol.c can have a shorter
    prefix to make the code look nicer.

commit c824eb6323282def1cb7d6cf03b6c00c7a060810
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 11 18:55:47 2013 +0200

    scanalogic2: Cosmetics, whitespace, typos, etc.

commit e52e712d05419e4387704262a07e00904b2acbed
Author: Marc Schink <sigrok-dev@marcschink.de>
Date:   Mon Jun 10 10:10:13 2013 +0200

    Initial driver for IKALOGIC Scanalogic-2

commit 16e76baec9b1df806e46d4da61269375924ab950
Author: Marc Schink <sigrok-dev@marcschink.de>
Date:   Fri Jun 7 20:34:40 2013 +0200

    ikalogic-scanalogic2: Initial driver skeleton.

commit eea49cf10d4cf5b990dcf24b4ead2977a5f36a6e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jun 2 16:54:31 2013 +0200

    ols/link-mso19: Consistency fixes.
    
    Use the same setup/ordering/naming for the cleanup/dev_clear functions
    as all other drivers do.

commit 1c2d542df2bad5a719863d5c5cb38334c80e2ac6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jun 2 16:43:26 2013 +0200

    demo: Use std_dev_clear().

commit 3b412e3a305cf06ac9bbb91ca5025d1712617b71
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 16:09:57 2013 +0200

    s/clear_instances/dev_clear/.
    
    Consistently use the same name for the dev_clear() API callback
    everywhere.

commit f6beaac55ca58c406d6621038abe57c16a47e87f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 15:46:57 2013 +0200

    std: Drop hw_ from function names.
    
    The per-driver API calls no longer have a hw_ prefix (e.g. hw_init()
    became init() and so on), so drop the 'hw_' from the std versions
    for those API callbacks too.

commit 3678cf73fea3c7903eb8887d8bb0dec61cb09e6e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 15:33:58 2013 +0200

    asix-sigma: Use std_dev_clear().

commit c43cf4d40e2b73d992c73c340a887888f05595e0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 15:28:43 2013 +0200

    alsa: Use std_dev_clear().

commit fa85f376301dd43232032867f8df834e746060c6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 15:19:53 2013 +0200

    rigol-ds1xx2: Use std_dev_clear().

commit dec6c583a2d8097ef3214b5d37432ef8edfbfb3a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 15:18:47 2013 +0200

    hantek-dso: Simplify cleanup().

commit 658636f1c934b5b865efd0b4a8202603c577dd0b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 15:18:22 2013 +0200

    nexus-osciprime: Use std_dev_clear().

commit c9d622a4208813966ab5ae40a444fe136c7b2cea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 14:25:33 2013 +0200

    lascar-el-usb: Use std_dev_clear().

commit 771bd216fad9ad09666b4a41712e7fcb33ed6d9e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 14:20:34 2013 +0200

    fluke-dmm: Use std_dev_clear().

commit 732899f8cf87798b61d67a1c28e4bb4d46146cae
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 14:17:38 2013 +0200

    colead-slm: Use std_dev_clear().

commit 676c28a846ed8854c35e4d9b8914ff9a0f5a9b26
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 14:13:20 2013 +0200

    agilent-dmm: Use std_dev_clear().

commit 8d18d266f5cff373287e7bb122fa63581a4f88af
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 14:10:59 2013 +0200

    victor-dmm: Use std_dev_clear().

commit 40bbc64293f7a93cc25e594801315c6990b3bb03
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 31 14:00:30 2013 +0200

    brymen-dmm: Use std_dev_clear().

commit adf33ecce5e0bc2dff53087b01da6d5baaa89ee3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 21 20:54:42 2013 +0200

    csv output: Fix incorrect ordering of the probes.
    
    The comment for the CSV output module says probes are ordered e.g.
    0,1,2,3, but the actual values were in the 3,2,1,0 order.
    
    We're fixing this by making the order of the probe values 0,1,2,3 too
    for now, but this will become a configurable option later on.
    
    Thanks Patrick Servello <patrick.servello@gmail.com> for the patch.

commit ee8ddd8f5aadee71749882ba897c29e3c12fe1ed
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 20:59:42 2013 +0200

    Always link against the math library.
    
    This fixes bug #115.

commit 96ea73db236ce6c0146f9a33c280b7cbcdc500cb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 20:31:25 2013 +0200

    session_driver: Fix return codes, cosmetics.

commit 6078d2c99619233173d4536b74258c15e6be73ba
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 19:37:54 2013 +0200

    Use consistent API callback function names.
    
    This now matches what the 'new-driver' tool generates.

commit 8111446ae005bb4feb8859dd2cd12f46ec4d6050
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 19:16:25 2013 +0200

    zeroplus: Properly set inst_type to SR_INST_USB.

commit d6445cb0da6e6406f6cbf24f89bd570850d44fb1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 19:06:47 2013 +0200

    zeroplus: Use std_dev_clear().

commit 8dca646ef9f045751353aa0929c7be25a29fcb2e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 18:59:46 2013 +0200

    uni-t-dmm: Use std_dev_clear().

commit 3f0513bac1eaed3273398b362c35c1494fe94850
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 18:53:42 2013 +0200

    serial-dmm: Use std_dev_clear().

commit 97900799618d9d529f69eeed94d28349bc671d8d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 18:40:13 2013 +0200

    chronovu-la8: Use std_dev_clear().

commit decfe89d4e8c0902c1ca56933f2da30b97e9fa72
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 18:30:32 2013 +0200

    Drop some lines that are no longer needed.

commit 0bdb4f2e4aae1f9589897fc4b47cd012e9a25e49
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 17:56:53 2013 +0200

    tondaj-sl-814: Use std_dev_clear().

commit 25e7adada7a398542eeca703d23972a9eb81cc7a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 10 17:54:53 2013 +0200

    mic-985xx: Use std_dev_clear().

commit 2a052cc4d68acac9ac4847adba219d418df628f1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 8 19:49:23 2013 +0200

    Use consistent naming for internal libtool helper libs.
    
    This now also matches what the 'new-driver' tool generates.

commit 9e165e742fcaf247fe36644192194e59a02698aa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 8 19:33:30 2013 +0200

    Use consistent HW_ name prefixes everywhere.
    
    Older drivers used LA_* previously, we now use HW_* everywhere though.

commit 576ff5b0ba72cf9d682cf62736b4b9dc2048647d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 5 17:14:20 2013 +0200

    device.c: Add missing @since markers.
    
    Also, add Doxygen comments for functions which don't have any yet.

commit 01169de39195e2e54e4534504b60ed2408129b81
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 8 16:41:18 2013 +0200

    Doxyfile: Set version to "unreleased development snapshot".

commit 7ab89f4827d516313cafc9b7b9670ee99dc9c584
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 8 16:40:45 2013 +0200

    Re-enable link-mso19 and nexus-osciprime drivers.

commit 9dc7a75e3d4bc4078b23c62626c359e5a9e73b57
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon May 6 20:44:26 2013 +0200

    fx2lafw: Fix memory leak

commit 03f4de8cf298b6ca8510f49377c2e8e43cc88516
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon May 6 00:42:18 2013 +0200

    ols: Code cleanup
    
    This also fixes a memory leak.

commit a006798b9979ed3b8a2803927727dfbd870277f7
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon May 6 00:40:17 2013 +0200

    Fix various memory leaks

commit 12a33563b9cfd14c6dbf23d89c644f4ba16d304f
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon May 6 00:36:50 2013 +0200

    std: Fix memory leak, code cleanup

commit 26aec7fdc4c5d1f3e7ec6c373b16b6605b4a6e38
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 25 19:01:54 2013 +0200

    Drop link-mso19/nexus-osciprime in preparation for release.
    
    These two drivers are currently unfinished and don't work, so disable
    and "unhook" them for now in preparation of the next libsigrok release.
    
    They're still in the git repository, but not hooked up to the build
    system, so that they won't get detected or built, and also don't end up
    in the release tarball.
    
    Since link-mso19 is the only driver that currently requires libudev,
    drop any reference to that, too.
    
    It should be relatively easy to apply this patch in reverse after the
    release to bring back both drivers.

commit a4fdbbe1c2d9e95982c48aea46773affd6812ec8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 4 15:55:11 2013 +0200

    Doxyfile: Set version number to 0.2.0.

commit 7c3e7b43067d14fc717a0bf825e57ed959032771
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 4 15:22:45 2013 +0200

    udev rules file: Add entry for the ZEROPLUS LAP-16128U.

commit 048e8babf73565721707dd9e9ecf4f915941d23e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 4 15:17:50 2013 +0200

    NEWS: Minor update.

commit 6941f84568b0e362decdc25e6aecaf304dc670bb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 4 15:12:20 2013 +0200

    Fix libsigrok lib version (current:revision:age).
    
    The last release (libsigrok 0.1.1) had a lib version of 0:0:0.
    
    This release thus gets 1:0:0 according to the libtool manual guidelines.

commit c5ffac414899eb7f0e187b8eb9d61e381d40f0a6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 4 00:07:34 2013 +0200

    uni-t-dmm: Add missing SR_CONF_LIMIT_MSEC support.

commit 29a27196a13de2ffd9b671185e4b464b9db9b549
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 3 21:59:32 2013 +0200

    s/DRIVER_LOG_DOMAIN/LOG_PREFIX/.
    
    This is more correct anyway, and also a bit shorter and more readable.

commit 06c45a66f76f986cd845a05fdee36956b1339621
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 3 14:03:49 2013 +0200

    Minor whitespace fixes.

commit e6b2b4df9dcfaf9eb6fa10f94e0aa5e039230e21
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 2 23:37:23 2013 +0200

    README.devices: Document how to make some DMMs log.

commit 456dfd9f704885c8ffbeb5dd1c2b281d27fff053
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 2 19:03:47 2013 +0200

    NEWS: Various updates and minor fixes.

commit a0c7e23ad871c0e77dd8632c76f87bec1c6fd002
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 2 17:37:55 2013 +0200

    Fix the build when libusb is not available.
    
    Thanks Simon Richter <Simon.Richter@hogyros.de> for reporting.

commit 3a277f3b2b01da3d7d1e26ddbb30471db68fc11c
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 1 14:54:44 2013 +0200

    Deal with uninitialized drivers

commit c2fa697afa86a8e6f37bef13acb5b8532714274e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 1 03:16:47 2013 +0200

    serial-dmm: Add Tecpel DMM-8060 support.

commit b38e08fbb7b6fec5ff22495f13f039b1f7218361
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 1 03:13:15 2013 +0200

    serial-dmm: Add Tecpel DMM-8061 support.

commit 4554314c4f72d8df69b7236cb19d15a00fdceaeb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 1 03:04:46 2013 +0200

    uni-t-dmm: Add Tecpel DMM-8060 support.
    
    This is _very_ likely to be a rebadged Voltcraft VC-820, treating as such.

commit b6bad47c91a7cbc19571cbe49918a0612ad2babe
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 1 03:00:08 2013 +0200

    uni-t-dmm: Add Tecpel DMM-8061 support.

commit 2451a20ff5137d178ed4a02ee04076c6eae97235
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 1 02:10:56 2013 +0200

    fs9721: Factor out common code from serial-dmm.
    
    These functions are FS9721 specific (and DMM specific), and can be used
    from various drivers (e.g. serial-dmm or uni-t-dmm or possibly others).

commit 48535594664cc5d55db428cd8ca5ffba328be05a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 1 01:56:30 2013 +0200

    uni-t-dmm/serial-dmm: Handle Voltcraft VC-840 temperature.

commit ad00a54da6a17c881881d2ed7a3f3fe41170fa26
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 1 01:02:46 2013 +0200

    fs9922: Fix beep mode.

commit 649a4cd672e5ea14707c4591dd0426fdd87ddd5a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 1 01:00:54 2013 +0200

    fs9922: Fix diode mode parsing.

commit 767aae30edce24c9e5b8b6e083653b2f68dbc922
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 30 20:28:29 2013 +0200

    uni-t-dmm: Fix incorrect UNI-T UT61D baudrate.

commit 695d0e1efa819dc98914ce1baec388c8734e98a7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 30 20:27:04 2013 +0200

    uni-t-dmm: Add support for the Voltcraft VC-840.
    
    This DMM is already supported via the serial-dmm driver when using the
    RS232 cable. The uni-t-dmm support makes it usable with the USB/HID
    cable too.

commit bbef5e326de1669b039413d8753fceda7281e936
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 29 20:23:21 2013 +0200

    uni-t-dmm: Add support for the UNI-T UT61E.
    
    This DMM is already supported via the serial-dmm driver when using the
    RS232 cable. The uni-t-dmm support makes it usable with the USB/HID
    cable too.

commit ae3a59de62e5912d68d8738a78a4403146cbfda5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 29 20:15:02 2013 +0200

    serial-dmm: Add support for the UNI-T UT61D.
    
    This DMM is already supported via the uni-t-dmm driver when using the
    USB/HID cable. The serial-dmm support makes it usable with the RS232
    cable too.

commit 3ece1dff6ce9d29021215a1aa4a4ae8cff25aa49
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 28 08:13:15 2013 +0200

    uni-t-dmm: Use sr_dev_inst to store connection handle.

commit d9a7c349ed731f826b166c12f6d03dbd973cc0ec
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 28 08:01:51 2013 +0200

    brymen-dmm: Use sr_dev_inst to store connection handle.

commit af51a7718eb22e9630107af814db6ae9f179a969
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 30 16:03:37 2013 +0200

    output: Use sr_config_get() wrapper
    
    This obviates the need for a valid driver, and thus makes converting
    from any (non-sr) input format to any output format possible; the only
    thing missing is the samplerate.
    
    Fixes bug 105.

commit 0a7da5f8c9f1c6656672152ad48d76b5a4cd7ecd
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 30 09:55:44 2013 +0200

    fx2lafw: Keep track of our own libusb fds

commit 037286445116d0f4f7f9b16a4a7353f3be207ff0
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 30 00:04:39 2013 +0200

    Don't remove stray source from the session after stopping
    
    It's up to the drivers and frontends to remove the sources they
    added to the session.
    
    Also don't tell the driver about a forced session stop more than
    once, because it's sloppy.
    
    Fixes bug 62.

commit 2a67abfe349f26f0cc9d34e36f48b250cb9cac50
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 29 19:02:26 2013 +0200

    fx2lafw: Properly initialize operational state before acquisition

commit 0f75d6f5a9b5d9d479dc03d67a8c828f99dce8f0
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 29 12:39:26 2013 +0200

    ols: Don't close serial port after acquisition is done

commit 681803dfdeeaae66c48d6c45da194be0c6789deb
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 28 22:35:42 2013 +0200

    Don't try to close devices when removing them from the session
    
    That's the frontend's job.

commit 115f82939661da6ad2d26d5ceca709bbc0ad25b5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 22 21:57:51 2013 +0200

    NEWS: Add most important items since last release.

commit a5e44c3247ae64ab1a65e7c6ebe6d66c6ab0a0a1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 24 19:14:52 2013 +0200

    tondaj-sl-814: Use sr_dev_inst to store connection handle.

commit 44f91e29509125a54cfd975689e6d10379645f08
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 27 19:06:27 2013 +0200

    unittests: Disable a broken test for now.

commit 50c604f50bf33e68ac67caa8ebad20b87b3aacc1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 27 18:27:32 2013 +0200

    Don't automatically clear known instances from USB drivers on scan
    
    This invalidates previously returned sr_dev_inst pointers, which a
    frontend may be holding. It's the frontend's responsibility to clear
    the list of instances a driver keeps track of by calling
    
            sr_dev_clear(driver);
    
    if it wants a completely new scan done.

commit c2523f221364c0df51b8093693a246a713633912
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 27 18:24:50 2013 +0200

    Explicitly initialize all struct parameters on init

commit 17f63de642c3cb613f91eabd2e19ebed6785f755
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 27 17:29:46 2013 +0200

    Fix output API receive() function
    
    This changes the new output API's recv() to receive(), and has it
    return an integer status code. The output of the function, if any,
    is stored in a new parameter as a pointer to a newly allocated GString.
    
    All output modules using this API have been adjusted.

commit 9c48c2e91ecdb4b0ce364f55084e8f882b7a3bf1
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 23:20:33 2013 +0100

    Remove SR_MAX_NUM_PROBES, which is now no longer used.

commit a1be7b6c3f1f00644bdae96317f14b99fe31cf3d
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 23:16:30 2013 +0100

    vcd output: Replace fixed length array of indices with GArray.

commit d601c0e9b37be9174c8a4447aa05aeb7be82be73
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 23:00:51 2013 +0100

    vcd output: Eliminate unnecessary array of probe names.

commit 90f680ff006e5ae2fd4935bd885a14bd9927fd99
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 22:50:09 2013 +0100

    gnuplot: Eliminate fixed-size header buffer based on max probes.

commit deb09083385deab1a8afc2a585200de043444464
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 22:29:41 2013 +0100

    gnuplot: Remove unnecessary array of probe names.

commit 1c5b099a1312ae64307fb7d9a0030643936a3636
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 22:26:14 2013 +0100

    csv: Remove unnecessary array of probe names.

commit 91a44f50f0817b32c869f9623b86a6e698ba8e19
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 22:20:05 2013 +0100

    chronovu-l8: remove unused array of probe names.

commit d53e4e8d92242488642211f441dacba29937104d
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 22:14:57 2013 +0100

    text: Use a GSList of enabled probe names, not an array.

commit db9679afc9f46bdf038efabd3ac69983d15f89cf
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 20:52:25 2013 +0100

    vcd input: Use a GSList rather than fixed size array of probes.

commit b050fc481bf8fc2a55277cc3fc3b62121932e1bb
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Apr 27 00:13:02 2013 +0100

    vcd output: fix for big-endian architectures.

commit 9c178ffa50da5bd6978d26989b79936dc341f308
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 23:57:44 2013 +0100

    gnuplot: fix for big-endian architectures.

commit 3292535c878ec82756c122facddf61bbd81bec18
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Apr 27 14:24:47 2013 +0200

    output/ols: Use new API
    
    This now properly supports samplerate changes coming in from
    SR_DF_META packets, and also fixes bug 99.

commit 409a811b8c078341185badadda8f4be380a5f88d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 27 10:49:52 2013 +0200

    error.c: Add SR_ERR_DEV_CLOSED.

commit 3a581560f1288b4cecc4ab885c85ac7603dd21db
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 21:35:18 2013 +0100

    ascii: fix for big-endian architectures.

commit ddb292571d03ee2e13100d749edcf0dceed5d9a2
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 21:22:36 2013 +0100

    bits: Remove unused code.

commit 9275d232089be359ad6ffe3a7b65d6230ff912b3
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 21:17:36 2013 +0100

    hex: fix for big-endian architectures.

commit 542dbd185b2e01e61df8a70a2ab850f5cfe03271
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 26 21:14:00 2013 +0100

    bits: fix for big-endian architectures.

commit b9470914d045f05e445e9f25a3b4f0cc79bc6681
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Apr 26 22:17:41 2013 +0200

    Remove sr_rational

commit bc653a56781de54f90e9fb08b39e6c9a596cc6af
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 26 23:39:24 2013 +0100

    uni-t-dmm: Do proper detection of packets in the stream.
    
    Also, various fixups in the driver.

commit c8852687778a33b9de218af800eec4ae7e3848a6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 19 19:01:54 2012 +0100

    uni-t-dmm: Make driver more similar to serial-dmm.

commit 7381251e33611b6c06f3adedfcf2e1943453670e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 26 19:56:02 2013 +0200

    common/dmm: Drop obsolete *is_packet_start() functions.

commit 913abe83214f68d1743c555aa3fbe112db48a0cb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 19 22:47:26 2012 +0100

    fs9922: Use common DMM API.
    
    Use the same functions and structs as the other DMM protocol parsers
    in hardware/common/dmm. Among other things, this allows the functions
    to be used from drivers in a generic way, e.g. in serial-dmm, uni-t-dmm,
    and possibly other drivers.

commit 6d0369591b7b30009bf497a5bb285afc7f431ad8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 26 13:35:19 2013 +0200

    README: Add "Copyright and license" section.

commit 695f32d89d678b20896e34affc74b4363b686387
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 26 10:47:34 2013 +0200

    Bring back link-mso19/nexus-osciprime for now.
    
    This patch will be re-introduced later.

commit 9d1164f9a12c218def0e898e4d28fcd55f2fa8cd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 25 19:01:54 2013 +0200

    Drop link-mso19/nexus-osciprime in preparation for release.
    
    These two drivers are currently unfinished and don't work, so disable
    and "unhook" them for now in preparation of the next libsigrok release.
    
    They're still in the git repository, but not hooked up to the build
    system, so that they won't get detected or built, and also don't end up
    in the release tarball.
    
    Since link-mso19 is the only driver that currently requires libudev,
    drop any reference to that, too.
    
    It should be relatively easy to apply this patch in reverse after the
    release to bring back both drivers.

commit 8d3764aacad94d4bf44cbfdfd4a45dad995eeb33
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 25 17:42:20 2013 +0200

    README.devices: Fix typo.

commit 0e77b7cab31186b35d461e7d4ad3ce8a577857ee
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 25 00:15:49 2013 +0200

    python: Add Session.open_device().

commit 57dd5e63ecc6cad49f31f94ed0ef9a5336330c4a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 24 23:43:56 2013 +0200

    python: sr_config's value field is called 'data'.

commit 3124e80bfe6189d52c5aec9a8c1cacb6ee852b91
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 24 17:48:04 2013 +0100

    python: Support keyword arguments to scan()

commit f245b7669e7ffb7591dc1b1b7087e4352738c84d
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 24 17:47:40 2013 +0100

    python: Add a ConfigKey class.

commit 05cfe1147a9f85d9d3db41d6025c708898a66be9
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 24 14:47:07 2013 +0100

    python: Add conversion functions to/from GSList *

commit bd7bfe8c5140d459092f93f9ffc3130a487f5d58
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 24 23:06:50 2013 +0200

    Open virtual device before loading file

commit e73ffd4238c6d1be58d3fcdcf7f100200f033856
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 23 15:14:42 2013 +0200

    Enforce open device before config_set()/dev_acquisition_start()

commit efdecf4c0553ce00ea2a6365212f5fe305496fed
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 23 00:21:57 2013 +0200

    Add sr_dev_open()/sr_dev_close()
    
    Frontends will be required to open a device before using
    sr_config_set() or starting acquisition.

commit 46a743c1fa77b1b68ada2b642c095b4f9034edce
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 24 19:07:46 2013 +0200

    Whitespace fixes
    
    Damn editor.

commit a31a4d371f3c3925a9d3a0eefa472147e7b36748
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 24 03:05:25 2013 +0200

    fx2lafw: Minor cleanup

commit 294dbac724d5b36acea17366057bb81c70a265bb
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 24 03:04:12 2013 +0200

    hantek-dso: Support conn scan parameter

commit cc9fd2d29c5ff4ab2509b6bb5b33a16304fafa55
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 24 02:09:49 2013 +0200

    rigol-ds1xx2: Code cleanup

commit 9bd4c95606668bdc58a6df3c30bcd91f288a4ea9
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 22 16:12:06 2013 +0100

    rigol-ds1xx2: Use common serial code.

commit ca55277ca8bed14dd569b793dc578212898bb1fb
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 22 14:59:55 2013 +0100

    rigol-ds1xx2: Accept SR_CONF_CONN.

commit 886bd5e05686617c928be2d600ce91ed298a2331
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 23 23:06:02 2013 +0200

    mic-985xx: Use sr_dev_inst to store connection handle.

commit 31e537725096d578e12923b811d2da79187363e4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 23 22:54:02 2013 +0200

    Fix minor warning with some compilers.

commit 50985c2019b2b5a6ce394589d89ee925b4f5e3a9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 23 22:24:30 2013 +0200

    GPL headers: Use correct project name.

commit 1e1bfcd0fef7c397b3d8fc6cd244263e6828a5da
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 23 19:07:15 2013 +0200

    serial-dmm: Use sr_dev_inst to store connection handle.

commit 625cc7834a26333b77f4a43f3c74b4aba3f41627
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 23 10:05:48 2013 +0200

    More python build stuff to ignore

commit f99e32affc3a18a2a6b45c988bc440013a8b2e4e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 22 15:55:06 2013 +0200

    sr_dev_inst_*() -> sr_dev_*()

commit 609bfd753c4a813791a6f678f545940c6d331c20
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 22 15:00:04 2013 +0200

    zeroplus-logic-cube: Use sr_dev_inst to store connection handle

commit 459a0f2623686472b134735ae37a52f0d61d715e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 22 13:40:40 2013 +0200

    ols: Use sr_dev_inst to store connection handle

commit 2e5b73c00c7329c9b6ef7bf8f626a22884eac5c0
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 22 13:33:31 2013 +0200

    ols: Fix stack clobbering at start of acquisition
    
    This off-by-one was clobbering the stack since introduced in a803c0db4d58.
    However it only set one bit, and that generally appears to have been set
    already, so this rarely affected anything. But when it did, it affected
    a pointer, causing a segfault.

commit 919681f0e8b4681b2af64db72abc1945f3b4adb2
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 22 01:07:35 2013 +0200

    fluke-dmm: Use sr_dev_inst to store connection handle

commit aa7066353c9a54d90695fca3b303e1476dd772fd
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 22 00:27:11 2013 +0200

    colead-slm: Use sr_dev_inst to store connection handle

commit fb3a15059938770a064fb7d35a813cfa20d8e363
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 21 21:44:31 2013 +0200

    agilent-dmm: Use sr_dev_inst to store connection handle

commit e31d410d26c7377de83d46c1ce80525e2dc7d23b
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 20:42:22 2013 +0100

    rigol-ds1xx2: fix delay time.

commit 1e2bd8af128529d686fb1ac449334a21b74d4fc0
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 19:52:09 2013 +0100

    python: fix Fraction -> GVariant tuple conversion.

commit d2e0b1fa71b90faf1f7e77b72627868baf5e9135
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 21 13:17:40 2013 +0100

    rigol-ds1xx2: better error handling in hw_scan.

commit 8bb2981df075082071b3edf2426a3444109726f0
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Apr 19 21:19:54 2013 +0200

    victor-dmm: Allow configuration before the device is opened

commit 522a34343f78eb55ff7213e34ff3e002867dbad3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 20 13:43:48 2013 +0200

    Drop obsolete g_match_info_unref() workaround.
    
    We hard-depend on glib >= 2.32.0 now anyway, so this is no longer needed.

commit ac070c7744471350e38836a58dd565750d96ce7f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 19 20:19:14 2013 +0200

    Add initial, lowlevel Ruby bindings.

commit 91bea31f6bff799f90fc21201312505d37441981
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 19 17:41:44 2013 +0100

    python: unify pkg-config calls in setup.py.

commit 0cd466ccd8f1149883f535868650d4236d0b7ab4
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 19 17:30:44 2013 +0100

    python: Use --cflags-only-I to get includes in setup.py.

commit 9bbd6a6a0d8747538db2e1ef03e52e4fdcadfaa2
Author: Martin Ling <martin-git@earth.li>
Date:   Fri Apr 19 16:57:13 2013 +0100

    python: Add classes for values of API enums.

commit 816aed6c9157721c7123f1f29fe01f353278af22
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 19 13:15:51 2013 +0200

    python: Add a Log class to control libsigrok logging.

commit 0021b077416c09dc72bef411e3768bbe87afdf56
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 19 11:58:40 2013 +0200

    python: config_get() now returns SR_ERR_NA.

commit ac046ef8cf64098fc20030fe60b345cd563f72f8
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 18 22:48:09 2013 +0200

    victor-dmm: Support SR_CONF_CONN

commit 0f1506497b615b3c935b9a7bce9af85390a09d24
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 18 22:30:10 2013 +0200

    lascar-el-usb: Support SR_CONF_CONN

commit e2033d491753c5746ddbc0b8f29a5aa56c297ac3
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 18 21:37:38 2013 +0200

    hantek-dso: Consistently return SR_ERR_ARG if sdi is needed

commit 38ab8dbec8b1944e06dd3a809229b106c5e628df
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 18 21:36:25 2013 +0200

    fx2lafw: Consistently return SR_ERR_ARG if sdi is needed

commit c2ec42ce938bc38bfd72ca3959611baab326530a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 18 17:45:17 2013 +0200

    python: Add further properties to Analog class.

commit 15574a3cecc14dcbed38464317e37ac9cfe2d220
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 17 17:48:39 2013 +0100

    python: Add Analog class.

commit 624f5b4c1e329e74d6bb6e7fc0fce27945506567
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 18 01:21:57 2013 +0200

    hantek-dso: Support config_get(SR_CONF_CONN)

commit 89befd46a8a12b0ba7867e73f7aec77a7dfc0add
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 18 01:15:37 2013 +0200

    fx2lafw: Support config_get(SR_CONF_CONN)
    
    This generates a bus.address conn string which can be used to
    uniquely identify the given sr_dev_inst.

commit 3bc55222c8503703ac76bc61fb9a5d2c101f0ed7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 17 17:26:46 2013 +0200

    python: Add missing license headers.

commit 08d59537c353c6980c5e9a0f8b0039f2ab5b0ba5
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 17 15:38:33 2013 +0100

    python: fix cdata to work with Python 3.x.

commit 1cad2115477176001f44cbe8a46a3c74e650f866
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 17 15:37:58 2013 +0100

    python: Fix syntax to support Python 3.x.

commit d8f6e041aa109f328612f6d7301411abde9e5134
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 17 14:30:31 2013 +0100

    python: Add high level API.

commit a8d162f6d33f2d5112193d6539a08e9b7beac4d7
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 17 14:03:38 2013 +0100

    swig: Wrap additional GVariant operations.

commit cccb59914799002df75299ec98da132fcccfaac0
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 17 14:01:19 2013 +0100

    python: Release GIL during libsigrok calls.

commit a25932e08c6b7424fec07bb2295fadd613294075
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 17 13:59:30 2013 +0100

    python: Adding callback can fail, and refcount must be incremented.

commit 0220626994c6bac7bce967fe6dc8804667cce03e
Author: Martin Ling <martin-git@earth.li>
Date:   Wed Apr 17 03:50:27 2013 +0100

    python: use setuptools and put bindings into sigrok.core.lowlevel.

commit d0eec1eea17c62d731e44fc0b3b436b78d0df718
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 17 01:08:18 2013 +0200

    hantek-dso: Mark connection as USB

commit 949b3dc0916eed68ba6f3878300feb61ad858014
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 17 00:49:18 2013 +0200

    hantek-dso: Use std_dev_clear()

commit 72f9d6dc5e4fb4bcc33c70e601f643d0ce5d1f3e
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 17 00:42:06 2013 +0200

    fx2lafw: No device context internals to clear

commit ae5859fff08a8ccc8cba081d7500f75cc46114f7
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Apr 17 00:41:01 2013 +0200

    Allow for sdi->priv helper function in std_dev_clear

commit c118080b1db555c1eb226ea783fc186602c20315
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 16 23:15:34 2013 +0200

    hantek-dso: Store USB connection in sr_dev_inst

commit 9bb2f327a9dd482f609b10e34f72e57816cd4531
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 16 22:19:00 2013 +0200

    Python bindings: Small fix for Python 3 support.

commit 415e6389ce2d57e9559a04f0e3523d111843a618
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 16 15:42:45 2013 +0200

    chronovu-la8: Fix incorrect 0Hz samplerate being reported.
    
    This closes bug #93.

commit 250a78c7d5d049edd8c4f792f9eee56eae773a0b
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 16 17:55:56 2013 +0200

    fx2lafw: Use standard dev_clear() instead

commit 49f00e13f72d11a9cac8523e0c1506dde138f218
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 16 17:53:21 2013 +0200

    Add driver helper std_dev_clear()

commit 9e2e98640ac2b12545f4923a143d06d3896f8435
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 1 03:03:24 2012 +0200

    sr: add conn to sdi, for storing a ptr to device-specific connection info
    
    What's in conn depends on the long-ignored inst_type field.

commit 0223135bfb6771d7749fa39cff64a78c7a84a674
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 16 12:54:11 2013 +0200

    error.c: Add missing SR_ERR_ARG and SR_ERR_NA.

commit 85222791a9f3722c1cf659cfd4e4144314dbeec0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 16 12:48:58 2013 +0200

    Doxygen: Add missing parameter docs.

commit 63c290b9840d459a9dac5073b71db43688cc94e9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 16 12:45:38 2013 +0200

    Doxygen: Exclude bindings/.

commit 1a64618a2f46bf4374a673dcfc413dce8771fe89
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 16 12:43:42 2013 +0200

    Doxygen: Set SHOW_NAMESPACES=no.
    
    Since this is a C project, a "Namespaces" page is not really useful.

commit 9fb5f2dfa6bcded8082677ed3b915ff6b880cfab
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 13 18:58:11 2013 +0200

    Doxygen: Add @since markers.
    
    Add @since tags to some (not all yet) public API functions, to document
    in which release they were added (and/or in which release there were
    API changes).
    
    Document the @since usage in HACKING.
    
    Also, add Doxygen docs for the functions in version.c.

commit 22f8cb54d18bf4abd5a7513a509539f15570784c
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Apr 16 03:33:56 2013 +0100

    swig: wrap g_variant_new_uint64.

commit d962ed92a118a8bc9d98e00f7a218a4cc9c71e69
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Apr 16 03:11:48 2013 +0100

    swig: include cdata interface.

commit 966fcbe3e34de14b163987550d17b00dc84bf82e
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Apr 16 03:02:52 2013 +0100

    swig: add function to cast from void * to struct sr_datafeed_logic *

commit 0849c7d3104efc098aa282d7e8b841506c386ea3
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Apr 16 02:55:39 2013 +0100

    python: support datafeed callbacks implemented in python.

commit ab0340c804c31a146977907e90d7b1d012f401a1
Author: Martin Ling <martin-git@earth.li>
Date:   Tue Apr 16 02:55:11 2013 +0100

    swig: use standard wrappers for integer types.

commit 2726474a619e5d9a9bfcf797a5e306f4496a4545
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 15 21:08:55 2013 +0100

    Add a void *cb_data parameter to datafeed callbacks.

commit bd6fbf628abef9fab5293e016ad11e1a1ac4a0a9
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 16 02:33:03 2013 +0200

    drivers: return SR_ERR_NA on unsupported config key
    
    Fixes bug 89.

commit f02121f8d2623a7b8cbc87b75cf529e0a9cfd7d5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 16 00:58:29 2013 +0200

    Python bindings: Fix reported libsigrok version.
    
    Use 'pkg-config --modversion libsigrok' to get the libsigrok package
    version. 'pkg-config --version libsigrok' ignores the argument and just
    reports the version of pkg-config itself.

commit 8dc93c841f73dd2dbb252c1be42701a5e03d2f26
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 16 00:57:00 2013 +0200

    Python bindings: Cosmetics.

commit 7aafb892746356c9089a2ba91188bfa51c68cea2
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 15 23:05:38 2013 +0100

    Tell SWIG that gpointer is really void *.

commit 758b01adcbbc2cd4c077281ad06c7bb2ac414391
Author: Martin Ling <martin-git@earth.li>
Date:   Mon Apr 15 20:01:07 2013 +0100

    Add SWIG interface file and build script for Python bindings.

commit 72cd99b876eb2185358bc108b488585c956f3dc7
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 16 00:23:34 2013 +0200

    ols: Report when a device doesn't support metadata
    
    Not an error, but it does mean it's either a really old or really
    basic device, and will help us to debug people's problems with
    these.
    
    Fixes bug 92.

commit 754b5ff2b48fc2fda3771940aa9d98108ae4f6af
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 15 23:50:16 2013 +0200

    fx2lafw: Support conn scan parameter
    
    This takes a USB specification. Fixes bug 82.

commit 1eb0a0df666e8ed117c9b3d3c65291367cbb961f
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 15 23:47:04 2013 +0200

    usb: Fix bus.address format detection

commit e5d15bd2a2eb8c34ee7bc9db1e70ba0741215097
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 15 20:05:43 2013 +0200

    ols: Allow configuration before the device is opened

commit a7be14ada20d594c5338613a73788e8f89c0d9d5
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 15 18:45:38 2013 +0200

    rigol-ds1xx2: Don't assume there's a valid sdi

commit bf256783599262b94c4b3be3797f4576053d96e1
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 15 18:28:16 2013 +0200

    ols: Properly initialize operational state before start

commit e45ad6e24ff1a3873d551f9ed08acb3ffd0d1d0d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 15 12:27:55 2013 +0200

    demo: Fix compiler warning, cosmetics.

commit 1d166757694b259bbcca205ced91ac69e8a5ef7e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 15 01:30:24 2013 +0200

    lascar-el-usb: Use two probes for temp/humidity loggers

commit 2150a69b7633ebd1bcf13f645c026506f3dfe03b
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Apr 14 19:19:35 2013 +0100

    demo: Unref the IO channel when it is no longer used

commit ed20a42803c8b4e79b259ae03298dec88f2299f5
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Apr 14 18:52:02 2013 +0100

    demo: Free dev_contexts

commit a76842947faadad98572f011cb20f3220998f71b
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Apr 14 17:00:47 2013 +0100

    demo: Moved demo configuration variables into dev_context

commit 33c6e4c5a428115965f980e88e6415fb782658e9
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Feb 2 00:50:00 2013 -0600

    session: Make sr_session_stop thread-safe
    
    With the sigrok session running in a worker thread, if sr_session_stop is called
    from another thread, it shuts down the pollfds used by the hardware drivers,
    without ensuring that the sigrok event loop is no longer using those pollfds.
    
    On the demo driver, this involves shutting down the GIOChannels, causing a
    segfault when the sigrok event loop tries to use them. This is evident when
    using the Stop button in PulseView, while the session is running.
    
    This isn't a problem with just the demo driver; any driver's resources may be
    freed by sr_session_stop concurrently with the sigrok session running.
    
    To solve this problem, we don't touch the session itself in sr_session_stop().
    Instead, we mark it for decommissioning and return. The session polls this flag,
    and shuts itself down when requested.
    
    This fixes bug 4.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 33ef757383896959651c48744fabb417729424dc
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Apr 14 15:46:15 2013 +0100

    demo: Keep a pointer to dev_context in sr_dev_inst and vice-versa

commit e053204700fa0a9151e6efb54eae9dc5a73e3ccd
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Apr 13 16:43:16 2013 +0100

    demo: Only one GIOChannel is needed

commit bbd7ef0f18df94232bafe6606c6d37eaad9ffd80
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Apr 13 16:08:52 2013 +0100

    demo: Fixed glitching in increment signal

commit f0b6ae19a8e6ae7050cde3e1fa0a3ce46b9b5f66
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Mar 16 08:43:36 2013 +0000

    alsa: Set the probe index

commit 9e5670d0ab63af4353003bf879b0aa5e1a6919f8
Author: Jan Luebbe <jluebbe@debian.org>
Date:   Sat Apr 13 23:27:07 2013 +0200

    zeroplus-logic-cube: add USB ID for LAP-16128U

commit 6bb192bc05f976a5660e35c9507450a573679296
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 14 02:21:55 2013 +0100

    rigol-ds1xx2: support digital channels.

commit a789b61087f156f3f5b38de6c56c7744fde2c3eb
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Apr 13 22:25:41 2013 +0100

    rigol-ds1xx2: doesn't actually support SR_CONF_LIMIT_SAMPLES

commit ee7e9bee5d943261d866f92cb8b81584e290df01
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Apr 14 01:58:35 2013 +0100

    rigol-ds1xx2: fix handling of partial frames.

commit 4c7aca66defecb82245d2fd8b62b3ff70049982a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 14 16:44:49 2013 +0200

    ignore test leftovers

commit 0c05591abf6b313aebb1f717903c5cc337f58329
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 14 00:36:05 2013 +0200

    ols: Support get/set/list on all device options
    
    Where it makes sense: _LOGIC_ANALYZER and _TRIGGER_TYPE don't have much
    use for all of them.

commit 8f35be72b46769b3b51e9c91a131eaf6c256ac1a
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Apr 12 19:42:44 2013 +0200

    rigol-ds1xx2: Use g_usleep() for portability

commit 406569ddeadbbbc73c9fefb92b855e03fc107987
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 12 18:47:06 2013 +0200

    Bump glib requirement to >= 2.32.0.
    
    This is now required, e.g. due to the usage of g_variant_new_fixed_array().

commit 169dbe8577c2f7570f61799a064f95b39b3b6fe3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 12 18:44:28 2013 +0200

    rigol-ds1xx2: Whitespace, minor fix.
    
    Return SR_ERR_MALLOC for failed malloc, not SR_ERR.

commit 34e4c273916d8fd246ca6aefbff05528f92391fc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 12 17:59:38 2013 +0200

    unittests: Adapt to new GVariant system.

commit ff08a52a0fb66abb471fa0bfe0369300c313778f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 12 17:45:01 2013 +0200

    Fix two minor compiler warnings.

commit ba6568c5adcbb2075964c582bf2939b46f729b12
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 11 18:49:24 2013 +0200

    output/vcd: Use selected probes, not lowest-numbered ones
    
    Thanks to Andrew Bardsley for the patch.

commit 254dd102e84a6f9e5a62be5172bb94cbca3da4e8
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 11 16:06:55 2013 +0200

    rigol-ds1xx2: Support for all channels, proper defaults
    
    Since this driver supports devices with a control panel and display,
    we take the defaults from the device -- not a set of sensible
    defaults as usual.

commit 88e429c97f4fa482f8897c4795ad14f0afa96b56
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 8 12:01:00 2013 +0200

    rigol-ds1xx2: fix channel numbers
    
    Copyright bump, too.

commit a3df166f02201abe253b6fd4ee416394dace9e5e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 8 01:12:42 2013 +0200

    rigol-ds1xx2: better debugging

commit 75d8a4e5766cccdcd7f017093fa822e7218749b8
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 8 00:38:58 2013 +0200

    rigol-ds1xx2: properly send frame begin/end packets

commit 7991784841727d39a6f71ffa4ccdc1fc86af9f98
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 8 00:37:50 2013 +0200

    hantek-dso: Support SR_CONF_NUM_TIMEBASE/SR_CONF_NUM_VDIV

commit d62d7ad151e2b50484bc6bf36c94b9657ed6a500
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 8 00:37:12 2013 +0200

    rigol-ds1xx2: Support SR_CONF_NUM_TIMEBASE/SR_CONF_NUM_VDIV

commit 2efa699fda95b6d2d722d41407ca741cdbfe709c
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 8 00:29:37 2013 +0200

    Add SR_CONF keys to report the number of timebases and vdivs
    
    Number of timebases is needed to properly interpret a frame's worth
    of samples. Number of vertical divisions isn't, but may nevertheless
    be interesting for a frontend that wants to reproduce the scope's
    native display.

commit d8284802ca6bbdf19e7ff0ae9bcc5b6e111056c0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 7 22:51:45 2013 +0200

    use driver callbacks directly

commit 861c447bfb020a59ac9d197c4a74a4e8ea3998bf
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 7 21:51:26 2013 +0200

    rigol-ds1xx2: SR_CONF_TIMEBASE and _VDIVS lists are now an array of tuples

commit 6cefe516aacc215fa8d144e9da09e69cfb1e5ff6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 7 21:50:42 2013 +0200

    return SR_ERR_ARG if a driver doesn't implement sr_config_*()

commit 82b904b173f1443c4d6bdebdf1a7f0dda01c4982
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 7 21:28:54 2013 +0200

    Add Rigol DS1052E/1102E VID:PID

commit 3973ee26f58efa469657c57d23a285273f316c35
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 7 21:02:18 2013 +0200

    hantek-dso: SR_CONF_TIMEBASE and _VDIVS lists are now an array of tuples

commit 034accb512e43172ee292d1585870db9e2477ed0
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 2 20:54:44 2013 +0200

    hantek-dso: move buffer sizes to device context
    
    There are only two sizes for every device: 10k and the complete
    per-channel buffer size. This can be doubled if one channel is disabled.

commit fe9ac252502fbb90badc84367eea75d6ab027686
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 1 16:53:14 2013 +0200

    ols: Get rid of gcc warnings

commit 1bec72d2ac388bd78c1c4e573431170c4ed97f8c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 21:31:49 2013 +0200

    chronovu-la8: Adjust to GVariant-based sr_config_* functions

commit afdf6d6a20a0d5ac7c3f9b84d1af4f782eda3177
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 21:28:33 2013 +0200

    tondaj-sl-814: Adjust to GVariant-based sr_config_* functions

commit 7d93a62ea3b7c8853603fa267bb8b1320dde4b69
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 21:28:33 2013 +0200

    uni-t-dmm: Adjust to GVariant-based sr_config_* functions

commit ede25f4e6f9dbf84629c0058f91014a8bab59a56
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 21:28:33 2013 +0200

    serial-dmm: Adjust to GVariant-based sr_config_* functions

commit f6a0ac9f6217f808d02f1c64a49c7ead3afb06e1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 21:25:51 2013 +0200

    rigol-ds1xx2: Adjust to GVariant-based sr_config_* functions

commit 2c2be401897895c0a343dfd461adcfffbee950a6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 21:25:51 2013 +0200

    mic-985xx: Adjust to GVariant-based sr_config_* functions

commit a9ed6877f7c5e920a5ba065324be9587f3c1ffaf
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 21:25:51 2013 +0200

    link-mso19: Adjust to GVariant-based sr_config_* functions

commit 510b3e692a61239bfa1c6794218acd80e5ba28ef
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 20:55:39 2013 +0200

    brymen-dmm: Adjust to GVariant-based sr_config_* functions

commit 2c9c0df86eaf9b64cf0ba7537b3c3c84f2da4686
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 20:55:39 2013 +0200

    asix-sigma: Adjust to GVariant-based sr_config_* functions

commit aa0dbd683c58c9dd342140a4080d2aa0b95c5bb3
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 20:55:39 2013 +0200

    alsa: Adjust to GVariant-based sr_config_* functions

commit 3316e149d0dd03e65aca72183bc15eb839e392c6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 20:47:01 2013 +0200

    zeroplus-logic-cube: fix samplerate setting

commit e0e150672af8b52f7931ad827bdfb85773cfb4bb
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 31 10:27:15 2013 +0200

    sr_voltage_string(): deprecate struct sr_rational

commit 8386096f013a2735553d5066ed2b96f519c12a76
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 19:48:38 2013 +0100

    zeroplus-logic-cube: Adjust to GVariant-based sr_config_* functions

commit c8733a2bbb876496e3c6eb9e95084d9d5fb7e834
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 19:48:38 2013 +0100

    nexus-osciprime: Adjust to GVariant-based sr_config_* functions

commit e44ac12a29c39cb873968a8fd4c02b3e05316b3b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 19:48:38 2013 +0100

    agilent-dmm: Adjust to GVariant-based sr_config_* functions

commit a59b4eef5576f1c32d1d4a0968be05eb17c865f9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 19:29:44 2013 +0100

    victor-dmm: Adjust to GVariant-based sr_config_* functions

commit 70424328c10640f0c1db0ab6334723658c043470
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 19:29:44 2013 +0100

    fluke-dmm: Adjust to GVariant-based sr_config_* functions

commit dccda194dbd202eb0274f479b51152400ff9de88
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 19:29:44 2013 +0100

    colead-slm: Adjust to GVariant-based sr_config_* functions

commit 7faf69da10e743820ef54d7f3c11cdcc06fc9b1a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 19:08:29 2013 +0100

    lascar-el-usb: Adjust to GVariant-based sr_config_* functions

commit d40073113bc1c09f3924cac275791e53905bbab5
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 15:47:01 2013 +0100

    hantek-dso: Small debug fix

commit 86bb3f4a865a7eed9f0537f01356231cf7d86012
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 15:24:37 2013 +0100

    hantek-dso: deprecate struct sr_rational

commit e48a54629242584b7b2508d657815730ad80cbfe
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 15:23:44 2013 +0100

    input/vcd: deprecate struct sr_rational

commit 76e107d68c010ee3aaede5a1eec2893f82062184
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 30 14:41:01 2013 +0100

    sr_parse_(period|voltage): deprecate struct sr_rational

commit d00088ca6daf91270f8c2f063167eedf2644bb8f
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Mar 26 22:02:45 2013 +0100

    demo: Adjust to GVariant-based sr_config_* functions

commit f627afd65b5b544b1c10345bddf1b3a490fb8c93
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Mar 26 21:38:32 2013 +0100

    hantek-dso: Adjust to GVariant-based sr_config_* functions

commit 38f1e846a81a4fee1a28c0f3547c4ac821b0f882
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 25 20:41:28 2013 +0100

    struct sr_samplerates is now obsolete
    
    sr_config_get() of SR_CONF_SAMPLERATE now returns a GVARIANT_TYPE_DICTIONARY.
    This dictionary contains a single key-value pair. Possible values for the key:
    
     - "samplerates": the value is an array of GVARIANT_TYPE_UINT64 representing
       all valid samplerates.
     - "samplerate-steps": the value is an array of GVARIANT_TYPE_UINT64 with
       exactly three members, which represent the lowest samplerate, highest
       samplerate, and the minimum step, respectively.

commit aeea0572202fa20093534a8e97da87c324151932
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 25 20:40:40 2013 +0100

    ols: allow for disabling of RLE as well

commit e46aa4f611da95cc705279c199f0e662b39eed1b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 25 20:40:15 2013 +0100

    ols: Adjust to GVariant-based sr_config_* functions

commit d6836bf129adc8efbd826b8ea04246167987e0cc
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 25 20:30:56 2013 +0100

    fx2lafw: Adjust to GVariant-based sr_config_* functions

commit 8e34ca86fb54ec1c841724900006868e29b180fa
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 25 20:29:45 2013 +0100

    Add SR_CONF_TRIGGER_TYPE config_info list

commit ec4063b83c9b8a0693b9837787306dd5405e076b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 25 20:27:26 2013 +0100

    input/output modules: Adjust to GVariant-based sr_config_* functions

commit 722db131a45dbc84aaa27cf65467a11552a32548
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 25 20:23:13 2013 +0100

    Add sr_config_free()
    
    Due to struct sr_config now containing a GVariant, this needs to be
    cleaned up after use properly. This is a helper function for that.

commit 003595ac375fac61ed9ef45b13119c80e7c1ade3
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 25 20:21:10 2013 +0100

    Adjust to GVariant-based sr_config_* functions

commit bc1c2f001a3b8499052348ec45155313153b2194
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 25 15:38:44 2013 +0100

    Use GVariant for sr_config_*() functions
    
    sr_config_get() provides a GVariant owned by the caller, so it must be
    released with g_variant_unref() when done.
    
    sr_config_set() takes a GVariant from the caller which may be floating;
    it will be properly sunk and release after use by this function. Thus
    the output of g_variant_new_*() may be used as an argument.
    
    sr_config_list() also provides a GVariant owned by the caller, to be
    unreferenced when done.
    
    sr_config_make() can take a floating reference.

commit 13d8e03c4f9fb6fe9c5f682ab957173effe42d43
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 24 11:21:00 2013 +0100

    Bump copyright year

commit 2e542814cb97a9937f9e4cace367ffdb7a2231cc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 9 19:52:38 2013 +0200

    configure.ac: Fix checks for cross-compiles.
    
    When checking architecture-specific things, always check $host, i.e. the
    architecture we're building _for_, not the one we happen to build _on_.
    
    E.g. when cross-compiling _for_ Android (or Windows or others) it's important
    to check for Android in $host; whether we happen to cross-compile _on_ a Linux
    or Windows or OpenBSD or FreeBSD machine ($build) doesn't matter, only the
    fact that we compile _for_ Android is important for most checks.

commit bbe6e336b3baf86b43f88185f25eab424cbd61f6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 9 18:50:34 2013 +0200

    vcd output: Build fix for Windows/MinGW.
    
    On Windows/MinGW 'recv' seems to be already defined in windows.h/winsock2.h.
    
    Use 'receive' instead, for now, otherwise we get an error:
    
    vcd.c:147:17: error: conflicting types for 'recv'

commit 6bad8487243cb5e86979b801069f9656f627480f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 9 18:47:31 2013 +0200

    configure.ac: Print $host and $build.
    
    In the configure summary at the end also print the architecture we're
    building on ($build) and the target host we build for ($host). The two are
    not necessarily the same, e.g. in the case of cross-compiles.

commit 6e772cbe802327ed79cdaae9d366fed1ec6b081c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 9 18:08:16 2013 +0200

    configure.ac: Mention required lib versions.
    
    In the summary output at the end of a configure run, explicitly mention
    which versions of which libraries are required, and also the version which
    pkg-config has found.

commit 63cbeaeb597450a52086ff23839f5dbf8989a8a2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 9 17:58:37 2013 +0200

    configure.ac: Only enable rigol-ds1xx2 on Linux.

commit e4fad80b8534a05e7318bc4f9e0e688ae04d3ea2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 9 10:03:58 2013 +0200

    configure.ac: Cosmetics for the list of drivers.
    
    Use the canonical driver name (all-lowercase, e.g. "serial-dmm") in the
    list of enabled/disabled drivers that configure prints after a run.
    
    It's common to many drivers that they support multiple devices, so
    printing one device name (e.g. "ChronoVu LA8") is seldom really correct.
    E.g. the agilent-dmm, asix-sigma, brymen-dmm, colead-slm, fluke-dmm,
    fx2lafw, hantek-dso, lascar-el-usb, mic-985xx, openbench-logic-sniffer,
    rigol-ds1xx2, uni-t-dmm, victor-dmm, and zeroplus-logic-cube drivers
    all support more than just one device.
    
    So, just print the driver name instead which is more correct anyway
    since it's specifically a list of enabled/disabled drivers.

commit ccf35720c0494f4102fba8ee0a44ce1d3b67fc10
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 8 15:56:54 2013 +0200

    configure.ac: Improve a libusb-1.0 related check.
    
    Don't rely on the "heuristic" that 'libusb_CFLAGS' will be non-empty if
    libusb-1.0 was found, but rather use the proper method of checking the
    variable 'have_libusb1_0' which pkg-config will set to "yes"/"no"
    depending on whether it finds the library.

commit 3fd1d0ee1c6e8f9d1c6e30c16add1cc4253662bb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 8 15:40:57 2013 +0200

    configure.ac: Improve USB/EZUSB/serial checks.
    
     - If libusb-1.0 is not found, do not compile in ezusb.c and usb.c since
       they require libusb.h. The respective hardware drivers that use
       libusb-1.0, and usb.c and/or ezusb.c will be excluded from the build
       elsewhere in configure.ac. Rename NEED_EZUSB to NEED_USB.
    
     - Drop the NEED_SERIAL check and always compile in serial.c. This is a
       very small chunk of code, it does not depend on any external
       libraries that might be missing, and it compiles on all architectures.
       Thus there's no need to conditionally include or exclude it.

commit ae4c3d0431571346f489be3a370a9bb431a6ec59
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 9 12:32:30 2013 +0200

    configure.ac: Fix the order of some entries.
    
    In order for lib autodetection and disabling of drivers (which require
    libs that cannot be found) to work, the order of AC_ARG_ENABLEs,
    AM_CONDITIONALs, and AC_DEFINEs needs to be changed.
    
    All drivers start out enabled or disabled (depending on whether
    the --disable-drivers option was supplied or not). Then, any driver can
    be enabled or disabled explicitly via --enable-<drivername> or the
    resp. --disable-<drivername> option. Finally, pkg-config checks for all
    libraries are performed, and all drivers which require a library that
    cannot be found are disabled explicitly (regardless of any
    --enable-<drivername> option that might have been supplied).

commit aba692624593131b9f1ea7cd63d1f88b9e09b668
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 8 14:46:13 2013 +0200

    configure.ac: Improve pkg-config related checks.
    
    Until now, we checked for certain (optional) libraries via pkg-config and
    the configure script would abort if any of them was not found, even
    though they were optional. It was up to the user to then figure out which
    combination of --disable-<drivername> switches were required for his
    specific OS (and set of installed libs) to get a working configure run.
    
    Only if the user already specified enough --disable-<drivername>
    switches beforehand, so that all drivers which require a missing library
    were disabled, would the configure run not check for that specific lib
    (and would thus not fail).
    
    With this change, we now always unconditionally check for all libs
    (required and optional) via pkg-config. However, whether an (optional) lib
    is found or not, configure will not abort. Instead, it'll just disable
    all drivers which need a lib that cannot be found.
    
    The user will no longer have to supply --disable-<drivername> parameters
    in order to get a working build.

commit 3f98bf7017341f70ceb92f98b976d972254c3ba0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 7 14:14:16 2013 +0200

    Fix kernel driver attached check
    
    The check is really only broken on darwin, but useful on all other
    platforms, even if only Linux can actually detach a driver.

commit 8c971b6e5c6fa0242d786b3c85aabedf2d9ad432
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 2 14:33:17 2013 +0200

    hantek-dso: cosmetics

commit 67b5fba8cac632ab2ec60a3e115ff9016e900114
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 6 19:28:48 2013 +0200

    Doxygen: Exclude std.c and tests/*.
    
    These don't contain any public API functions or macros and thus should
    not appear in the ("public API" version of) the Doxygen docs.

commit c27e5f1e82819cad599b95a24bf9f617abd6fafb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 6 19:25:03 2013 +0200

    Doxygen: Properly document and handle version.h.

commit ca0938c50b4bf5d010d6140f64542f8307d8ea17
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 6 19:18:37 2013 +0200

    Doxygen: Fix a few warnings.

commit 7b78b2f78fbd8309fd9898c4940b82328a2c39af
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Apr 2 14:18:59 2013 +0200

    hantek-dso: use per-device firmware filenames

commit 3ebce226a2672ea4f0788f5f2a222586148aabc1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 17 16:50:51 2013 +0100

    s/sr_config_make/sr_config_new/.
    
    This matches the naming of other/similar functions better.

commit 333bf022e3ab268fb575ec61ccf0c0f17213647c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 12 21:40:03 2013 +0100

    rigol-ds1xx2: Use ARRAY_SIZE.

commit 3864648bb6ebf24106898a1296bc106daa55e964
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Mar 20 20:36:56 2013 -0500

    serial-dmm: Add support for RadioShack 22-805
    
    Protocol-wise, this is identical to the 22-168, except that it communicates at
    600 baud instead of 1200 baud.

commit 5a7587cd03d81e84a8e4538a1ec9ab36f3a077c2
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Mar 19 22:07:21 2013 +0100

    set proper build defaults for brymen-dmm and mic-985xx drivers

commit cc840ab618ede3d642a1f8d07c353ba91b96e22c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 17 15:07:50 2013 +0100

    serial.c: FreeBSD and OpenBSD don't have OFILL either.

commit 22ca5aa68b55ffc9f33c6fe0138c460b0b2f8f94
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 17 13:22:22 2013 +0100

    configure.ac: Add 'color-tests' (colorized 'make check').

commit 57981a0716a5d9bec807cad8289d091893de0919
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 17 13:19:57 2013 +0100

    configure.ac: Drop std-options, unneeded.
    
    The automake 'std-options' option checks whether all installed tools
    and scripts have a --help and --version CLI option. This check is not
    needed for libsigrok though, since it doesn't install any tools.

commit 9d67e248cab789314d758e5ee20a7b47eef69fe5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 17 13:07:59 2013 +0100

    Don't make README.devices executable.

commit ba642e8678906a27015755f8ca04ca7f73195036
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 17 12:53:08 2013 +0100

    README: Refer to INSTALL and new Building wiki page.

commit 898c562fd3b33b07d030ea7f57eb09cd49efe69b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 17 12:58:26 2013 +0100

    autotools: Don't use "foreign" option.
    
    This adds INSTALL and allows for a few more sanity checks being done.

commit 8e77bc20b92574076683d861687b63b416d3e965
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 16 21:50:35 2013 +0100

    lascar-el-usb: push samplerate before data log

commit 7231a14590840ffdbb77c1cc076d7dcafa3ee673
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Mar 16 20:17:41 2013 +0100

    add SR_CONF_SAMPLE_INTERVAL
    
    Expresses the time between samples, in milliseconds. This can be used
    for devices with a samplerate > 1 second, such as dataloggers, which
    cannot be expressed with SR_CONF_SAMPLERATE.

commit c77ed446f2c08e2906883023c85feafa19a0ec10
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 13 10:33:17 2013 +0100

    Add initial README.devices file.

commit bb203cde9d42df0430e64cb5d2b604c9d68b5639
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 12 23:00:58 2013 +0100

    configure.ac: Add missing AM_PROG_CC_C_O.

commit 361d15110ce355dd69099d95ac8c9716e45b3173
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 11 16:36:40 2013 +0100

    lascar-el-usb: support for SR_CONF_DATALOG

commit e6551ea640f113a9f7cd6bfaaf3a8d0689c71edf
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 11 16:35:18 2013 +0100

    add SR_CONF_DATALOG

commit 985727626183bf1517a9046f4eb40c732e566b8f
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Mar 11 15:28:41 2013 +0100

    ols: use ptr to int dereference for SR_T_BOOL
    
    This mad ptr to int casting has to go.

commit 218e629fa48e2efb970b018d8d2ff8ccfa2d9a2c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 10 17:13:15 2013 +0100

    sr_init(): Sanity-check input/output modules.

commit 0b4b41eed84be29e21b0e65c8072b546b4fdd37e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 9 12:20:17 2013 +0100

    Add missing ULL suffixes to SR_MHZ() et al.
    
    This fixes bug #72.

commit 79bb0e97d53526ef6deb491ea9c7698ed6e90631
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 7 09:37:42 2013 +0100

    Add a testsuite for libsigrok.
    
    This adds a suite of unit tests for libsigrok. It uses the 'Check'
    tool/library (apt-get install check) to run the tests.
    
    The configure tool tries to find libcheck. If it succeeds, a
    "make check" will run all tests. Otherwise, none of the tests will
    be built and "make check" will not run any tests.
    
    This also means that users who don't have 'check' installed will still
    be able to build and install libsigrok just fine.

commit d5585e32dd856b09d78acab2aac3ba6c78ad7752
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Mar 6 23:14:00 2013 +0100

    output/vcd: use new API

commit 2474d87e8c9b1133017a06c9ef0896626267e95b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Mar 3 21:17:48 2013 +0100

    demo: sync get/set options

commit a819da9c258bd1f295604e4078c84ca0bab2de04
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 3 18:02:24 2013 +0100

    Drop deprecated sr_session_halt().
    
    This has been deprecated in favor of sr_session_stop() since a while.
    
    None of the current frontends use sr_session_halt() anymore, neither
    does libsigrok.

commit 365f04d61f54908013021be83450d38fff67964f
Author: lelazary <lelazary@yahoo.com>
Date:   Tue Jan 8 08:27:52 2013 -0800

    mso-19: Initial analog probe support (unfinished).
    
     - Added the analog probe (unfinished).
    
     - Reset trigger to state to 0 before capture, just incase the scope is in
       the middle of a capture.

commit 5952553f569f82b878717b9d97053690014604c9
Author: lelazary <lelazary@yahoo.com>
Date:   Tue Jan 8 08:00:57 2013 -0800

    mso-19: Fixed warning.

commit 07e1aad5c4d53ee1028613312061f261f1a7800a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 22 15:12:32 2013 +0100

    doxygen: Add more output format docs.
    
    This is largely taken from the respective wiki page (with some updates
    and improvements), which will be removed in favor of the doxygen docs.

commit 8368734386f3bce5c568258b830c002d2581dfc6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Feb 21 21:27:27 2013 +0100

    doxygen: Add more input format docs.
    
    This is largely taken from the respective wiki page (with some updates
    and improvements), which will be removed in favor of the doxygen docs.

commit 1d36b4d27f737dfcd6e232bc9d9538bd64bf1afb
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Feb 21 15:20:50 2013 +0100

    input: new WAV file module

commit 543d45c581658851b41af42ebdbc476ccf3d88d3
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Feb 21 14:48:43 2013 +0100

    input: feed the filename to the module's init() function
    
    This is essential if a format contains e.g. the number of probes; the
    init() function needs to initialize the sr_dev_inst struct, but needs
    access to the file to properly add the probes to it.

commit ff17e6ba5094d590926a2aa8130220a341fc2c04
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 11 18:23:17 2013 +0100

    mic985xx: Add missing memset().

commit 6f3e5335adc5ba4488c5f7dcb791f929c20f2049
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 9 16:13:03 2013 +0100

    mic-985xx: Add support for the MIC 98581.
    
    This device only supports temperature measurements, no humidity.

commit be6db330f86707c5eadf2a3f20903860dbadaabf
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Feb 10 17:06:38 2013 +0100

    hantek-dso: minor fixes

commit 8421ffa44dc9b0ca89c554c40be39dcc151e7495
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Feb 10 16:49:23 2013 +0100

    asix-sigma: don't try to free static storage

commit d5a669a9e0319531595a8a45b6c21f0c316a24f1
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 4 13:36:23 2013 +0100

    properly deal with decimals

commit cd2f0fe22c35dcf3b010411ff6f123701be2a2d6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 1 23:45:32 2013 +0100

    Add/use std_hw_dev_acquisition_stop_serial().

commit 17548571cc836edaf45e4707e74f6537605fc924
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 8 23:13:33 2013 +0100

    zeroplus: Only report supported samplerates.
    
    The currently supported model LAP-C(16032) doesn't support the
    samplerates 150MHz and 200MHz which some of the other models have.
    
    Thus, do not report these samplerates to the frontends. E.g. sigrok-cli
    should not show them via --show and GUIs should not list them in their
    "Samplerates" drop-down.

commit e495a676ebda71cdcc39904ee28174ccba7ce2ae
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 8 22:18:55 2013 +0100

    zeroplus: Cosmetics, small fixes, drop unneeded stuff.

commit 58c5f2ed1785ead87d1398c28b5dbe60ba4610dd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Feb 7 22:09:39 2013 +0100

    zeroplus: Split into api.c and protocol.c.

commit c7142604a2d29ca58f6e4d7cba070a329030e60b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Feb 7 09:16:28 2013 +0100

    session.c: Drop left-over 'session: ' prefix.
    
    This is added automatically now.

commit 3e9b7f9c776221c2c6b0d9f51b48db31383a4b03
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Feb 7 09:11:26 2013 +0100

    Rename session_dev_id to cb_data everywhere.
    
    We use 'cb_data' in all drivers these days, make the few remaining ones
    that use 'session_dev_id' consistent.

commit 6fab7b8f5365c7be69be4a755910945b6113dd8f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 6 22:35:24 2013 +0100

    Driver struct cleanups.
    
     - Explicitly list .config_get in all drivers for consistency, and set it
       to NULL if unused (whether or not a driver implements it is optional).
    
     - List all 'struct sr_dev_driver' entries in the same order in all drivers.
    
     - Move the check whether .config_set/.config_list exist (i.e., are non-NULL)
       into sanity_check_all_drivers().

commit 4afdfd4628e9955af02a3ea619ecdfe469f9a9e2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 6 19:57:32 2013 +0100

    Add and use std_session_send_df_header().
    
    This is a small helper function which sends the SR_DF_HEADER packet that
    drivers usually emit in their hw_dev_acquisition_start() API callback.
    It simplifies and shortens the hw_dev_acquisition_start() functions
    quite a bit.
    
    It also simplifies the input modules which send an SR_DF_HEADER packet, too.
    
    This patch also automatically removes some unneeded malloc/free in some
    drivers for the 'packet' and 'header' structs used for SR_DF_HEADER.

commit 961009b0c4002717c669a0cdcafb0fcf29f5ea1b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 1 22:58:54 2013 +0100

    hw_dev_close(): Move common checks to wrapper.
    
    Check the relevant arguments for != NULL before calling the actual
    driver-specific function, so that the driver can safely assume those
    arguments are non-NULL. This removes the need to duplicate these
    checks in every driver.

commit 0e94d524c19fe89c564243421d37c17818f87631
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 2 19:52:26 2013 +0100

    Shorten/simplify hw_dev_list() implementations.

commit 7c8a9e1e0fada5d726bce638cf4d36147ed4ebbf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 2 12:22:18 2013 +0100

    serial-dmm: Drop unneeded g_try_malloc0().

commit bf6f8399fc3515c0e3827a17b2fc21f4a9211a0f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 2 12:14:26 2013 +0100

    Make 'struct rs9lcd_info' non-empty.
    
    Empty structs can be an issue (compiler-dependent), so add a dummy entry
    for this one.

commit c5d6f5cc1c0069a5141c5c76f7e17dd592427138
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 2 11:35:20 2013 +0100

    brymen-dmm: Cosmetics, coding-style, consistency.
    
    Also, name the driver "brymen-bm857" in preparation to doing "subdrivers"
    for other Brymen models later (similar to serial-dmm).

commit 943e94f567a386e3cf754cfe7f4e15893622a95d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 2 11:19:03 2013 +0100

    brymen-dmm: Use std_hw_init().

commit 601fb67cc4977d7e04e20916bde52147b35df970
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Mon Nov 26 17:09:05 2012 -0600

    brymen-dmm: Add support for Brymen BM857
    
    This patch might also work for a number of other Brymen models
    -- 859(a), 867, 869---
    including their respective rebadges from Greenlee, Extech, and Amprobe.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 20cbc7854dc0a375e23fea2ca7e7feee3d3ac701
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Nov 21 21:20:39 2012 -0600

    brymen-dmm: Initial driver skeleton.

commit 0cd8e23140612703406a57316bb0a507fb8f1994
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 30 18:21:07 2013 +0100

    Initial driver implementation for MIC 98583.
    
    This is a USB/serial (Prolific) based temperature and humidity logger.

commit 7ec5b54955118d8c1ee003a02c3334f1a0046457
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 30 16:58:01 2013 +0100

    mic-985xx: Initial driver skeleton.

commit 6d1161142dfce461c8e54c09d821443c68916df8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 28 17:43:04 2013 +0100

    zeroplus: Use message logging helpers.

commit c4227fc637431113ba92092ddbda86461703c06c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 29 12:55:00 2013 +0100

    device: Cosmetics.

commit d3b38ad389a6186e2822d62b20b9f0d9d9e7c21c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 29 12:55:00 2013 +0100

    Drivers: Explicitly list sr_samplerates fields.
    
    This makes it a bit easier to understand which value means what, just
    from looking at the driver code.

commit 063e7aef6d41d4c44591ff93672079998bf9622f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 29 12:55:00 2013 +0100

    Factor out common hw_init() driver code.
    
    Most drivers do pretty much the same things in their hw_init()
    right now, so factor out that code to std_hw_init() in std.c.

commit 4b97c74e0b5c19ad0ee04620b618461248ab69d7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 28 20:00:54 2013 +0100

    sr_driver_scan(): Improve checks.
    
    Check the relevant arguments for != NULL before calling the actual
    driver-specific function, so that the driver can safely assume those
    arguments are non-NULL. This removes the need to duplicate these
    checks in every driver.
    
    Also, do some minor whitespace and consistency improvements.

commit c0eea11c4535e071c72b357fa7e2d1288104c134
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 28 19:36:16 2013 +0100

    sr_driver_init(): Improve checks.
    
    Check the relevant arguments for != NULL before calling the actual
    driver-specific function, so that the driver can safely assume those
    arguments are non-NULL. This removes the need to duplicate these
    checks in every driver.
    
    Also, change one SR_ERR to the more correct SR_ERR_MALLOC, and assign
    sr_ctx in the rigol-ds1xx2's hw_init() function, like all the other
    drivers do.

commit bd36d826d4b9916034c6268919e2a72a0d7ea000
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 29 12:55:00 2013 +0100

    hwdriver: Use message logging helpers.

commit a421dc1d7b24bb7b8f2127b6c07df6b68eb5001f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 29 12:55:00 2013 +0100

    session: Use message logging helpers.

commit cbc6f3b25331bc4acca1eff9a5e60786e2efd2f8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 29 12:05:00 2013 +0100

    hantek-dso: Use message logging helpers.

commit 140185af6c2b73a2b940012269f893962cbecd52
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Jan 28 20:28:03 2013 +0000

    Check sr_config_set value argument is not NULL

commit 4c961f5ed5e127aae75e48cd4369dc25439f24d4
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Jan 28 20:26:37 2013 +0000

    Made sr_config_list driver argument a const pointer

commit 9fd504b9eb37502b4cd2d5d105f9f24ad1b5adf9
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Jan 28 20:25:56 2013 +0000

    Made sr_config_get driver argument a const pointer

commit 7d4abe5a77b39c11b2187e1768339fcd11b0b763
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 27 01:23:01 2013 +0100

    serial.c: NetBSD doesn't have OFILL.

commit cbadb856d6d833f2822cf63e4884abb409da6172
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 26 01:18:19 2013 +0100

    Code cleanup.

commit 41bad9283d5bf869cfdf3d54373bec4dc51eaf16
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 20:41:49 2013 +0100

    Remove sr_driver_hwcap_exists().

commit 4d15e5c9077a543a452a976933286c705c2e7088
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 16:20:40 2013 +0100

    Rename sr_dev_has_hwcap() to sr_dev_has_option().

commit 6a4710fac267c07cc146b2a3cd23204b08bea552
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 16:05:48 2013 +0100

    drivers: Trim unused config_get() calls
    
    None of the driver config_get/set/list calls are required.

commit ddd9b41f5af2c5f1719439546a378d91ceef6c30
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 15:48:44 2013 +0100

    Rename sr_info_get() to sr_config_get().

commit 358d050d7a2a1729d8200eaa8ffc16318e47958b
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 15:38:57 2013 +0100

    Rename sr_dev_config_set() to sr_config_set()

commit aeba33ba219c4944b880be0b0687b7798b152ab0
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 15:16:39 2013 +0100

    Header cleanup.

commit 0d485e30c607b22b5f328512327e4e0fafc6cbb7
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 15:09:20 2013 +0100

    Deprecate SR_DI_HWOPTS.
    
    This is replaced by SR_CONF_SCAN_OPTIONS.

commit 9a6517d14b1248855cde0d88ec9519f99184cc77
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 15:01:49 2013 +0100

    Deprecate SR_DI_HWCAPS.
    
    This is replaced by SR_CONF_DEVICE_OPTIONS.

commit c50277a6ec09fb35de3a6e0f2ae3401bc72a1526
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 11:52:27 2013 +0100

    Deprecate SR_DI_TRIGGER_TYPES.
    
    This is replaced by SR_CONF_TRIGGER_TYPE.

commit 328bafabd4781e416e3d711dabd8c4c43f219794
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 11:25:32 2013 +0100

    Deprecate SR_DI_TRIGGER_SOURCES.
    
    This is replaced by SR_CONF_TRIGGER_SOURCE.

commit 41f5bd09b0d3c5f9232ff20d076f76cc41acad32
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 11:22:20 2013 +0100

    Deprecate SR_DI_TIMEBASES.
    
    This is replaced by SR_CONF_TIMEBASE.

commit 6e1fbcc41b9d5e627faa704a31ca150715b09861
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 11:19:12 2013 +0100

    Deprecate SR_DI_FILTERS.
    
    This is replaced by SR_CONF_FILTER.

commit e4f2b2adc17bf0ab6dfa38b7511caf5a5dcfa7fd
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 11:13:49 2013 +0100

    Deprecate SR_DI_VDIVS.
    
    This is replaced by SR_CONF_VDIV.

commit 2a7b113d1382aef08d63778042589177c9b04347
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 11:04:27 2013 +0100

    Deprecate SR_DI_COUPLING.
    
    This is replaced by SR_CONF_COUPLING.

commit 6d1ceffa9557bf5cd0315949de5791e76e18bdc4
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 10:58:37 2013 +0100

    Deprecate SR_DI_BUFFERSIZES.
    
    This is replaced by SR_CONF_BUFFERSIZE.

commit dd96ea98793ed089f1b0a7dd31f417774f14ad80
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 03:38:44 2013 +0100

    Deprecate SR_DI_PATTERNS.
    
    This is replaced by SR_CONF_PATTERN_MODE.

commit 123e13138385055003cb6bc09e74df783df5af85
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 03:17:36 2013 +0100

    Deprecate SR_DI_CUR_SAMPLERATE.
    
    This is replaced by SR_CONF_SAMPLERATE.

commit fbec8bd2f3ead02358df65240c2cf786c8267f54
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 02:39:58 2013 +0100

    deprecate SR_DI_SAMPLERATES
    
    This is replaced by a call to config_list() with id SR_CONF_SAMPLERATE.

commit a1c743fc51d7b49c769fb525fe4b89985a9468c9
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 02:32:05 2013 +0100

    drivers: implement config_list()

commit c5fb502f9773ecf6df83a32ab82bcd1b70fa857f
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 25 01:24:42 2013 +0100

    New driver API function: config_list()
    
    This takes an sr_config key and returns a list of possible values for
    that key to be submitted with config_set(). The format of the list and
    its contents is dependent on the key.
    
    This will replace the SR_DI_* keys that returned such a list before,
    such as SR_DI_SAMPLERATES.

commit 035a1078fda93cf1da37d19b3a1d95311b99b00f
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 24 19:19:09 2013 +0100

    drivers: rename and reorganize config get/set
    
    The driver API calls info_get() and dev_config_set() have been renamed
    to config_get() and config_set(), respectively.

commit 69e19dd7691f86ac001469d1b319e1358e0d9778
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jan 23 03:40:44 2013 +0100

    Always interleave analog data with all enabled probes.
    
    The new "probes" field in sr_datafeed_analog contains a copy
    of all enabled struct sr_probe.

commit b1a051544d502f15a1da05682e625755563b86c2
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jan 23 02:32:58 2013 +0100

    serial: more serial processing flags to turn off

commit 08a9260ba4413bbdee0bfcc8a9c4544500fdb241
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 22 11:18:18 2013 +0100

    Header cleanup: remove unused structs.

commit 431ec7ca4abc85810c2553646e6b6af13138b65e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 21 23:40:09 2013 +0100

    uni-t-dmm: use new sr_config struct

commit 1953564a96798bc298d1c94eb90c129adbde1c9e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 21 23:22:47 2013 +0100

    Rename SR_HWOPT_* and SR_HWCAP_* to SR_CONF_*

commit c89c1c9c211a197f24de7bfd32ecbc873dd66818
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 21 21:58:19 2013 +0100

    Unify all SR_HWOPT_* and SR_HWCAP_* enums.
    
    Only two functions remain for accessing meta info on the keys:
    sr_config_info_get() and sr_config_info_name_get().

commit 63b9e16e7e1564acd8bac9956bd65a4999ae0581
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 20 16:38:28 2013 +0100

    No need to send a metapacket when loading a sigrok file.

commit c71bac3b98ace917533db91e682712105c3ccf45
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 20 16:37:23 2013 +0100

    Adjust session debugging to the new SR_DF_META packets.

commit fbf394c61766e51627033b4e95c8f9ae034c7dc1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 20 16:36:35 2013 +0100

    Deprecate SR_HWOPT_MODEL
    
    This was only ever used for the defunct genericdmm driver.

commit 083d64f94f6c619ca427c2544b2c08b2929a8051
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 20 16:35:25 2013 +0100

    Use new struct sr_config_info for option metadata

commit 4c0e310ca305ba776aa70d8062f467ac246c910b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 20 16:34:38 2013 +0100

    Add small helper for creating struct sr_config

commit 72e435ab94ac8838626da034ccbcfa9424add8ef
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 20 16:33:24 2013 +0100

    Adjust option helpers to new sr_config struct

commit 2df1e81970b38bd4edb6e219ad295c8a83315797
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 20 15:45:09 2013 +0100

    Use new SR_DF_META packet.
    
    Since input modules determine a samplerate by reading from their
    file format (or having it overridden with an option), they need
    to pass this up to the frontend.

commit d8e3685c47088c3219c004885d1be3c34c6503a6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 19 13:20:34 2013 +0100

    free USB config descriptor after use

commit 1987b8d63e748f0813dc6a4630e99686e4fe1728
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 6 17:41:30 2013 +0100

    drivers: use new sr_config struct
    
    Sending an SR_DF_META packet at the start of every stream is not
    mandatory; the frontend should ask for what it needs, and any extra
    information the driver wants to send will come in due time.

commit 9a5693a5acf677c47285307235b9d47bcc3b932e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 6 16:37:41 2013 +0100

    unify sr_datafeed_meta_* into one struct containing sr_config
    
    struct sr_config is the new name for sr_hwopt. Its companion meta
    struct, sr_hwcap_option, was renamed sr_config_info.

commit 86c02e6554061bf84b5fb7893e5837d26534a6d8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 21 01:47:30 2013 +0100

    serial.c: Fix copy-paste error.
    
    Thanks Bert Vermeulen for reporting.

commit 9d8fde40c3cc852e2d0b2d337609b247310ce277
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 21 01:45:02 2013 +0100

    uni-t-dmm: Quickfix for UNI-T UT61D.
    
    This is a temporary fix only, since a major rework of uni-t-dmm is being
    done at the moment, soon to be merged.

commit 5edc02c77c3576a47ee85241f32785cdf0fdddf8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 19 22:00:39 2013 +0100

    Add missing "ULL" suffixes.
    
    These numbers are larger than 32bit, mark them as ULL to avoid compile
    failures on 32bit systems.

commit 73365eaed046b2242a3080cfd282edfa266b1d2f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 20 19:57:04 2013 +0100

    uni-t-dmm: Expose hwopts.

commit 388f9d3e25da89df1fb01412688339b6de54e14e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 20 19:55:33 2013 +0100

    uni-t-dmm: Fix scanning, properly use new sr_usb_find().

commit 4ebd48b352a28add68d54d509b291688e1df601b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 20 18:48:02 2013 +0100

    Remove non-error hw_info_get() messages.
    
    Currently hw_info_get() can receive requests for entries (info_id) that
    the specific driver doesn't support. That is (right now) a valid
    use-case and not an error (might change later, though).
    
    Thus, for now, don't output messages for such requests at all (certainly
    not as sr_err() where they show up in e.g. sigrok-cli output per default).

commit a978eda2c958967518508e4cc461e960e96a0170
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 20 18:47:35 2013 +0100

    udev: Add UNI-T UT-D04 multimeter cable entry.

commit 7d39e2105f6da82f4f90a87d081c1bf5cc30968d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 19 21:20:56 2013 +0100

    configure.ac: Drop AC_PROG_CXX.
    
    We don't need a C++ compiler for libsigrok, so don't check for one.
    
    This would cause a build failure on all systems where there is a C compiler
    but no C++ compiler installed.

commit 294245ecf280ce72bffa40586d68195aa5980b6d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 19 19:13:52 2013 +0100

    README: Document alsa (optional) library.

commit b97cbca6c9c715619c8a5a9d6f5de267ff061175
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 19 15:55:22 2013 +0100

    serial.c: OpenBSD doesn't have B460800.

commit 262dd3e47da1af2233ffd659cda81769f53b4012
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 16 01:31:46 2013 +0100

    configure.ac: Drop gthread check, no longer used.
    
    We no longer use gthread (its only user was the 'demo' driver), so drop
    the 'configure' check for it.
    
    The libsigrok.pc pkg-config file is still correct, since the 'configure'
    result propagates there automatically.

commit 3d6de074a445fbd3ac0adfa2bc28e3fd283df681
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 16 00:02:24 2013 +0100

    alsa: Silence ALSA scanning process.
    
    Errors while opening or configuring ALSA devices during scan for devices
    should not be shown by default (i.e., no sr_err() usage). Non-working
    or non-accessible devices (due to permissions or other reasons) will
    simply not show up in frontends. Use sr_dbg() instead of sr_err().

commit 6b8d6f93bb8df26ea04624009e2715cb6766b4f5
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 15 17:20:57 2013 +0100

    Get rid of obsolete SR_DI_NUM_PROBES and SR_DI_PROBE_NAMES.
    
    Frontends should use the probe list in the device's sr_dev_inst
    to get this information.

commit bd58d8f3ece91443d5e98a7e99fd740767ed6222
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 14 11:13:58 2013 +0100

    Makefile.am: Fix typo in 'ChangeLog' target.

commit 8a22e8c0ff4e43ceae154c908c75a3e06bf26cc6
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 14 00:59:46 2013 +0100

    cosmetics

commit dbf2482ec11affee1a6137be1544cc5463359174
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 14 00:52:55 2013 +0100

    add --disable-all-drivers option
    
    Can be overridden by driver --enable options to build only those drivers.

commit 512bb890df8363e800025b3b63ebac429c139aa0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 13 22:42:21 2013 +0100

    rigol-ds1xx2: More selective Rigol DS1xx2 scan
    
    Patch submitted by Martin Ling.

commit 5635705c8330d243ec566e15373eb47eb5b0fd9c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 13 18:07:05 2013 +0100

    cleanup of obsolete definition

commit 18bc270461d656460db8a167c10d390fe665f3b9
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 8 02:51:03 2013 +0100

    sr_session_save(): don't use datastore

commit 6936ee4206817dbf07fdb8524172bdb46d21c5c0
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 7 02:10:33 2013 +0100

    remove datastore functionality
    
    Keeping a copy of acquired data is up to the frontend, not libsigrok.

commit 305de92e9d50bcabaa055d43dc27fec1c2e97cc1
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 7 01:52:02 2013 +0100

    use a dynamically expanding probe list

commit cbc80f8f8afe28ff825449deffcc5aca7b51d7b8
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Jan 6 09:31:30 2013 -0600

    fx2lafw: Say if chip is old FX2 or FX2LP
    
    Look at the extracted REVID, and print out if it is an FX2 (non-LP), or FX2LP.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit a24e9d0484c09f972dcb31952a1ab1559bbcdedb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 8 03:12:01 2013 +0100

    link-mso19: Use more portable g_htons().
    
    Not all systems provide <arpa/inet.h> and/or htons(). Use portable and
    always available g_htons() from glib instead.

commit 753d722f340465f5bebb175c378b579296ebbd54
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 8 03:02:53 2013 +0100

    link-mso19: Fix a bunch of compiler warnings.

commit 00b44ccb8b2482c2c4c7e832ed11f7460f289e15
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 8 02:48:49 2013 +0100

    link-mso19: Fix white-space, cosmetics, coding-style.
    
    Fix the bare minumum of whitespace/indentation/coding-style via
    automatic 'indent' run, followed by some minor manual fixes.
    Some more fixes and cleanups might follow later.

commit f48cef7897ecda093a7d8b37b2bfeb1868c529af
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 8 02:30:40 2013 +0100

    link-mso19: Fix (C) lines.
    
    Bring back the original (C) lines from before the split into api.c
    and protocol.[ch].
    
    Add "Copyright (C) 2013 Lior Elazary <lelazary@yahoo.com>" since there
    were nontrivial changes to those files.

commit 8472ae868ec05533bb00b368b4c5140e24c0409b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 8 01:27:11 2013 +0100

    configure.ac: Enable Link Instruments MSO-19.
    
    This driver now compiles again and (partially) seems to work, so enable it.

commit eb913174ab1fa7decaab3dd64eec0a0a42a2391a
Author: lelazary <lelazary@yahoo.com>
Date:   Mon Jan 7 07:49:31 2013 -0800

    Added limit samples Eveything seems to work find up to 1024 samples

commit 087a9161fffa0cabe8aa37cf3358d88bcd72fb21
Author: lelazary <lelazary@yahoo.com>
Date:   Sun Jan 6 09:46:01 2013 -0800

    Rewrote the trigger config. Added trigger position and trigger slope

commit 5a24e89ca463ba7acb465f4bc9953e2da9c09e45
Author: lelazary <lelazary@yahoo.com>
Date:   Sat Jan 5 18:12:45 2013 -0800

    Eveything seems to work now except for triggers.

commit 4db2aaffe7b47b15e6ad7e4e11281d62bbd598c8
Author: lelazary <lelazary@yahoo.com>
Date:   Sat Jan 5 09:29:00 2013 -0800

    More cleanup. Communication with mso19 is working, but its not triggering. Need to check why.

commit 26ddb5bacaf2a0918ef73b253d25afb1ffb744b1
Author: lelazary <lelazary@yahoo.com>
Date:   Sat Jan 5 09:00:52 2013 -0800

    Added flow control to serial configuration to support xon/xoff for link-mso19

commit 4b719338ccf3add3f872e8cd7549bddf818c4360
Author: lelazary <lelazary@yahoo.com>
Date:   Fri Jan 4 17:22:15 2013 -0800

    Added missing mso functions

commit def5c35c4c4a4f62ffc8800a1e2d7154e8fc4bd3
Author: lelazary <lelazary@yahoo.com>
Date:   Fri Jan 4 17:05:17 2013 -0800

    Removing the old link-mso19 files and changing makefile

commit df92e5cf6b1caad0d1d43eb890d84af1ef79cd18
Author: lelazary <lelazary@yahoo.com>
Date:   Fri Jan 4 17:03:20 2013 -0800

    Rewrote the link-mso19.c into api and protocol. Still need to test and cleanup some more

commit 26e6ef346d0d188932f6774d52134d8d48e38ab4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 3 19:17:51 2013 +0100

    Add gnuplot_rigol_ds1xx2.gpi gnuplot script.
    
    This is a very simple gnuplot script for testing the Rigol DS1xx2 driver.
    It currently has various issues and limitations (e.g. only one channel
    is displayed, the scaling is not usable, and so on) to be fixed later.

commit 29d957ceae3bd9ac5b72cd0e58a5910932bd1768
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 3 19:04:11 2013 +0100

    rigol-ds1xx2: Cosmetics, whitespace.

commit fb6e5ba8c7da4cc16eda03e3ffd0a97780655442
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 30 15:29:00 2012 +0100

    rigol-ds1xx2: Autoprobe for usbtmc devices on Linux.

commit 4e108ace13f2dc577e2855e44dfc685b9cfd6204
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 30 14:17:08 2012 +0100

    rigol-ds1xx2: Fix setting trigger parameters.

commit 542843f76f4b2f780bf9ae6265f1a76841297d8a
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 30 14:06:58 2012 +0100

    rigol-ds1xx2: Assorted parameter setting fixes.

commit e0b7d23ce884f03ecb693943c5bd822879c68d65
Author: Martin Ling <martin-git@earth.li>
Date:   Sun Dec 30 04:17:56 2012 +0100

    rigol-ds1xx2: First working version.
    
    Currently hardcoded to use /dev/usbtmc1. Analog data readout works.

commit f4816ac6cc2403558276ada44d3e14eb4a9b3d15
Author: Martin Ling <martin-git@earth.li>
Date:   Sat Dec 29 22:22:10 2012 +0100

    rigol-ds1xx2: Initial driver skeleton.

commit aeabd30820bd3b685fb0bac83d1dc4a7faa32287
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 3 02:15:27 2013 +0100

    ols: Implement SR_DI_HWOPTS.

commit 986fde755d6bec3dfbf6d2bf4768ca359fc05174
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 26 01:53:50 2012 +0100

    serial-dmm: Add UNI-T UT61E support (UT-D02 cable).

commit fe0c0b98c6d10290cbd2b461e3cb17404b0ba457
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 7 19:10:36 2012 +0100

    Add Cyrustek ES51922 DMM chip parser.

commit 21d3d4ee871ee84a5ba598b21e9a1bdeaa9db5e3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 1 00:33:05 2013 +0100

    alsa: Add some more samplerates.
    
    Add some more samplerates that seem to be supported by some devices
    (found via random grepping of alsa and kernel sources).

commit a1b9a9bf44b33ee9f3a6ac5ae59a1ced1e2c3281
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 31 23:31:48 2012 +0100

    alsa: Add missing % for PRIu64.

commit 52ba6e05d59d6b2199214aed14330f213e79a593
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 31 23:31:31 2012 +0100

    alsa: Improved error reporting.

commit 721ecf3d97aa6e84e6d61b3c25023e9177895025
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 31 22:54:17 2012 +0100

    alsa: Cosmetics, coding style, typos.

commit 65faa197ae4c607c9c127af99af6c8e5b6acd7b3
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Dec 26 12:11:33 2012 -0600

    alsa: Find supported samplerates during device scan
    
    Since we are using the 'hw' interface of ALSA, we don't have the luxury of
    samplerate conversion, given by the 'plughw' interface. If we try to set a
    samplerate that is not supported, ALSA will just throw an error.
    
    We can test for the supported samplerates, and create a list of supported
    samplerates, then limit the selection to only those values. The frontend can
    query the list of supported samplerates.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 729850c9e7dfa2c08c11a025d5a54b8e8e803f3c
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Dec 23 12:57:37 2012 -0600

    alsa: Fix sample acquisition and send normalized values
    
    The alsa driver requested signed 16-bit integers from ALSA, but casted them to
    to an unsigned 16bit before finally casting them to a float. The end result was
    that half of the wave would be clipped off.
    We also requested data in little endian format. ALSA can be instructed to send
    data with the correct endianness for the platform, without needing to worry
    about what that is.
    
    This patch attempts three points, which, together, fix the acquisition:
    1) Request data from ALSA without specifying endianness; ALSA will handle the
    endianness.
    2) Simplify the int16_t to float loop by using straightforward indexes.
    3) Normalize every value before sending it on the session bus.
    
    NOTE: If testing with PulseView, it will appear as if sigrok is sending all
    zeroes. sigrok is sending correct data, but since the data is normalized,
    PulseView will incorrectly plot it as a straight line.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 6944b2d02f23cf562574d3d1b37a2d698bdbde4e
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Dec 20 13:47:09 2012 -0600

    alsa: Scan all soundcards and create a sigrok device per input
    
    The alsa driver only works with device "default". This limits the driver's
    scope to whatever device ALSA deems to be "default". It is desirable to have
    access to all ALSA devices from sigrok.
    
    Change the alsa device scan so that:
    Each alsa device (not alsa card) gets its own sigrok device
    For example,
        hw:1,0 == sigrok device 0
        hw:1,1 == sigrok device 1
        hw:2,0 == sigrok device 2
        hw:2,1 == sigrok device 3
        hw:2,2 == sigrok device 4
        [...]
    
    We don't currently look at alsa subdevices. We only use subdevice 0.
    Every input device will have its own channels (left, right, etc). Each of
    those channels gets mapped to a different sigrok probe. A device with 4
    channels will have 4 probes from sigrok's perspective.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 0d6ff1039447c35fa8b423ee02468e62a5064cab
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Dec 26 20:14:54 2012 -0600

    alsa: Do not use snd_pcm_hw_params_set_rate_near()
    
    snd_pcm_hw_params_set_rate_near() will try to use the samplerate closest to the
    given value, potentially starting the acquisition with a different samplerate
    than the one specified.
    
    Instead, use snd_pcm_hw_params_set_rate(). It will return an error if the
    samplerate is not supported by the hardware, which is arguably better than
    collecting data with a different samplerate than the one specified.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit cbc8cbd8bbd664043c349133818e0ab41422c751
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Mon Dec 31 15:14:49 2012 -0600

    rs9lcd: Add missing 'break;'
    
    A break was missing for "case MODE_AMP_WIDTH:" in sr_rs9lcd_parse().
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit f4abaa9f6b37d07bd565c74a60139d641e86b1d1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 31 21:21:39 2012 +0100

    asix-sigma: Fix two compiler warnings.
    
    asix-sigma.c:648:9: warning: 'ret' may be used uninitialized in this
    function [-Wmaybe-uninitialized]
    
    asix-sigma.c:1337:20: warning: 'triggerselect' may be used uninitialized
    in this function [-Wmaybe-uninitialized]

commit b7c3e8499c9dc499874876efdf5fb499368d6f10
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 31 21:05:11 2012 +0100

    session: Fix compiler warning.
    
    session.c:258:6: warning: 'ret' may be used uninitialized in this
    function [-Wmaybe-uninitialized]

commit 6375e1c3eba6243bcaa28f0eee5452cc6f9ae2fd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 31 21:03:45 2012 +0100

    victor-dmm: Fix compiler warning.
    
    protocol.c:106:10: warning: 'factor' may be used uninitialized in this
    function [-Wmaybe-uninitialized]

commit f057272cac1baeead056502c29faeef83323b0bc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 31 21:02:14 2012 +0100

    nexus-osciprime: Fix compiler warning.
    
    protocol.c:26:46: warning: unused parameter 'fd' [-Wunused-parameter]

commit 811155da461851e8a7f75df898a301a7db48c667
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 31 21:01:53 2012 +0100

    uni-t-dmm: Fix compiler warning.
    
    protocol.c:84:5: warning: 'ret' may be used uninitialized in this
    function [-Wmaybe-uninitialized]

commit 6e9d545cf4f546cbdb8a7ecd16d26e7d5e767a0b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 31 20:58:14 2012 +0100

    rs9lcd: Fix compiler warning.
    
    rs9lcd.c:289:19: warning: 'rawval' may be used uninitialized in this
    function [-Wmaybe-uninitialized]

commit 9116262931773877e4dd279336ebb2be8f182c05
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 30 01:44:58 2012 +0100

    add USBTMC device search helper

commit 80bc663296dade5d21e74fbbc5259b4f1b069fff
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 29 11:19:19 2012 +0100

    tondaj-sl-814: remove unneeded debugging

commit 2239728c43aa12bcac66613bb4c84e745836d19d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 28 17:13:20 2012 +0100

    ols: Add missing 'extern'.

commit d40a8d1455d3e08a17d1f9d96ee59e1826c7d8e1
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Dec 28 16:46:21 2012 +0100

    added VID:PIDs for all Hantek DSO-2xxx/5xxx

commit bdd7618cd1f0645e3446814a9438965863d859f6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 28 11:22:16 2012 +0100

    configure.ac: Fix CFLAGS settings.
    
    Don't override/overwrite CFLAGS in configure.ac, but rather amend it
    with (currently) "-Wall -Wextra -fvisibility=hidden".
    
    This properly allows users/packagers to do things like:
    
     ./configure (this will default to using "-g -O2" additionally)
    
     CFLAGS="-g -O2" ./configure (same as above)
    
     CFLAGS="" ./configure (no additional flags)
    
     CFLAGS="-g -O0" ./configure (disable optimization, e.g. for valgrind use)
    
     etc. etc.

commit 14766619703e5b16acee2ebef569751ea90009bb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 19 22:50:07 2012 +0100

    serial-dmm: Rename VOLTCRAFT_VC820 to VOLTCRAFT_VC820_SER.
    
    This matches the _ser suffix of the other functions/variables for this
    device ("ser" denotes that it is used with the serial UNI-T UT-D02 cable
    as opposed the USB/HID based cables which are handled by the uni-t-dmm driver).
    
    But more importantly, the _SER suffix for the enum value will prevent
    name clashes later, when the uni-t-dmm driver gets a VOLTCRAFT_VC820 enum.
    
    Do the same for VOLTCRAFT_VC840.

commit 35e199da505f5b8fadffa58875aaca70a8fde4f2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 26 01:29:27 2012 +0100

    Fix limit_samples check in various drivers.
    
    Check whether a sample limit was actually set (> 0) before checking if
    that sample limit is reached. This also fixes continuous acquisition mode
    for drivers which have that.

commit 786934010365a0b33aa8a32a7dc62a2975dba4c7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 26 00:12:52 2012 +0100

    Shorten probe_names[] arrays everywhere.
    
    Also, NULL-terminate all of them.

commit df36acb36a141e81eec0e6c5bd2734f86dd52597
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Dec 26 00:01:37 2012 +0100

    nexus-osciprime: suppress warnings

commit f9b9bd632faf4d5651c31a51026f6cbd219256e4
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Dec 23 12:48:48 2012 -0600

    serial-dmm: Handle time-limited acquisition
    
    Implement SR_HWCAP_LIMIT_MSEC capability, to allow acquisition to automatically
    stop after a specified amount of time.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 47eda193b2ce105ce50ddd284c99d813dacc49a7
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Tue Dec 25 16:21:24 2012 -0600

    rs9lcd: Fix segfault with unusual modes.
    
    Some unusual modes required re-parsing the value. Instead of assigning the
    re-parsed value to *floatval, it was reassigned directly to *analog->data;
    however, analog->data is not initialized at this point, causing a segfault.
    This situation was created when moving the radioshack-dmm code to serial-dmm,
    with the segfault not being observed at that time.
    
    Do not write directly to analog->data, but instead use the intermediate
    variable rawval.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 0853d5e627cc8ec493e52197fc8e9b3175701128
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Tue Dec 25 15:40:30 2012 -0600

    rs9lcd: Convenience fixes
    
    Convert bit masks from hardcoded hex values to bit shifts. For example 0x80
    becomes (1 << 7). This also fixes a typo error in the definition of INFO_DIODE.
    
    Add comments explaining that some case values in sr_rs9lcd_parse() are meant to
    fall through without a 'break;', and explain some of the unusual modes.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit a97a3d708930a62bbc296785664b0d2677b233b2
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Dec 25 19:13:20 2012 +0100

    added Nexus-Computing OsciPrime VID:PID

commit 523dfc2497c8e7c765ea423ec9d638feba9ed73d
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Dec 25 19:09:12 2012 +0100

    nexus-osciprime: basic scanning functionality
    
    Unfortunately the device doesn't have an EEPROM on board at all, and so
    initially enumerates with the default Cypress FX2 VID:PID (04b4:8613).
    Since we already support using plain FX2* as basic logic analyzers using
    the fx2lafw firmware, we cannot support that same VID:PID for the
    OsciPrime. Therefore a USB conn is required for the initial scan.
    
    However, once the firmware is uploaded the device re-enumerates as
    04b4:1004, which we do detect for scanning automatically.
    
    Thus, the OsciPrime driver requires one scan with conn parameter to get
    the firmware uploaded, but it will then keep working until powered off.

commit 35a078bce5cff9b8ff221a9930d271ec90e20ec4
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 24 20:11:38 2012 +0100

    nexus-osciprime: Initial driver skeleton.

commit 2f1e5c7cb7ca72b6ebde7015191486ebfc0ffc70
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 24 20:27:45 2012 +0100

    fluke-dmm: Properly handle continuous mode
    
    Same bug+fix as commit d55c89f523e74a2f629bb23e8fd9bf6db7e3758a

commit f1f7e62d6df766f4a65d7854ae2dd745c623c863
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Dec 19 04:15:18 2012 -0600

    session.c: Remove all remaining sources on sr_session_stop
    
    Some sources may not be necessarily associated with a device. The best example
    is the anykey pollfd from sigrok-cli. sr_session_stop only removes sources
    associated with hardware devices via dev_acquisition_stop. Sources such as
    anykey are not removed, and thus session->num_sources will not get to 0. As a
    result, we may get into situations where the event loop enters an infinite
    state.
    
    To prevent this, all we have to do is remove any active sources that are still
    present after dev_acquisition_stop has been called for all devices.
    
    This fixes bug 14.

commit dc890b8f9fa01895d3849e7d5ab8be1146f07b9e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 24 16:57:55 2012 +0100

    asix-sigma: Quickfix for an ASIX SIGMA issue.
    
    It's not entirely clear whether this is the right fix, but we're merging
    it for now, pending later review.
    
    See also: http://sigrok.org/bugzilla/show_bug.cgi?id=26

commit b36e715395d220b7542b6038af3742e85e7bab92
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Tue Dec 11 20:51:53 2012 +0000

    fx2lafw: Tidied probe_names

commit 0aba65da9f4031ca6eb7d0c268e4d06b0d0bfa06
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 23 20:41:27 2012 +0100

    ols: Split into api.c and protocol.[ch].
    
    Also, drop various no longer needed #include files.

commit a567547e205eca58065f21aa5b1502a34ba315b3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 23 19:09:11 2012 +0100

    ols: Use logging helper macro.

commit 11fb7110f46a76a4b078896f0e6c9396bf828189
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 24 11:00:55 2012 +0100

    fluke-dmm: 190 series scopemeter support
    
    199B only for now.

commit 4cea0ff7febe335aa4607e544561710963d5e5af
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 24 10:59:41 2012 +0100

    fluke-dmm: parser cleanup

commit 9fa09680277cdc1f7f0792bedefff256ad9694ec
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 24 10:56:54 2012 +0100

    fluke-dmm: adapt scanner to accomodate 190 series scopemeters

commit d4b11de09a42710c1c043693d5bda0fc8bc72f90
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 24 10:40:04 2012 +0100

    fluke-dmm: make poll timeout configurable
    
    Defaulted to 1s before, but a simple "QM" command on a 199B in scope
    mode takes 1.7s to come through.

commit d92faf6cacf7088bd241bb8f0b1adc48082e85fb
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 23 18:54:24 2012 +0100

    serial: more debug cleanup

commit 49aaa0bc68c1bf77cd81989c40e471fe7bd161ec
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Dec 20 10:41:48 2012 +0100

    serial: get rid of overly verbose spew
    
    It just made spew-level logging unusable; the way sigrok async comms work
    guarantees most of it was a false error.

commit 9cd9f6b71c35c0203b7e8997ce9425d0dc6e0f4d
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Dec 20 11:33:49 2012 -0600

    alsa: Split into api.c and protocol.c
    
    This is the driver model agreed upon for all drivers.
    
    As a result of the split, a devc->num_probes field had to be added in order to
    reduce the interdependence between api.c and protocol.c .
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit acac8fc3500bc1f1e9e43c1508638488d91b2f86
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Dec 19 21:39:38 2012 -0600

    device.c: Fix memory leak in sr_serial_dev_inst_free
    
    sr_serial_dev_inst_free() freed all members of sr_serial_dev_inst, but did not
    free the struct itself, as expected from a free_*() function. This inadvertently
    caused a memory leak in every place sr_serial_dev_inst is used.
    
    Free the struct itself
    
    +       g_free(serial);
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit d55c89f523e74a2f629bb23e8fd9bf6db7e3758a
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Dec 22 16:00:44 2012 -0600

    serial-dmm: Properly handle continuous mode
    
    serial-dmm does not check if a sample limit is actually in place before deciding
    to stop acquisition. Since the sample limit is set at 0 by default, operating
    in continuous mode will cause acquisition to stop before even sending the first
    sample.
    
    Check to make sure we actually are in a sample-limited mode before stopping for
    this reason.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 17dfb2c32c6686630fd95b2f25e554fa01f8ebd1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 22 01:33:03 2012 +0100

    configure.ac: Improve check for libusb-1.0.
    
    PKG_CHECK_MODULES() checks for libusb-1.0 via pkg-config already, no
    need to use a "manual" additional check via AC_CHECK_LIB() just to set
    HAVE_LIBUSB_1_0 in config.h.
    
    This helps with cross-compiling setups, among other things.

commit 0254651dcba4b8c34d35845083250586ecf964ed
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Dec 17 19:39:13 2012 +0100

    alsa: Update to latest APIs/conventions.
    
    The alsa driver was out of date wrt APIs and libsigrok conventions in
    general, and wasn't compiling.
    
    This fixes the compile and updates it to _basically_ work with the current
    state of analog support in libsigrok.
    
    This is not finished/full support for ALSA analog sampling yet, though,
    various TODOs remain that will be addressed later.

commit bf53457d1ddea58d1cb7e4feea83ad0cc1d63031
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Thu Dec 13 21:07:53 2012 +0000

    Pass sr_datafeed_packets and payloads with const pointers
    
    This patch marks packet structures and their payloads as const.
    This indicates to packet receivers that modifications to these are
    not allowed. In general all pointers should be marked const unless
    modification of the referenced data is explicitly allowed.

commit 16d6e56d124dcedf7273212bbfab1aed6ac7e7aa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 18 02:25:17 2012 +0100

    hardware/agilent-dmm/Makefile.am: Fix typo.

commit 4f9bf9a202d331b0f2ec088d73d72808e1a934b4
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Mon Dec 17 02:04:35 2012 -0600

    chronovu-la8: Fix memory leak in hw_scan
    
    Hardware scanning creates an ftdi_context before attempting to locate devices
    based on PID/VID. If no devices are detected, execution jumps to cleanup. The
    context is freed with free(), instead of ftdi_free().
    
    We cannot assume that the libftdi context is stored in a contiguous memory
    region, and thus cannot use a simple free. Case in point, this situation is
    identified by valgrind as a "definitely lost" memory leak.
    
    Use ftdi_free() instead of a simple free() in hw_scan(). Valgrind no longer
    complains about a memory leak in this area.
    
    clear_instances() does not need any modification, as it correctly uses
    ftdi_free().
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit c0bf69c29b138d18ee9f542985664eeaeeb47a0a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 18 01:30:34 2012 +0100

    fx2lafw: Fix int64_t printing.

commit b99457f09c90ce7fbb0de1793088dd53a59a0d07
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 18 01:26:58 2012 +0100

    fx2lafw: Various cosmetics, typo fixes, etc.

commit a873c5940cc6d2d8f54f2dfdac3a98c4a3d302ee
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 18 00:52:39 2012 +0100

    Consistently use 'di' as variable name.
    
    Use 'di' consistently in all drivers as the name for a local, static
    pointer to the respective driver's 'struct sr_dev_driver'.

commit 443a14d81f44772076aefdb2b252657d6abc0d29
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Dec 6 15:55:14 2012 -0600

    fx2lafw: Print device failed to renumerate error
    
    commit 378abfeac6cc94d88dc82b8481dec9c9f691f3da tried to solve a bug where
    the fx2lafw driver would print "Device came back" even if a timeout had occured.
    
    It solved that issue, but inadvertently introduced a new bug:
    "Device came back" would be printed even if no firmware upload was performed.
    This is counterintuitive, as the device is only reset when a firmware upload is
    performed.
    
    There are three cases:
    i)   Firmware upload was successful
    ii)  Firmware upload failed
    iii) Firmware upload was NOT needed
    
    Each case warrants a separate message from the driver. Print the
    following messages depending on the outcome:
    
    i)   "Device came back"
    ii)  "Device failed to renumerate"
    iii) "Firmware upload was not needed."
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit f427daefb01cdaf578dc8b9fa5f59c5525439289
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Dec 13 15:08:05 2012 -0600

    fx2lafw: Use DRIVER_LOG_DOMAIN for log messages
    
    Use the new DRIVER_LOG_DOMAIN mechanism, where explicitly writing
    the driver name in the message string is no longer required.
    
    Thus:
    
    - sr_err("fx2lafw: Something bad happened.");
    
    becomes:
    
    + sr_err("Something bad happened.");
    
    In either case, the log output is the same.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 006dbe55878ec7499e58a130c27f6c4297ada54b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 16 22:27:04 2012 +0100

    serial_stream_detect(): Drop unneeded sr_spew().

commit 54d112218713b34491cd65454abad340ff19a393
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 16 22:17:48 2012 +0100

    serial-dmm: Add Voltcraft VC-840 (UT-D02) support.
    
    This works with the UNI-T UT-D02 (RS232) cable. For the USB/HID
    based cable (UNI-T UT-D04), the uni-t-dmm driver must be used.
    
    Note: This is untested, but should work just fine for all settings, with
    the possible exception of temperature (testers needed!)

commit 40830061eb3a1327c1a8c76758e84b252e1950a8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 16 22:03:28 2012 +0100

    serial-dmm: Add Voltcraft VC-820 (UT-D02) support.
    
    This works with the UNI-T UT-D02 (RS232) cable. For the USB/HID
    based cable (UNI-T UT-D04), the uni-t-dmm driver must be used.

commit 16b7b79005aaf0ab67d207ca11989f62d983ce62
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 16 21:28:26 2012 +0100

    serial-dmm: Eliminate unneeded "subdriver" field.
    
    Just use the 'int dmm' + wrapper method that is used for all other
    functions which need this information. There is no real need to
    special-case the hw_dev_acquisition_start() API call here.

commit 22f54192358620f24fc2df2ea6e8f578fee24b81
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 16 21:23:49 2012 +0100

    serial-dmm: Cosmetics, documentation fixes.

commit 6aed917b133d44199500cdffc0d2f7998add3fb6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 16 23:06:15 2012 +0100

    lascar-el-usb: fix sample limit parameter

commit 801c7800c6260a2e12aa2618263a717334946eb8
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Dec 15 11:03:10 2012 -0600

    linsigrok.h: Document meaning of SR_UNIT_CONCENTRATION
    
    Having concentration as a unit is vague, as it can be expressed in
    many ways. In the context of sigrok, concentration means a normalized
    number from 0 to 1.
    
    Document its meaning.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 6787f4049a0c05ffb438fc1718f1fe9840be5a41
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 16 18:48:20 2012 +0100

    lascar-el-usb: support for EL-USB-2*

commit ef4344e7f44fe8b67fdbf1cebf2b1a6d7edbfe77
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 16 18:38:44 2012 +0100

    add relative humidity MQ

commit 7249d7833b69c1d753b18112891870d8aeda3d69
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 15 22:50:33 2012 +0100

    analog: support ppm output

commit 7f00750ca4ed224b3880058847e6398f30cbb8f7
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 15 22:49:40 2012 +0100

    lascar-el-usb: properly submit CO concentration as a PPM value

commit b0c95747e1e7ffa7ca9e8ca4a9bdda781469750a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 15 22:34:40 2012 +0100

    lascar-el-usb: add config saver

commit b6506d5e03e67c5029525d36016936cf9c858720
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 15 11:15:30 2012 +0100

    lascar-el-usb: EL-USB-CO300 support
    
    Works the same way as the EL-USB-CO, but with the more sensitive sensor,
    so should work out of the box.

commit 521a0cd3577db0ec2763493d95d2ffa479568a3a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 15 11:07:18 2012 +0100

    cosmetics

commit 4f3bd685e695790ff578d17d0ed95c00784e58fa
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 15 10:50:22 2012 +0100

    add MQ/units for carbon monoxide concentration

commit 6aa1eb4ea33e1aeeef772cd234f140464eea3fe2
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Dec 15 04:06:51 2012 +0100

    lascar-el-usb: generic EL-USB support + EL-USB-CO support

commit c5f1a021b82f3c2c56df2a0860bb6f9776e1076b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 9 15:19:39 2012 +0100

    usb: strip overly verbose debugging

commit 9ec7ff94ed08aecc9c8898b00c797fd2621438c4
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 9 14:40:12 2012 +0100

    victor-dmm: free in the right order

commit e7f378fd1ab895259cda8b0545663b39c7bc16f0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Dec 9 14:39:17 2012 +0100

    usb: strip useless code

commit e7ed87a469cb3c997ec2e98bc2c39d4284d86252
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Dec 13 12:35:06 2012 -0600

    serial-dmm: Use dummy info struct for rs9lcd parser
    
    The rs9lcd parser, which is used for the RadioShack 22-812 does not use its
    *info parameter, and therefore did not have a rs9lcd_info struct declared.
    
    With recent re-factoring of the receive data callbacks, it became necessary to
    pass a struct pointer. This made the RECV_DATA macro look like:
    
    - RECV_DATA(RADIOSHACK_22_812, metex14)
    
    giving the wrong impression that the RadioShack 22-182 uses the
    metex14 protocol, which is not the case.
    
    Create a dummy rs9lcd_info struct, and correctly identify the parser
    as rs9lcd in the RECV_DATA macro:
    
    + RECV_DATA(RADIOSHACK_22_812, rs9lcd)
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit c69049091ec6e1383805064d3c472264384ffb57
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Dec 13 11:08:38 2012 -0600

    libsigrok.h: Don't store subdriver in sr_dev_driver
    
    Not all drivers use subdrivers. The only reason the subdriver field was
    introduced was to accomodate the model of serial-dmm.
    
    The sr_dev_driver struct is available to the frontend. Exposing the subdriver
    field creates the problem of exposing knowledge of libsigrok's internal driver
    layout, even though the drivers are designed to be a flat list to the frontend.
    
    Store the subdriver in the dev_context struct of serial-dmm.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit d128bf12b27432988cc5a0bf7d6ec3fca0696b0b
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Dec 13 10:53:28 2012 -0600

    serial-dmm: Remove global sr_dev_driver *di alias
    
    The global *di alias was used to keep track of the driver context.
    It caused issues with trying to use several subdrivers at once, so
    its use was obsoleted.
    
    The correct context is preserved through different mechanisms, either
    the *sdi pointer, or wrappers which pass the correct context.
    
    The *di alias is no longer used, so remove it.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 3098b3902d1794831be010ebff0484caf845de60
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Thu Dec 13 08:58:01 2012 -0600

    serial-dmm: Simplify wrapper layout
    
    Wrappers for hw_init, hw_cleanup, clear_instances, and hw_scan are needed for
    each subdriver due to the nature of serial-dmm. These wrappers are implemented
    as macros, in order to reduce the number of lines of code.
    
    For each of those functions, we have a separate wrapper list, then we connect
    them together in a first-class driver using a DRV macro, and yet another list
    (the DRV list).
    
    Instead of declaring those wrappers in separate lists, include them in the DRV
    macro. This approach reduces the number of macro lists from five to just one.
    
    From the perspective of adding a new subdriver, this also greatly reduces the
    number of places needed to hook in a new device.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit fd9b2b865ac4e3f12305744753c0759c34c056c4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 13 01:54:13 2012 +0100

    serial-dmm: Add per-driver clear_instances() wrappers.

commit 0c23677d0bc04a024c382aef64e5146887bdcb1b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 13 01:47:02 2012 +0100

    serial-dmm: Add per-driver hw_cleanup() wrappers.

commit ca4b130943e266f545ae8ba89528f285831540cd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 13 01:41:34 2012 +0100

    serial-dmm: Add per-driver hw_dev_list() wrappers.

commit ea4c6c2311f2c31ccf6863b13a815918ccee974b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 13 01:27:31 2012 +0100

    serial-dmm: Add per-driver hw_scan() wrappers.

commit dccfe015868b5f1a5a5996983164d135ec561596
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 13 01:19:17 2012 +0100

    serial-dmm: Use a macro for receive_data() wrappers.

commit f1437c6814c693bd624211c5b644951cf16139f2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 13 00:59:42 2012 +0100

    serial-dmm: Use a macro for driver struct simplification.

commit 06b7a8af7e2e4b7baf28f4fa710a7dd00765f18a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Dec 11 17:06:04 2012 +0100

    serial-dmm: Simplify code a bit.
    
    Store/use the receive_data() function and a pointer to the driver struct
    in the dmms[] array. Use a ".subdriver" entry in the driver struct.
    Use a macro to simplify hw_init() wrappers.

commit 5b389efcfeff17b0f7466597706c898ad65eb6a9
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Dec 9 13:15:24 2012 -0600

    serial-dmm: Avoid duplicate symbol error
    
    Declare dmm_info dmms as extern in protocol.h to prevent duplicate
    symbol error from the linker.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 378abfeac6cc94d88dc82b8481dec9c9f691f3da
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Thu Dec 6 21:31:37 2012 +0000

    fx2lafw: Don't say "Device came back" when it didn't

commit 26be4ebef369e465eb5f13ee7bbab71b62e455f6
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Dec 5 15:16:52 2012 -0600

    serial-dmm: Fix segfault when no device is used
    
    di was initialized as NULL. If no device covered by this driver
    is used, di remains NULL. This causes a segmentation fault when
    calling clear_instances().
    
    Check for di being NULL.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 63c07e48c627684f04d70e7dea2baf7c72ff2a41
Author: Peter Stuge <peter@stuge.se>
Date:   Sat Nov 3 08:29:26 2012 +0100

    backend.c: Return a sigrok error in sr_init() on libusb_init() errors

commit 123d97b17715204c58b795b8e6cbecc55725e5d3
Author: Peter Stuge <peter@stuge.se>
Date:   Sat Nov 3 08:27:48 2012 +0100

    backend.c: Fix memory leak in sr_init() error path
    
    Commit 785b9ff290cbdb86e7d0b0280c33b43faf9c0518 added libusb init into
    sr_init() which can generate an error. In this case, the already
    allocated struct sr_context would have leaked.

commit 1740429d7045385866caafb0d2cbe302e7c74604
Author: Peter Stuge <peter@stuge.se>
Date:   Wed Dec 5 01:23:49 2012 +0100

    hardware: A few further USB error message fixups

commit d4928d7102c6b2f9f7aa51a1b98669bf148fff80
Author: Peter Stuge <peter@stuge.se>
Date:   Tue Dec 4 21:11:25 2012 +0100

    hardware: Call libusb_error_name() in all USB-related error messages

commit 851d5b2274f138d58be42adbbe584d9a4c4dfe01
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Dec 4 23:58:26 2012 +0100

    lascar-el-usb: add scanning functionality

commit 402704445e081ef7737081885496169f91af7ab9
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Dec 4 23:58:03 2012 +0100

    add thermometer and hygrometer HWCAPs

commit 7ae6a75826be6d7ddd885947630ecb26ba9fa1a5
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Dec 4 23:25:11 2012 +0100

    usb: sr_usb_find() uses standardized connection string to find a USB device

commit 5ea1e54ab54542803d531bd714b09b54fbaab408
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Dec 4 23:11:40 2012 +0100

    add VID:PID for generic SILabs F32x USBXpress chips
    
    Used in Lascar EL-USB series devices

commit d458a0ac290c4be4cad19c22e143748a5ddff0e6
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Tue Dec 4 13:31:49 2012 -0600

    ezusb: Use DRIVER_LOG_DOMAIN for debug output
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit f4284934354bff761a74eee545e5a4b7911a8e8c
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Mon Dec 3 19:39:58 2012 -0600

    tondaj-sl-814: Fix unused parameter warning
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit d4abb463a749cd3d614e98c7fe7f5d28ad69475d
Author: Peter Stuge <peter@stuge.se>
Date:   Mon Dec 3 03:33:24 2012 +0100

    hardware: Make USB drivers use the libusb_context in struct sr_context

commit 1ebe4b4e6926eb1288ce77b179a92bc670eb9eca
Author: Peter Stuge <peter@stuge.se>
Date:   Mon Dec 3 02:49:36 2012 +0100

    hw_init(): Save struct sr_context * parameter in struct drv_context

commit 34f06b903e3529a73feb7a6e74fae934a999f821
Author: Peter Stuge <peter@stuge.se>
Date:   Mon Dec 3 02:47:55 2012 +0100

    Add a struct sr_context * parameter to hw_init()

commit 44fc870c9cc5c0e53b47b9d7fa3dffe81731ee3c
Author: Peter Stuge <peter@stuge.se>
Date:   Mon Dec 3 02:42:57 2012 +0100

    Add a struct sr_context * parameter to sr_driver_init()
    
    Since the public API is changed, this commit also bumps the libtool
    version component SR_LIB_VERSION_CURRENT in configure.ac.

commit 73496bb57138dcd1aad4800c8c9ffc6484ca9d8a
Author: Peter Stuge <peter@stuge.se>
Date:   Mon Dec 3 01:34:23 2012 +0100

    alsa: Remove unused and unprovided hw_init() parameter `devname'

commit 46697e38b286541e0e5aa354d35a6f4564855fa6
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 27 17:40:14 2012 +0100

    lascar-el-usb: Initial driver skeleton.

commit 162b735218b906d5a41e8da69ea15b76d267f1fd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 21:58:34 2012 +0100

    Remove some radioshack-dmm leftovers.

commit ea088bb6930c617b2d615ee47c9442b27f449c43
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Dec 2 13:34:51 2012 -0600

    serial.c: Be more verbose about failing to parse parameter string
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 21829e6708ce1167e2d7d5d370166cafe328f092
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Dec 2 13:15:21 2012 -0600

    radioshack-dmm: Integrate into serial-dmm
    
    Use the infrastructure of serial-dmm to handle the RadioShack 22-812,
    and completely remove radioshack-dmm.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 05f134abc2641e6e4d3a22a8dda19460819af16e
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Dec 2 12:58:30 2012 -0600

    radioshack-dmm: Separate protocol parser from driver
    
    Move the parsing part of radioshack-dmm into a separate protocol
    parser, following the model from hardware/common/dmm.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit ae95ffebfa0d8c0992332b33631a26d898957b34
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Dec 2 12:43:37 2012 -0600

    radioshack-dmm: Fix opening of serial port.
    
    During scan the serial port is opened with SERIAL_RDONLY | SERIAL_NONBLOCK,
    which works fine, but when acquisition starts, it is opened only with
    SERIAL_RDONLY. On Linux, if cdc_acm can make a claim to the USB to serial
    converter, opening the port will fail.
    
    Open port with SERIAL_RDONLY | SERIAL_NONBLOCK.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit d5ce233fe16a68e6522538c226a91e63628521dd
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sun Dec 2 09:17:46 2012 -0600

    serial-dmm: Add RadioShack 22-168 support.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit eebb606762218d7e87a18721bad0d47892e220e9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 17:21:13 2012 +0100

    demo: Add missing dev_clear() API call.

commit 55a6daf59f85449d99a62b0a3b6010980125d38d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 23:54:49 2012 +0100

    sr_init(): Add driver sanity checks.
    
    After sr_init() has successfully run, we can be sure that all drivers
    define all the API calls, so we don't have to do these checks later
    in the individual API functions / wrappers.
    
    If there are one or more drivers with missing API functions (or driver
    name / longname, and so on), sr_init() will fail. This helps catch this
    kind of developer error early on.

commit 3a18cf625e6f611041554d81c178b29cec19b484
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 16:11:42 2012 +0100

    serial-dmm: Drop accidentally committed file.

commit 7f64e88fa99d54f22a999e7461e4f13c70f0aa8c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 16:09:31 2012 +0100

    Reduce glib minimum version to 2.28.0 again.
    
    We no longer use g_thread_try_new() which is only available since 2.32.0.

commit 3b20367381bcd955e604c40d05f489f2221c036a
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Dec 1 18:07:10 2012 -0600

    demo: Do not use a separate thread for generating data
    
    We already have an event-based mechanism in place. Using a thread just
    adds unneeded complexity, especially for a driver designed not for
    performance, but for providing a testbed to frontends.
    Generate the data in the event handler, not in a separate thread.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit d4bd66a0c7196fb44f6f22036e3ea452ad5870df
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 01:32:57 2012 +0100

    serial-dmm: Add PCE PCE-DM32 support.

commit a376ffea49411cca09b358f3677938612c79afaf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 01:02:16 2012 +0100

    serial-dmm: Add PeakTech 4370 support.

commit a53da08254a5adcc15c925014eb1083fb067f3b6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 00:40:15 2012 +0100

    serial-dmm: Add Metex M-3640D support.

commit 9871215c83f70a2008272de03268291445ed59c3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 00:36:37 2012 +0100

    metex14: Add dB mode and hFE mode support.
    
    This is found e.g. on the Metex M-3640D DMM.

commit 6dca2f16eedfbcaa0ea4e45c7d58bbf596fa1012
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 23:32:39 2012 +0100

    serial-dmm: Add V&A VA18B support.

commit 5887c9cc1af1d4798d61b338d66b573b1273f9c4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 23:04:00 2012 +0100

    serial-dmm: Add MASTECH MAS345 support.

commit f0ac4929d3aaa83e32b0be0637ae1f22040ea724
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 22:45:45 2012 +0100

    serial-dmm: Add PeakTech 3410 support.

commit ce3777ada98c5099d2867653f25239b85cf55708
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 14:22:15 2012 +0100

    serial-dmm: Add Metex ME-31 support.

commit f086b83011b1282f62f0058872f333aef4bf9daa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 19:53:05 2012 +0100

    serial-dmm: Add Digitek DT4000ZC support.

commit e90cf076aa6854ad3f312179a121bafc4c6e9a22
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 20:48:03 2012 +0100

    metex14: Add sr_metex14_packet_request().

commit 8f46911e4252bddb680fb9adc603ea2640f1724e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 20:11:40 2012 +0100

    metex14: Fix 'is_ol' handling.
    
    Thanks to Bert Vermeulen for the reminder.

commit 2477fb95693aeeeab04323618ba18b1ebdbc3eb2
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Nov 30 13:15:44 2012 -0600

    metex14: Parse microamp (uA) values.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 3ebc9b59a2e2b96ad95dbfdf3218c3b3b00940ef
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Nov 30 13:11:04 2012 -0600

    metex14: Fix parsing of measurement flags.
    
    strcmp(buf + 9, "  mA") does not work because buf is CR-terminated,
    while "  mA" is NUL-terminated.
    
    Drop ambiguities arising from the termination of the strings, and
    only compare the characters we care about, using strncmp().
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit e82d7dbc202794dc30abdb4e50cfb4507f49025e
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Nov 30 12:40:17 2012 -0600

    metex14: Print contents of received packet.
    
    The packet is an ASCII string. We can simply print the raw packet data.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 76b55dfa8a5318a0495d3f2cfb29d6cd229ce5dc
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Nov 30 12:29:22 2012 -0600

    metex14: Fix parsing of spaces.
    
    When the parser found a space, it treated it as an invalid digit
    and discarded the whole packet. This behavior was incorrect on
    2000 count devices, where the first digit can be sent as a space
    rather than a '0'.
    
    Convert spaces to '0' and parse them as usual.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 21a7f2692e09269edd872bca4e25a9d06b67c0e5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 19:35:19 2012 +0100

    Rename tekpower-dmm to serial-dmm.
    
    This is now a generic driver for multiple DMM "subdrivers" that use simple
    serial port protocols.

commit 729b01f98838b50263511ec135754d741698659b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 19:28:36 2012 +0100

    tekpower-dmm: Generalize & first-class TP4000ZC driver.
    
    Prepare the tekpower-dmm driver to be able to support various simple
    serial port based DMMs.
    
    Also, make a 'tekpower-tp4000zc' "first-class" driver which is currently
    the only user of this generic driver.

commit 1fbab466268bf6975c0709d5554ce2192a21ef6c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 19:01:07 2012 +0100

    metex14: Pass 'info' as a void pointer.
    
    This is done so that the function prototype of all sr_*_parse() DMM
    functions is the same, which will be needed later.

commit 93357bc3ce484c2e46a9999d4464ce2d5cc976b6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 18:50:35 2012 +0100

    fs9721: Pass 'info' as a void pointer.
    
    This is done so that the function prototype of all sr_*_parse() DMM
    functions is the same, which will be needed later.

commit d84fc9cb3b9fede9234603f95c1467f95686c1a7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 28 17:14:42 2012 +0100

    tekpower-dmm: Drop unneeded g_try_malloc().

commit 5ddb0cc7d4850375a9ef741012d229ead9a91490
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 14:10:27 2012 +0100

    serial: Don't hardcode parity and stop bits on Windows.

commit 5ae35c29a7010cd018e43d04a809e1c60b7b72fa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 13:56:13 2012 +0100

    serial: Full baudrate support on Windows/MinGW.

commit 39e5d79826cd2c1991007faf1a6cde05af995aa9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 13:41:49 2012 +0100

    serial: RTS/DTR support on Windows/MinGW.

commit a54dd31e380ca4b469a20e41a0023d1dd9ec3c99
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 2 12:45:54 2012 +0100

    serial: Use OS-independent flags for serial port opening.
    
    Add SERIAL_RDWR, SERIAL_RDONLY, and SERIAL_NONBLOCK (for now), which are
    mapped to the respective OS-specific mechanism in serial_open().

commit 0f84cda05d808f2e1c93ee14c4223be85fb9ef84
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Dec 1 22:34:53 2012 +0100

    serial: Fix Windows build.

commit c216d62307a000c75265594a34e8fefee7ba9efc
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Dec 1 12:49:15 2012 -0600

    demo: Properly stop acquisition after reaching our sample quota
    
    The demo driver was using sr_session_source_add_channel() to add
    a poll source, but was relying on sr_session_run_poll() to call
    sr_session_source_remove(). This, coupled with the design of the
    driver caused errors once the samples were collected.
    
    The error stream was most likely related to failing to properly close
    one of the channels.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 49145a63c73e212e43f1ec901bfb4fe9f99e3caf
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Dec 1 12:03:45 2012 -0600

    demo: Be more verbose about starting/stopping acquisition
    
    This is the first step in fixing the demo driver: figuring out what is
    being called and what is not _and_ have it show up in the logs.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 71caaad46bf285681d4921db796b81746324ff29
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 27 00:50:51 2012 +0100

    serial: allow for extra rts and dtr options in conn string
    
    Options in addition to the usual "9600/8n1" syntax start with a
    slash, and take the form of key=value, where different options are
    also separated by slashes. For example:
    
            "9600/8n1/rts=0/dtr=1"
    
    This sets RTS low and DTR high.

commit 700dcd5caa1d7569469cd7823add6ffd2ed5a2ee
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 26 17:01:15 2012 +0100

    serial: Initial code for setting DTR/RTS.
    
    Currently disabled until option parsing is in place.

commit 6b7ace4832b3b574399098de2ad4f4bd0f35a14e
Author: Petteri Aimonen <jpa@git.mail.kapsi.fi>
Date:   Thu Nov 22 23:15:27 2012 +0200

    Add compress option to input/vcd.

commit 904735876118f0ff00ae34e1dbdb80dba752bf2d
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Nov 21 19:33:55 2012 -0600

    radioshack-dmm: Be more verbose with packet checks
    
    Add sr_spew() messages to state why the packet was found to be invalid.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 2ecc5d432fd17127fd221ca4940f9617569911d1
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Nov 21 19:30:26 2012 -0600

    radioshack-dmm: Check for valid mode before calculating checksum
    
    The packet mode byte is akin to a signature. If that is invalid, there's
    no point in calculating the checksum, so check the mode first.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 54be7c005ed9f1f0eab80d1d1de528c8e8d7ce49
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Nov 21 19:19:58 2012 -0600

    radioshack-dmm: Improve serial detection
    
    For device detection, use serial_stream_detect() instead of
    serial_readline() + custom logic.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 551c3d8ce36bebe02765c76ee4d04f4e700d61b2
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Nov 21 19:18:21 2012 -0600

    serial.c: Sanitize serial_stream_detect
    
    Print the timeout in miliseconds, not microseconds.
    Only calculate elapsed time once oer loop.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 8be8746951e5538147370d9871a4c1ed0268db52
Author: Petteri Aimonen <jpa@git.mail.kapsi.fi>
Date:   Wed Nov 21 17:03:49 2012 +0200

    Improve compatibility with various kinds of VCD files.

commit 0157808d740ec11f3a94f2d147b4429bd2a9954d
Author: Petteri Aimonen <jpa@git.mail.kapsi.fi>
Date:   Wed Nov 21 16:28:55 2012 +0200

    Add downsample and skip parameters to input/vcd.

commit 61a429c963fb21c3d8cb8e9166d621526724b714
Author: Petteri Aimonen <jpa@git.mail.kapsi.fi>
Date:   Tue Nov 20 22:24:17 2012 +0200

    VCD data parsing

commit 99eaa20695b2e6c41721072c84215331bbd3f3bf
Author: Petteri Aimonen <jpa@git.mail.kapsi.fi>
Date:   Tue Nov 20 21:03:06 2012 +0200

    Beginnings of VCD input module.
    
    File header parsing implemented.
    Data parsing not yet implemented.

commit 8c012adbc15fcb00aee23f472b08b108d46b818b
Author: Petteri Aimonen <jpa@git.mail.kapsi.fi>
Date:   Tue Nov 20 21:02:14 2012 +0200

    Add support for fs and ps to sr_parse_period.
    
    These time units are used in VCD files.

commit ac913e5c3522fcf5a5633eaa8e19f6579dda554c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 14 18:38:26 2012 +0100

    Add Metex 14-byte ASCII protocol parser.

commit 90165efe55de692e6329d0820d867d0887db5663
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 16 15:26:17 2012 +0100

    ols: if no serial port specified, this driver is not used.

commit 766456be1c144b0985807279ffd697a395083cae
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 14 18:35:37 2012 +0100

    Move serial_stream_detect() to serial.c.

commit e42b82a66f4a16dcc17ccf018637daa7a1a0df51
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 14 18:29:27 2012 +0100

    configure.ac: Update NEED_SERIAL list.

commit 4da1a800df3ce7776b3a533308dabf484fae9a34
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 14 18:20:13 2012 +0100

    serial: Compile-fix for Windows/MinGW.

commit 6bef68a7e1abd472753e16e2188aadd36650c163
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Nov 5 23:25:59 2012 +0100

    tekpower-dmm: Cosmetics.

commit 2546b05c801c90a84fb2e6690d8c253c6576b4ab
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Nov 2 10:53:06 2012 -0500

    tekpower-dmm: Improve serial detection.
    
    Serial detection was using serial_readline, which stripped carriage
    return from the packets. This made for a very unreliable detection
    mechanism.
    
    Switch to a timeout-based detection mechanism that parses the data
    as it comes in. This also allows us to stop parsing once we found
    our first valid packet.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit bda8fc98b1eae0fbd7c57b9da705bfce4384756a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Nov 14 15:18:02 2012 +0100

    Drop obsolete genericdmm driver.

commit d35afa87c9e6d40d34154a784b62deeaffc3ad80
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 12 12:50:42 2012 +0100

    tekpower-dmm: use new serial API

commit 401476daaf3006c0362bdeb7ee99f1d9b9b78809
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 12 12:41:10 2012 +0100

    radioshack-dmm: use new serial API

commit 19ee7dff78f7195bfc82f14ef659751cdd0f6476
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 12 03:00:32 2012 +0100

    tondaj-sl-814: use new serial API

commit f306ca61f65cb703b38e447bbd3dbea3ff9c57c0
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 12 02:48:04 2012 +0100

    colead-slm: use new serial API

commit 109a3ba4137874373b249fee90055373e13a2a1a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 12 02:25:37 2012 +0100

    agilent-dmm: use new serial API

commit 58d03f034f0d85a2840ed0bc9ea66506b5a1fa1b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 12 02:25:17 2012 +0100

    fluke-dmm: use new serial API

commit 530f201eb8280b343529747107c15e91c2ab0623
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Nov 12 02:24:47 2012 +0100

    ols: use new serial API

commit 299bdb249ecaa9f42900a8f1a0fa0404d619c27a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 11 20:38:47 2012 +0100

    serial: revamp internal API
    
    The only thing to get passed around now is the struct sr_serial_dev_inst
    pointer. This should make things more portable as well.

commit de6e0eca95f5d89e12b0940f2ecf59ab563cb725
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 19:40:14 2012 +0100

    sigma/la8/demo: s/SR_PROBE_ANALOG/SR_PROBE_LOGIC/.

commit 472bbb464bf9522ed757826ec590aaf8bab087b5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 13:17:44 2012 +0100

    alsa: Use message logging helpers.

commit a0a23863daecce5b7aaff352ad2bc5f47eb9bd0b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 13:11:58 2012 +0100

    output/gnuplot: Drop obsolete code.

commit 121c18854a4327aedbc46378638d1bb20d67b2d8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 13:10:29 2012 +0100

    contrib/Makefile.am: Add missing files.

commit a885ce3ee9ed770594d5b231f6dec0b740bba03b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 12:44:16 2012 +0100

    Various subsystems: Use message logging helpers.

commit a944a84b17c5f5544b45e27dc07d7f60a4fd6ba8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 09:36:21 2012 +0100

    Output modules: Use message logging helpers.

commit 8e7f1cfd99a37d21ebe3365067cd21b76e866d1c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 09:20:08 2012 +0100

    Input modules: Use message logging helpers.

commit 64d33dc28e0e815cade56feb65f26a3d36421a96
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 09:30:42 2012 +0100

    All drivers: Drop unneeded comments.

commit fa7730623a82bd1703b0d91adb97693e29b2a70c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Nov 11 09:28:30 2012 +0100

    victor-dmm: Cosmetics.

commit 5df7b201563f46b5620a027c59cb054f8887966b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 11 03:27:51 2012 +0100

    serial: avoid Cyrillic conversion specifiers

commit fe1c50fba6b96400d9cc83c852a59f9ac9f2f148
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 11 03:10:29 2012 +0100

    ols: fix device discovery

commit a99e0d2a0c9d1bb4db5623ba50f83486238ee793
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Nov 9 19:52:45 2012 -0600

    ols: Do not randomly probe serial ports
    
    ols driver used to probe a series of available serial ports obtained
    by regexp matching of common serial port names.
    There are a number of problems with this approach:
    1. It will probe all serial devices, including devices that do not
    like to be probed, potentially causing them to act up.
    2. It will try to probe serial ports which may already be opened in
    other applications for other purposes.
    3. It assumes the naming of the serial ports is set in stone, and
    creates an unnecessary OS-specific list.
    4. It produces unnecessary debug output even when an OLS device is
    not connected.
    5. etc...
    
    Do not implicitly probe serial ports. Only probe the port specified
    by the frontend, if any; otherwise, just quit.
    Also get rid of all functionality in serial.c which was designed
    specifically for random probing.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 2244356d1069c5b13fe3b728a421750900deaafe
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 11 02:11:49 2012 +0100

    comment fix

commit 56eb9f95ba8828aa643eb836e62d3d7c9a0bdd33
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 10 19:39:37 2012 +0100

    link-mso19: Use message logging helpers.

commit 92bcedf6e861a11d0b46d2bf5bc7c221b20baa7b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 10 18:24:05 2012 +0100

    demo: Use message logging helpers.

commit e98b7f1be0a97207b9a0b4d7c9a8d397fb542eb1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 10 18:19:30 2012 +0100

    hantek-dso: Use message logging helpers.

commit 47f4f073e0a7fe68a55001180c3c9092551f2108
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 10 13:42:00 2012 +0100

    asix-sigma: Use message logging helpers.

commit 936e27f19712572d5a1c506dc0ef59aad8743fc4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 10 13:32:46 2012 +0100

    radioshack-dmm: Use new file naming conventions.

commit 4e172b8f8d725667d632484f340b1eec47597097
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 10 13:30:02 2012 +0100

    radioshack-dmm: Move some stuff out of .h file.
    
    Most of the enums and #defines are not needed in multiple files, just
    put them in the respective .c file where they're used.

commit ba6383f85574e4e374a141ca88979db86fe2893d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 10 12:51:57 2012 +0100

    radioshack-dmm: Cosmetics, coding-style, cleanups.
    
    Also, drop some uneeded code and simplify some parts.

commit 302c4b5ab54625f3f94af3efe3ee3acf9cea8114
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 10 01:42:32 2012 +0100

    serial: Deduplicate log messages a bit.

commit c073af80f89d8bce8675068d084c96e0cf37bb4f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 9 03:40:53 2012 +0100

    Add initial Tondaj SL-814 protocol handling.

commit aa2af32432b3410421a89303ef48cc990ff39db9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 9 03:33:05 2012 +0100

    tondaj-sl-814: Initial driver skeleton.

commit 63f7cb9791d2b5fbd32a897e94790c9a6def8462
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Nov 7 01:25:10 2012 +0100

    agilent-dmm: use standard serial_readline()

commit 318dd53c7093aa2ea26e0d246b23ffeb77b46707
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Nov 7 01:24:23 2012 +0100

    serial_readline() now terminates on and strips CR and/or LF

commit b87f8504dc82eab0155263887662ac14c252414d
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Nov 7 01:23:24 2012 +0100

    g_get_monotonic_time() takes a signed int64

commit 74ac7d7f735011012fb942577e38ddfe64738c8d
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Nov 7 00:46:30 2012 +0100

    agilent-dmm: no need to specify a serialcomm scan parameter
    
    It's always 9600/8n1 anyway.

commit 33e8a3c5258d9ac92841cf47abd1e1f7528d640b
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Nov 7 00:39:46 2012 +0100

    chronovu-la8: not a bug if an unused driver gets asked to clean up

commit ff945683664a916566289f9bdbb371dfba6f3176
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 6 19:37:33 2012 +0100

    victor-dmm: add protocol decoder

commit 642e9d623cebda60d53d13cf637c42eab8df3c73
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 6 19:32:53 2012 +0100

    more deconstifying sr_dev_inst for dev_acquisition_stop()

commit 7a36037546aaf11b91ff5d63fbd571e15407e357
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 6 15:14:34 2012 +0100

    victor-dmm: add basic USB driver skeleton

commit 69b07d14db24055d23bbb4c4cc718ec073ece0b7
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Nov 6 15:02:37 2012 +0100

    allow for intermediate stage in stopping acquisition
    
    In the case of USB drivers, a driver's dev_acquisition_stop() cannot
    simply remove its fd sources from the session and close its devices:
    a USB transfer might still be underway, and it needs to be finished
    (and its memory freed) properly.
    
    An sr_dev_inst->status value is added: SR_ST_STOPPING, which should
    be set when the driver's dev_acquisition_stop() is called, and acts
    as a marker for the USB event handler to wind up its operations.
    
    In order for dev_acquisition_stop() to be able to set the sdi status,
    however, it needs to be unconstified.

commit ac3898d2d09f54862522967f10487a0708df810c
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 2 20:47:06 2012 +0100

    victor-dmm: Initial driver skeleton.

commit 0ab0cb942f59e2232921c10d79ed43cad6cf3153
Author: Toshiaki Yoshida <yoshida@mpc.net>
Date:   Mon Nov 5 16:06:14 2012 +0900

    zeroplus-logic-cube: Fix samplerate and trigger
    
     - Default to 1MHz.
       The default sample rate is the lowest frequency (100Hz),
       but it takes a very long time until 128K memory is full.
    
     - Fix the 1MHz setting.
    
     - Use samplerate list.
    
     - Fix 10MHz frequency.
    
     - Fix trigger.
    
     - Change the size of memory according to the number of samples.
    
     - Add pre-trigger (capture ratio) setting.
    
     - Fix the first acquisition after power on.

commit 41d9427f27f8d175fb0a0259c4e4507ca818b616
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 23:44:09 2012 +0100

    uni-t-dmm: Use new USB helper functions.

commit 0c632d36be4b7b34addadf0649fea95173fe0f9a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 21:04:21 2012 +0100

    genericdmm: Factor out USB functions.
    
    Move sr_usb_connect() and sr_usb_open() to hardware/common/usb.c in a
    slightly more generic form and add more error checks and logging.
    
    Let genericdmm use the new/moved functions.

commit 538ac9a91e5efb65e3c28d5a9af16c6fcfd63872
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 2 20:43:49 2012 +0100

    colead-slm: fix sloppy driver context handling

commit f18297a5fd88f09a9e1a1330777f6db6dfe8999a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 19:05:53 2012 +0100

    HACKING: Document enum setup.

commit 24d04d1e3de61cc3f1f12c3091bf393ee2dac8de
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Nov 2 11:56:56 2012 -0500

    Avoid future ABI breakage by hardcoding enum values.
    
    Whenever we added a field to the enums in libsigrok.h, we were running
    the risk of breaking ABI compatibility. Any reordering of existing values
    or the addition of entries other than at the bottom of the list would
    cause an ABI breakage.
    
    By hardcoding the values we ensure that any added field will have an
    unused value, and will not take a value previously used by a different
    flag. By doing this, we avoid confusing frontends compiled with an
    earlier API.
    
    We use 10000 as the first entry of each enum, and each "category" gets
    an explicit number (10000, 20000, 30000, and so on).
    
    Also avoid making the first value of an enum zero. A value of zero is
    used as terminator item in some lists.
    
    Remove explicit "DUMMY" (terminator) enum entries, they're not needed.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 83e3c368c67d6bbc86015fc47a7f7e39160b3baa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 18:49:00 2012 +0100

    serial: Output successful open and the FD.

commit 20af610683e4d7fc22deaa26e7b92730057405cd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 18:44:52 2012 +0100

    serial: Fix two segfaults.

commit c485db908ae2c8f3f85eb70c2a5f86bcc2cab975
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 18:35:08 2012 +0100

    serial: Fix some sr_err() items.

commit 43d8eaf601416ff5f06eca4d1433cb4381821081
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 18:16:58 2012 +0100

    genericdmm: Drop left-over entry.

commit 441b80035e0f64e4149ae9d85f2d96fee6cde5bd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 18:05:18 2012 +0100

    genericdmm: Drop some dead code.

commit b19f4622b6a1d21b00bd93d99e10bb4565ed7af0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 15:58:54 2012 +0100

    serial: More error-checking & logging, add baudrates.
    
    This mostly affects the non-Windows code so far, the rest will follow.

commit d7c776b9ff604bc05ff59ca69539e2179180f5df
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Nov 2 15:57:21 2012 +0100

    serial: Add missing "break"s.
    
    This would otherwise cause bugs when e.g. asking for 2 stopbits.

commit a8d09e13264be77bcf1fe53202880ce4c26e39f9
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 2 15:21:43 2012 +0100

    colead-slm: SL-5868P support

commit fc19c288b5ee32618a10f73fda7475b9a5a8ac6d
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 2 15:20:10 2012 +0100

    add support for sound pressure level measurements

commit 258eeb77b88852b743e08a751455a2c1965e4db1
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Nov 2 15:19:01 2012 +0100

    output/analog: add support for sound pressure level

commit bde4f4296d8d7a3653c93fc7034e6f7c019e1255
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Nov 1 23:38:10 2012 +0100

    analog: if no MQ unit was set of recognized, just print the value

commit 4d729ddcaf395de1d04af93dd5ea569cfbc17de4
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 29 22:33:47 2012 +0100

    colead-slm: Initial driver skeleton.

commit 8c1adf3738b68912ab8cf4308341b82dbc83056a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Nov 1 15:58:09 2012 +0100

    Rework FS9721 parser.
    
    Merge parts of the tekpower-dmm code (the chip of the TekPower
    TP4000ZC seems to be an FS9721_LP3 too) and rework parts of the functions.
    
    Adapt the tekpower-dmm and uni-t-dmm code accordingly.

commit be5c1d3b52a4c774bdd182ba54225a234d55336f
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Mon Oct 29 23:42:10 2012 -0500

    tekpower-dmm: Use generic fs9721 parser
    
    Replace the parser with the fs9721 parser, which is just an adapted
    version of this parser.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit db7d0626c918209db0ba5dc6e896232c8c2e4f6c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 30 20:30:25 2012 +0100

    Remove 'float' output module.
    
    This has been replaced by the 'analog' output module.

commit 886a52b6fbffb0fd06849c928cf9fd31a0d4657b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 30 20:20:22 2012 +0100

    Return SR_ERR_MALLOC upon allocation errors.
    
    Add some TODOs.

commit 6f22a8ef2ccf7091324b41b553632695507215a7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 30 19:59:21 2012 +0100

    Factor out serial_readline() to serial.c.
    
    Only one (slightly different) variant remains in agilent-dmm, this will
    be merged soon too, though.

commit 2980cc249494ac8335296fae7beac52fb078b22b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 30 18:56:04 2012 +0100

    genericdmm/victor-dmm: Use message logging helpers.

commit dccbd0ede0013318da866ae941c64e23ad3e2027
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 30 18:52:20 2012 +0100

    radioshack-dmm: Use message logging helpers.

commit 38d326e879c6e1bb7d4a11682c262ca838a7dde5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 30 18:50:15 2012 +0100

    agilent-dmm: Use message logging helpers.

commit 31d84da3a22cc6fc9b2226ab3863e9235a3d5b87
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 30 18:48:33 2012 +0100

    fluke-dmm: Use message logging helpers.

commit 6ac5f8922e63d1f584a69969190af0389a88d812
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 30 14:23:05 2012 +0100

    uni-t-dmm: Simplify subdriver setup.
    
    So far, it seems we can make this work with just hw_init() needing to
    be subdriver-specific (it will point 'di' to the respective per-subdriver
    entry), the rest of the API functions can then use a strcmp() on di->name to
    learn which subdriver they belong to.

commit fdbcb86dba17eec8e1492736adf1aec45e746c00
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 30 13:11:27 2012 +0100

    Draft: Make UT61D and VC-820 "first-class" drivers.
    
    The 'uni-t-dmm' driver/directory will not appear as a "driver" to
    frontends anymore, it's just an internal thing.
    
    The frontends will see a uni-t-ut61d and voltcraft-vc820 driver now,
    with the correct names and parsers etc. attached to them.
    
    This is not fully finished yet, but it's a start (and works mostly):
    
      $ sigrok-cli -D
      The following devices were found:
      UNI-T UT61D with 1 probe: P1
      Voltcraft VC-820 with 1 probe: P1
    
      $ sigrok-cli --driver voltcraft-vc820 -D
      The following devices were found:
      Voltcraft VC-820 with 1 probe: P1
    
      $ sigrok-cli --driver uni-t-ut61d -D
      The following devices were found:
      UNI-T UT61D with 1 probe: P1
    
      # Now attaching a UNI-T UT61D device via USB.
    
      $ sigrok-cli --driver uni-t-ut61d --samples 3 -O analog
      P1: -0.017800 V DC
      P1: -0.017600 V DC
      P1: -0.017700 V DC
    
      # Now attaching a Voltcraft VC-820 device via USB instead.
    
      $ sigrok-cli --driver voltcraft-vc820 --samples 3 -O analog
      P1: -0.319200 V DC
      P1: -0.319300 V DC
      P1: -0.319300 V DC

commit 4ca378df8874b8e0bfd323c725c019c3968c0e1e
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 29 22:10:05 2012 +0100

    don't use deprecated g_thread_init/_create

commit 7445ed9158294e39ec697f54944e19a4b9636a6a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 29 22:08:34 2012 +0100

    require glib version >= 2.32
    
    This allows us to do away with a few deprecated g_thread functions
    in demo.c which throw deprecation warnings since glib 2.32.0.

commit 015f1508ad57e1ace60965952389a0b83c271178
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 29 15:20:17 2012 +0100

    uni-t-dmm: Voltcraft VC-820 draft support.
    
    This is commented out so far, will be implemented properly soon.

commit 6c701476ad76c648e9b367ac340c2dd0063e4ed0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 29 12:02:05 2012 +0100

    Add protocol parser for FS9721_LP3/FS9721B.
    
    The Fortune Semiconductor FS9721_LP3 and FS9721B/Q100 DMM chips are very
    similar and the protocol looks identical.
    
    Tested on a Voltcraft VC-820 (FS9721_LP3) with the uni-t-dmm driver
    (needs some small changes, tbd).

commit a28dac0a7307f222e8e145ccc8188519206d0c4c
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 29 11:54:20 2012 +0100

    fluke-dmm: code cleanup

commit 2c04dede20e1e69420d872878e8d04792333626c
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 29 11:50:34 2012 +0100

    Fluke 287/289: support for dBu/dBV measurement units

commit 79081ec80c79801c439a1a3756cf5426af0739b8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 27 22:41:50 2012 +0200

    Initial support for UNI-T DMMs.
    
    This is not yet fully finished, but works for most use-cases.
    
    Tested with a UNI-T UT61D using the UT-D04 USB/HID cable (new version).

commit 45e080b60b2526fd9723dd822215294f973bff2a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 27 22:21:07 2012 +0200

    la8: Rename driver.[ch] to protocol.[ch].

commit f3a35908ef0d9fd56ec170d7f1bafff50c3432e2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 27 21:27:15 2012 +0200

    la8: Adapt to new driver conventions.

commit 9eb2bb960181302893e7c9032dbaba7763132174
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 27 21:07:39 2012 +0200

    configure.ac: Cosmetics.

commit bbabddbd64d07811120230203d453c65ac53ce57
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Oct 27 21:03:02 2012 +0200

    tekpower-dmm: Cosmetics, coding-style, consistency fixes.

commit 7dc55d930f87433fb35ebf6f18f767eddb7e8a17
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Sat Oct 20 20:39:37 2012 -0500

    Add support for the TekPower TP4000ZC DMM.
    
    Also known as Digitek DT4000ZC.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 2bba3dd3a836f4a6d497709d321557a48e6425a3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 25 23:42:20 2012 +0200

    HACKING: "Adding a new hardware driver" chapter.

commit d36777dbf5f61027e404076f1564d769bfc5f3ad
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Wed Oct 24 16:48:41 2012 -0500

    .gitignore: (Trivial) Ignore KDevelop project files
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 6f669a68e77a8a8fe4e62d66851cd894d72538dd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Oct 24 02:51:17 2012 +0200

    configure.ac: Small consistency fixes.

commit 545f9786390a89b8bb6868907afa555fc0a6ece4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Oct 24 00:41:21 2012 +0200

    config.h usage cleanups.
    
     - Drop config.h #include from files that don't actually use any of
       its contents (at the moment).
    
     - Add comment for those that do need it.

commit afe2f28e65f3c3d9b510f101d6cd76c59794cd17
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 22 02:32:53 2012 +0200

    Doxygen: Explain init/shutdown, add small example.

commit 1f345a21d24e52f482a06da9e434f751abdff203
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 22 01:21:20 2012 +0200

    Doxygen: libsigrok.h: Explain #include file usage.

commit a02d77bce91771faf3581beed7af747d9f046c72
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 22 01:13:36 2012 +0200

    Doxygen: Various fixes in libsigrok.h.

commit 393fb9cb18c5746d8567c9cf74b872804043345a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 22 00:30:12 2012 +0200

    Doxygen: Add @file items for the relevant files.
    
    These short descriptions are shown in the "Files" section of the
    Doxygen output.

commit 777e2035d8293b4636f6bf37afd92e18ced3720e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 21 23:43:41 2012 +0200

    Doxygen: Fix grouping of session_file.c functions.
    
    s/@ingroup/@addtogroup/ and s/grp_device/grp_session/.

commit 6b2d8d3e5c4762cdafd847f9613d3f7b855927ab
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 21 23:24:42 2012 +0200

    Doxygen: TODO cleanup, use @todo where needed.
    
    Turn TODOs which should be user-visible into @todo so that Doxygen
    shows them in the function docs, and also on the special "Todo List" page.
    
    Those TODOs that should not be in the Doxygen docs are moved out of the
    /** */ comment blocks.
    
    Also fix some comments/items, and remove some obsolete ones.

commit 3c0839d52475605d61ce385eda95f824fc448c88
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 21 17:49:22 2012 +0200

    Doxygen: Various improvements in libsigrok.h.
    
     - Turn SR_OK/SR_ERR_* and SR_LOG_* into proper enums.
    
     - Use /**< Foo. */ for Doxygen comments that are on the same line as
       the (e.g.) enum entry they document. If the comment is not on the
       same line (but rather directly above the enum entry) a simple
       /** Foo. */ comment is sufficient.
    
     - Use /** */ instead of /* */ in some places, so that Doxygen actually uses
       the respective comments.
    
     - Various smaller cosmetic fixes or cleanups.

commit 9c5332d2915ba374775196b7e3624857d320b60a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 21 16:52:56 2012 +0200

    Doxygen: Fix a bunch of warnings and outdated docs.

commit f21193fa03c7fe1ff6708e22d7aeb318b5539191
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 21 16:36:23 2012 +0200

    Doxygen: Move error handling stuff to error.c.
    
    Also, add an overview mini-section to the main page instead.

commit 7b870c38e3040fec1165a623ae3986e4fb342218
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 21 16:13:36 2012 +0200

    Doxygen: Initial groups and topic short descriptions.

commit b4bd70889f3009f5d836a9bf701725a6aceac039
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 19 10:07:22 2012 +0200

    Doxygen: Mark non-public stuff for exclusion.
    
     - /** @private */ can be used for functions, and /** @cond PRIVATE */ and
       /** @endcond */ for variables or #defines.
    
     - Document the above in HACKING.

commit 5b30cca719b737fed96c00e1b7a5094770d9d815
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 19 10:06:45 2012 +0200

    Doxygen: Add initial main page documentation section.

commit d5f1d5382d2b2cb8999fefaf4e6e7af8067d110f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 19 10:01:45 2012 +0200

    Doxyfile: Various additions/improvements.
    
     - Show a short project description, the libsigrok version (x.y.z or
       "unreleased development snapshot"), and the sigrok logo in the
       Doxygen output.
    
     - Ignore a bunch of files and directories which don't contain public
       libsigrok API anyway.
    
     - Remove the SR_API prefix from the Doxygen output (all
       functions/symbols in the output are part of the public API anyway).
    
     - Various changes of settings to get nicer and more useful output.

commit e61b4fa0d0f905ee6eb4aa7655ee8189b155dfbf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 19 00:30:31 2012 +0200

    Doxygen: Add sigrok logo PNG for use by Doxygen.

commit c63eac737c173cfb7d4ffd939a68f8ae8801b513
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 18 22:51:16 2012 +0200

    Doxyfile: Update to what doxygen 1.8.1.2 generates.
    
    The new version has a number of neat improvements/features we could use.

commit 296821683df6ed064f036205c968e80549429456
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 22 11:54:40 2012 +0200

    Makefile.am: Add missing backslash.

commit 8e2d43cc97438e092e1df3ad344c64032b56564e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Oct 22 10:17:38 2012 +0200

    backend.c: Revert accidentally committed test code.

commit 589a10135a5b811e16bdbc73b276d13884c27fa4
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Oct 21 01:34:34 2012 +0200

    clean up autoconf/autobuild scripts

commit d11d606626a2ce9359ed2b5395fe4b998604da92
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 21 22:41:39 2012 +0200

    We now require libusb >= 1.0.9.
    
    This is due to the use of libusb_error_name().

commit c46762a285d7c844a771f5c1f0ad2447a00906b3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 21 22:40:43 2012 +0200

    sr_init/sr_exit: Improve docs, add error checks.

commit 785b9ff290cbdb86e7d0b0280c33b43faf9c0518
Author: Peter Stuge <peter@stuge.se>
Date:   Sun Oct 21 20:23:36 2012 +0200

    Add and init libusb_context * in struct sr_context when using libusb-1.0
    
    This allows hardware drivers to use a common libusb_context.

commit b8072700c1bc7d13ba004fd897668b56cec4ac62
Author: Peter Stuge <peter@stuge.se>
Date:   Sun Oct 21 20:23:14 2012 +0200

    Add a struct sr_context * parameter to sr_init() and sr_exit()

commit 026c822d8c6d39a2b0e976b02c16bb991431700b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Oct 19 10:35:11 2012 +0200

    Move 'struct drv_context' to sigrok-internal.h.
    
    It's not meant to be visible to frontends.

commit 7c41dc477402c09141c5d478dff493f8efb81264
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Oct 19 20:40:50 2012 -0500

    radioshack-dmm: Implement support for "LOGIC" mode
    
    LOGIC mode sends the following data:
         V < 0 : actual voltage
    0 <= V < 1 : LOW
    1 <= V < 2 : actual voltage
    2 <= V     : HIGH
    
    We follow the same idea, and set our unit to BOOLEAN for the crazy
    case (HIGH or LOW).
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit dfd8f56ef4a0ee1c353db5078d6d7d8b901ec21b
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Oct 19 20:31:19 2012 -0500

    libsigrok: (Trivial) fix packet type in datafeed_dump
    
    datafeed_dump would print SR_DF_META_LOGIC when a SR_DF_META_ANALOG
    was recieved. Fix that.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 0f7083019449c1d88a5916bae766f3e51f7f8373
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Fri Oct 19 17:50:20 2012 -0500

    libsigrok: (Trivial) Add support for 2400 baud
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 777bbd5b98873ec20c58613e4dbb48a1836174bd
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Oct 18 22:43:03 2012 +0200

    add SR_HWOPT_* documentation

commit fe31f8b9f9b743bf47794842b70e56e3b2dda883
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Oct 16 23:32:39 2012 +0200

    fluke-dmm: add support for Fluke 187

commit 796a79eb75e35fe47becfbf62a840464efbbe96a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Oct 16 23:31:18 2012 +0200

    analog: add pretty-printer for dBu and dBV

commit 6b8692346358362f4b7b004059c62c23f4889410
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Oct 16 23:28:04 2012 +0200

    add SR_UNIT_DECIBEL_VOLT (dBu)

commit d713e561814558d9f07c4186aef35a23df8b8445
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Oct 16 14:03:40 2012 +0200

    analog: sane printing of very small and negative values

commit 8ed262509f6f5e5a3b9a45ae6d116b1c36c750d7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 16 14:48:39 2012 +0200

    HACKING: Cosmetics.

commit 6aff0d16df34c60dada92486db0554ad32e08422
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 16 12:08:01 2012 +0200

    Build fix for Windows/MinGW.
    
    On Window/MinGW 'recv' seems to be already defined in some headers.
    Use 'receive' instead, for now.

commit a2353f6051004634f67505987749d56edbfdfb41
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Oct 16 11:24:03 2012 +0200

    Re-add HACKING file after repo split.

commit be8dbf3ab24348fe5cc619eca6a63464e72e6aa2
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Tue Oct 16 01:23:50 2012 -0500

    radioshack-dmm: (Trivial) Convenience fixes
    
    While testing the new radioshack-dmm driver with pulseview, I found
    a few inconvenients.
    
    1. Print an info message when a port is probed, and when a device is
    found. This makes it easy to tell if and where the driver is looking.
    
    2. num_samples was not reset after the first aquisition, so the
    second aquisition would quit right away. Reset num_samples at start
    of a new aquisition.
    
    3. There's no need to  open the serial port RW, so change O_RDWR to
    O_RDONLY when opening the port.
    
    These changes are too trivial to split into different patches.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 7b0a85c81c6bce43ced9bf59d99b3584fd1498d8
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 15 18:25:48 2012 +0200

    radioshack-dmm: build fixes

commit d375b3c3ec01c246dbf6f0827c33aafc0953431b
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Mon Oct 15 01:17:32 2012 -0500

    radioshack-dmm: Add support for Radioshack 22-812 DMM
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit b82a17d370a74dc7d4788f343f0ef050490e057f
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Mon Oct 15 01:14:04 2012 -0500

    libsigrok.h: Add measured quantity and units used by Radioshack 22-812
    
    The Radioshack 22-812 can measure parameters such as transistor gain,
    dbm, etc. Add those to libsigrok.h.
    
    The SR_UNIT_UNITLESS is for quantities that do not have units. Any
    ratio or gain are just factors, whic do not have units. Specifically,
    a transistor's gain, or hFE, is a unitless quantity.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit e8e9dcdd705c64a8ac1c04bc04d91e1a371e76c8
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Mon Oct 15 01:12:53 2012 -0500

    serial: (Trivial) add support for 4800 baud
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 5fef6b9d6cd17f89a05f8e7a02a8c523e6a2632d
Author: Alexandru Gagniuc <mr.nuke.me@gmail.com>
Date:   Mon Oct 15 01:11:39 2012 -0500

    .qitignore: Ignore KDE backup files
    
    *.kate-swp files can become annoying, so ignore them.
    
    Signed-off-by: Alexandru Gagniuc <mr.nuke.me@gmail.com>

commit 2b98e0aaab7e83c30fb1f690318584aa0f85b50a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 15 11:32:36 2012 +0200

    analog: support AC+DC unit modifier

commit 17ff11240ee1ed8afd504b84a99990969a75544b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 8 23:56:06 2012 +0200

    don't accept numbers as probe identifiers in trigger string
    
    Only the probe name, as supplied by the device driver, is accepted.

commit 33df15f14440397bb8358fbf0939588c1b410e0c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Oct 11 23:46:30 2012 +0200

    Quick workaround for g_match_info_unref().

commit 4a1c927fd6c47831b984d9d7f4757408cf6fb800
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Oct 10 23:08:32 2012 +0200

    README: Add status, update URL, small fixes.

commit a5b2293fa84c076236fd3a6c7202ad4996ba16fd
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 8 18:52:36 2012 +0200

    updated URLs and description

commit c750b9b1944723532b2924fd305573c26927d2fb
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Oct 8 15:53:00 2012 +0200

    restore pre-split ignores

commit a2e222d24fdca68fbf34031baa889ca3ebf23e1a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Sep 27 23:29:33 2012 +0200

    sr: struct drv_context is global now.

commit d38d2ef0ce0e4ec49369e6cbfac616d9b1065c38
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 25 19:38:59 2012 +0200

    fluke-dmm: support for all basic 287 functionality

commit 96b3b3d56834f7c07a4760cfa3444b516c819de3
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 25 19:34:53 2012 +0200

    sr: add support for conductance measurements in Siemens

commit aa839a5c4fb3d994c7254da403eef8beab2880ba
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 25 18:33:42 2012 +0200

    sr: add support for pulse width measurements

commit f46a36ad801bc96754183e8aa1cc2a8c0583ae33
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 23 00:03:24 2012 +0200

    fluke-dmm: definitely use CR as line terminator

commit acd29accb3a458ab6a494e3f6c42dacc56a4c7a8
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 22 23:52:23 2012 +0200

    fluke-dmm: add Fluke 287 to supported list

commit fb9d3bf9cc0cafbd3caedcd54831219a533ef7fb
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 22 23:50:51 2012 +0200

    sr: always turn off ICRNL on serial ports
    
    It does rather screw with protocols that use CR.

commit d3f8f1415c5c707edc1c78377f30875604e9b8c1
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 17 16:31:15 2012 +0200

    fluke-dmm: flesh out the driver API

commit 4129832014ddb8330bd3f4a91e7c69ce6eb6b0cc
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 17 15:40:41 2012 +0200

    fluke-dmm: auto-discover serial bitrate if not provided

commit bc41e012e6eda6277cbbeb5933c82c3d74a5ce69
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 16 21:27:06 2012 +0200

    fluke-dmm: don't log anything if no conn params given

commit fb480d578e423cd0f5702d1251e3cdccb990c9fb
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 16 21:07:17 2012 +0200

    fluke-dmm: fix discovery

commit 5c51e09868ea24c0eb77908aa3a9d585a46a3158
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 16 14:07:21 2012 +0200

    sr: turn off canonical mode and echo ion serial ports by default

commit e7edd64f4573b786a8a1ab00e837d9e56cc69480
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 15 18:28:43 2012 +0200

    fluke-dmm: build fixes

commit 4f958423d17c4c264ae02884888615df28c60f3d
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 11 20:11:13 2012 +0200

    fluke-dmm: basic scan functionality

commit 883a2e9e71d4d0f84d9f8df6a6a5e754052bad8a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 10 22:31:29 2012 +0200

    fluke-dmm: initial driver skeleton

commit c2016fa0eb1d0eb1b9ebf8af4556f6d606614f61
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 16 23:43:47 2012 +0200

    agilent-dmm: don't log anything if no conn params given

commit e9022f596d9a6d35919445f3aa6394061b3e6681
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 11 21:27:26 2012 +0200

    sr: make struct drv_context global

commit f5cfe894eca22fc40dac721566a727cae8d8454c
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 11 21:20:50 2012 +0200

    fx2lafw: use default libusb context

commit 19b0cce3125f08f961886fb312219c7c6f496ffc
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Sep 11 21:16:16 2012 +0200

    hantek-dso: use default libusb context

commit 7c1cb432b8afc14f63d984aaebd0239c74376c74
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 10 22:14:37 2012 +0200

    sr: enable genericdmm and agilent-dmm drivers by default

commit b186aa78b8302942c8853c9aed40e3e5eaba8e34
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 10 21:27:50 2012 +0200

    agilent-dmm: fix model identifiers

commit 8c0152f29b7892bb3f131e92c55ecd60a29ece5a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 10 01:00:48 2012 +0200

    agilent-dmm: tentative support for all U123x and U125x models
    
    Only tested on U1233A, but it just might work.
    
    The U125x protocol decoding only supports voltage, current, resistance,
    capacitance and diode measurements for now.

commit a4394fb3d9362cc686d6f8a05d2bc0b219903069
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Sep 10 00:13:26 2012 +0200

    agilent-dmm: code cleanup
    
    This should make it easier to support other Agilent U12xx models

commit e066c32a252f4e5cd881a270adb98b004e688427
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 9 22:49:07 2012 +0200

    agilent-dmm: fix AC/DC mode detection

commit f2e86bbfa64f328feb063ea2b79110a0ec1716e1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 9 22:48:22 2012 +0200

    agilent-dmm: make parser deal with input better

commit 81599cc55b8f22fe4ef78e7bd4bdb6958d458c64
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 8 14:53:49 2012 +0200

    agilent-dmm: remove IDN check at 1Hz, we just don't need it.
    
    Some debug message cleanup.

commit 161a8a272699a7b818ddab01043838f07d7cf6eb
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 8 13:24:48 2012 +0200

    sr: add new analog output module
    
    This outputs text representation of SR_DF_ANALOG packets. Unlike the
    float module however, it also outputs the standard abbreviations of
    SI units corresponding to the packet's MQ and unit.
    
    It also makes an effort to multiply or divide the floating point value
    as needed to the nearest multiple or fraction, and inserts the
    appropriate SI prefix to match.

commit e6b021f3775295bb3cbf7fa523281bfd64eaa39a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 8 03:06:45 2012 +0200

    agilent-dmm: support for submodes

commit f45b75901436310684b5fbb567269bc44d08c2d4
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 8 02:31:08 2012 +0200

    sr: add recv/cleanup calls to output module API
    
    The new output module callbacks will be init, recv and cleanup. The
    existing data  and event callbacks still work, but will be phased out
    as existing modules get converted.
    
    The recv() callback gets a copy of every packet on the session bus,
    and thus has visibility of all metadata, allowing it to properly
    output any acquired data.

commit 69a74024902eecd3fc9ebd4f64fdef6ae460d0d7
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Sep 8 02:28:41 2012 +0200

    genericdmm/victor-70c: fix resistance and frequency measurements

commit 4cc9aea15b2d76930f565e810e0520918e2cc7bd
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Jul 7 09:32:00 2012 +0100

    sr: Refactored sr_samplerate_string into a more general function: sr_si_string_u64

commit b863fb1b9d486867ab1fc5e0f62fb42321080b5a
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun Sep 2 19:02:42 2012 +0200

    sr: session_driver: Remove source on completion
    
    Remove the session source once we are done loading the file, otherwise we'll
    spin forever in sr_session_run.
    
    Reported-by: Joel Holdsworth <joel@airwebreathe.org.uk>
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 40578aa487f6624db787289e4f254af14deee102
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 2 15:41:19 2012 +0200

    sr: output up to 12 significant digits for floats

commit c0d93341cb6f409f53f5d9d47058e1efb1cd2d8b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 2 15:39:56 2012 +0200

    generic-dmm: cosmetics

commit f6b8ffa6c0eb94fa59c0e09f3c4d8bed071167d0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 2 15:13:00 2012 +0200

    genericdmm/victor-70c: warn if detaching kernel driver fails

commit e93cdf428c6383b9868d08bdae07ff775bedd0c0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 2 15:11:52 2012 +0200

    sr: mostly finished Agilent DMM driver

commit 792fc686581a9412364d06be2e05dfe4d4014ed1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 2 15:02:24 2012 +0200

    serial: add serial_set_paramstr()

commit f38b9763fa5ba8f4b481718b245e1258a307d2a6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 2 15:01:23 2012 +0200

    serial: fix flow control setting

commit 6a6e23abf5e28471f368b225c96c1b0cb8797191
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 2 15:00:02 2012 +0200

    serial: set speed in both directions

commit 6ac0db19f36ada4cfccf19bbd48ebdb4665bc9ff
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Sep 2 11:58:29 2012 +0200

    sr: add new agilent-dmm driver (Agilent U12xxA multimeters)

commit b84c13d700eff9eceb12463b0ed17f5b984b2582
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 18 16:22:36 2012 +0200

    genericdmm: Victor 70C multimeter support

commit 3c6ce226dec2ee70c044d844ffbb3845f07baf7e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 18 16:21:21 2012 +0200

    genericdmm: finish basic USB support

commit 606a07b670270b4bcf0bfa4ffcf67dfd1cfedad3
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 18 14:34:29 2012 +0200

    sr: corrected VID for Victor 70C

commit 02e864d0bf866b045abf04a696ad555959f1b171
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 18 14:33:51 2012 +0200

    sr: added mqflags field to sr_datafeed_analog

commit edb000eb2f78aff4ea805ffc25a07792bedcea90
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 18 14:26:43 2012 +0200

    sr: add fahrenheit and boolean MQ units

commit 64591be2f25055d4c9f55689f641334a54613746
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 18 14:25:21 2012 +0200

    sr: add continuity MQ

commit 811deee4af9f600ae0c457a74d3877c4f68f2f37
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Aug 6 00:59:25 2012 +0200

    sr/drivers: add API calls sr_dev_inst_list() and sr_dev_inst_clear()
    
    These are used to list the device instances currently known to the driver,
    and clear that list.
    
    Drivers that don't necessarily clear their list of instances on every scan,
    such as genericdmm, need to provide these to the frontend to keep instance
    management sane.

commit 014359e3293ef0cdc61fbde4f63dc0a9da98179d
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 5 18:56:12 2012 +0200

    sr/drivers: obsolete SR_HWCAP_PROBECONFIG
    
    Since probes now live in a struct sr_dev_inst owned by the driver, it
    already knows about them. Instead of a frontend telling the driver to
    configure probes, all driver now do this just before starting acquisition.

commit a56f1480949e84e94dad2afcdf9f758988a4aff9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 5 15:53:04 2012 +0200

    sr: new API call sr_dev_config_set()
    
    This is a wrapper around the driver dev_config_set() call, to avoid
    frontends needing visibility into drivers.

commit 15cb43d67cee5d7381c9cbcf0a355329a5cabfd1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Aug 5 03:18:07 2012 +0200

    sr: replace published static option data with API calls
    
    To find a driver or device option by name,  the sr_drvopt_name_get() and
    sr_devopt_name_get() calls are now available. This was the only reason the
    driver and device struct sr_hwcap_option arrays were published.

commit 3cf91809a5aca7462f0fc9c3ca6fb9a7ebdf92d2
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 4 14:35:40 2012 +0200

    sr: rename sr_hw_hwcap_get() to sr_devopt_get()

commit fabe59b326c8ed17582f54d5525b278b6712085b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 4 12:21:02 2012 +0200

    sr: drivers using sr_usb_dev_inst_new() must free it properly as well
    
    sr_usb_dev_inst_free() doesn't really do anything, but it might one
    day.

commit d3cff734e550430027f195317650a6c0e7c81fa3
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Aug 4 12:03:05 2012 +0200

    sr: properly free probes when freeing their device instance

commit 228b2cccaf2773efa81891273e2cf32ce6f14b2f
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 14:19:00 2012 +0200

    asix-sigma: fix double free

commit 8012ae1e3b40a88bbe20deaded7d66942a82380e
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 14:18:02 2012 +0200

    chronovu-la8: fix double free

commit afc88319384053b3f2ca4b17706c10ded9c7174b
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 13:50:31 2012 +0200

    chronovu-la8: code cleanup

commit 7021f98596fdd0ca744e9ffa2ab73979f65125a3
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 10:17:31 2012 +0200

    chronovu-la8: remove session source when done

commit 503c4afbb43da85723d1a40bf985b88f7a4bc3c7
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 10:12:54 2012 +0200

    asix-sigma: remove session source when done

commit 7fd3e8596192316cacd0d22d52f287df2c12d437
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 10:09:02 2012 +0200

    demo: remove sources from session when done

commit a3508e33f9e4e54331d086b37272e7c55faf11d8
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 01:05:40 2012 +0200

    hantek-dso: remove sources from session when done

commit 26bf9d56c079889cd493376b341ab75acee795f7
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 01:05:01 2012 +0200

    ols: remove serial source from session when done

commit 2cbeb2b7fb5791dd765ab6eee180ee053cc20b1c
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 01:04:05 2012 +0200

    sr: drivers should remove their sources from the session when done

commit 310e9e9be4e4421f0171d47dfdb5fc299d6f749c
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 01:01:38 2012 +0200

    zeroplus: use driver-private storage for instances

commit fefc4b858e8db2b1c569dd302af1b30c1a4bce4f
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Aug 3 00:09:33 2012 +0200

    ols: use driver-private storage for instances

commit 301a5e4c4ade2f640eeb532195e6e84dee81783c
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 2 23:54:11 2012 +0200

    genericdmm: use driver-private storage for instances

commit b4750a3a938ff5be295095b05e27c0f7a7cd2bbe
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 2 23:53:31 2012 +0200

    demo: use driver-private storage for instances

commit b9636cf4dcd07fa215bcfdb265913baa848227ab
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 2 23:51:47 2012 +0200

    fx2lafw: minor cleanup

commit cf1ebd544652274923e808c93f7e88292acc2f11
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 2 21:54:21 2012 +0200

    chronovu-la8: don't try to clean up unless we've initialized

commit b32503cccdf88769619dc9a2ca3566d06040c1b4
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 2 21:42:37 2012 +0200

    asix-sigma: properly init driver-private storage

commit 1644fb2473e0c2f0dd81464f885c9212f413657e
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 2 21:35:25 2012 +0200

    chronovu-la8: use driver-private storage for instances

commit 0e1357e8960734e4b599979511c7f9a51fb611a8
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 2 21:20:41 2012 +0200

    asix-sigma: use driver-private storage for instances

commit dc9dbe949a2c195ec0c5afff34bec3cc03a5613b
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 1 00:42:19 2012 +0200

    fx2lafw: use driver-private storage for instances and libusb_context

commit 269971ddce18664a2ad06b7e2f56dcad70d155bb
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 30 00:24:26 2012 +0200

    hantek-dso: use driver-private storage for instances and libusb_context

commit c259726a161411a7fe955dd139fce374635ddf7c
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 30 00:22:26 2012 +0200

    sr: driver struct gets a more generic *priv instead of GSList *instances
    
    It's up to the driver to keep its GSList of struct sr_dev_inst * in there.
    Anything else the driver wants to keep driver-global should also go in
    there, such as libusb_context.

commit ef2345bc29fc8b3bc31e5d89e028be31c7b39428
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 29 15:21:08 2012 +0200

    sr: build: hantek-dso driver requires libusb as well

commit e8d3d6c84378481b5c0b53236e2fb09288e211b1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 29 03:01:57 2012 +0200

    sr: properly initialize and check on device instance driver field

commit aee878fa2efb8483bf93fa3bb03508357fc713a8
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 29 03:01:02 2012 +0200

    sr: fix initialization for output from driverless devices

commit 6f57fd96949e4290933ac175c6c82d56965f7665
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 25 00:33:38 2012 +0200

    sr: remove obsolete SR_DI_INST

commit 48a486cd3ed51cfefce271224541502f4388c225
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 25 00:20:06 2012 +0200

    sr: code organization cleanup
    
    Device-specific functions (public and private) go in device.c,
    more general driver-related code in hwdriver.c

commit 87ca93c5043899e3c30edb7e09fadef3ee67d810
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 24 19:10:09 2012 +0200

    sr/drivers: add proper probe list to instances of all drivers

commit b35c829306b86dbeeeecf14de7fe30a05a88c914
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 24 17:13:25 2012 +0200

    sr/drivers: fix off-by-one if frontend-initiated probe configuration

commit d6a8df467de03fe211dea7a0c91f63ceb22c5480
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 24 15:42:51 2012 +0200

    sr: remove obsolete sr_dev_inst_get() call

commit 47a98b6e2c241f225f78044f0237dc77d235ce6b
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 24 13:06:15 2012 +0200

    sr: remove obsolete driver API call dev_info_get()

commit a2e464604ca19c1a41b8e94625971eb3818c9090
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 23 15:09:19 2012 +0200

    sr: cosmetic changes

commit c1864d5589749a881d661ab3abfd09cdbb96253d
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 23 15:08:44 2012 +0200

    sr: better file version check
    
    Still not really used though.

commit 056be0719f0c1a05cde6fc2483b50e024708fdac
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 23 15:06:49 2012 +0200

    sr: sr_session_save() now takes sdi and datastore parameters
    
    This means it's restricted to saving one device's capture per file, for
    now.

commit fb381e4d713fcd3fdec99b4deff3a75e809df825
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 23 14:55:43 2012 +0200

    sr: fix session loading for 0-numbered probes
    
    They're still numbered starting from 1 in the current version (1)
    of the sigrok file format, we just work around that for now.

commit 31fc1fbce399ac89d07093886301b9b4971f56f9
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 23 02:58:56 2012 +0200

    sr: fix sr_parse_triggerstring() to use probe numbers starting from 0

commit 1907d2c928e328209f6d8832f73e369d28db5ab1
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 23 02:57:17 2012 +0200

    sr: fix sr_filter_probes() to use probe numbers starting from 0
    
    The probelist parameter is now terminated with -1, since 0 is a valid
    probe number.

commit a5f2e70712827c48a095204ef48c7cf1a0193ed0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 20:06:13 2012 +0200

    sr: comments/docs

commit 37e8b4c4f7eaa6132a25448bccc690ac764f9a63
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 20:05:36 2012 +0200

    sr: change sr_dev_probe_name_set() to use sdi

commit a10ddf9ba04429d6762171a3bbbac12a7717ef59
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 19:44:20 2012 +0200

    sr: remove dead/obsolete code

commit 2ac2e629fc2ba2e89351d3ce337e0de9e034c540
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 15:32:35 2012 +0200

    sr: cosmetic changes

commit de4d3f99d9e76c5a51916d3bcfef89423055d43f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 15:31:56 2012 +0200

    sr: change session API/code to use sdi

commit c06b0d13b5b6bc7b059f397111f4ff661d1bbcbc
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 15:19:53 2012 +0200

    sr: remove obsolete dev_status_get() API call from session driver

commit c7ee3ddb948b2ff36acbbe79ecc812b477ff5708
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 15:15:26 2012 +0200

    sr: cosmetic changes

commit ff14f01b208faf9b26212c907d162de72d1ab538
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 15:05:47 2012 +0200

    sr: change sr_datafeed_callback_t to use sdi

commit a5b35a167a32ffbaee1ce9c0de8501f781f733d1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 14:33:28 2012 +0200

    sr: convert sr_dev_has_hwcap() to use sdi

commit 92ae7984834778dc7da128159d8e90024318909d
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 14:28:40 2012 +0200

    sr: convert sr_parse_triggerstring() to use sdi

commit 9e90dcba9ce9d8f4a56b0225f146a1f1f055d213
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 12:37:59 2012 +0200

    sr/drivers: remove driver API call dev_status_get()
    
    It's obsolete: no frontend ever used it, and neither did libsigrok.
    The sdi->status field is only used internally by some drivers, and
    should probably be moved to the driver-specific context structs.

commit 5d9ed643e9dddbdb43e8917cff197346bdc930e7
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 12:35:57 2012 +0200

    ols: change driver dev_acquisition_start/_stop calls to use sdi
    
    ...yeah, forgot OLS.

commit be5bf44d281cc0a85992666803afdd7dafcefaf9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 12:23:59 2012 +0200

    sr: add sr_dev_probe_enable(), abstraction wrapper around device probes

commit 4d684427397079d4627cce3fd624cd7c05b2d4b1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 12:18:34 2012 +0200

    sr: convert session load/save code to use sr_dev_inst

commit c4a1de59f80efead2ebdd8109110ff8632c1838e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 11:49:00 2012 +0200

    genericdmm: cosmetic change

commit 3f848bb7a9c248447ddd3af6964089cd713b9c5a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 02:09:58 2012 +0200

    zeroplus: comment out 32-probe models for now

commit 428edbe13de32b4349af56c9fb3569d63a54e4c8
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 22 02:08:59 2012 +0200

    zeroplus-logic-cube: fix scan to correctly find model

commit 3ffb6964a1585b5f6ffa0747c089a1cd557e4feb
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 21 22:41:58 2012 +0200

    sr/drivers: change driver dev_acquisition_start/_stop calls to use sdi

commit 25a0f108f4512ade836fed128c3ad649dedcb788
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 21 22:04:47 2012 +0200

    sr/drivers: change driver dev_open/dev_close calls to use sdi

commit 58453e5876ffae9153e9f4ddc2ad8dc244c7f26d
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 21 19:11:49 2012 +0200

    sr: change sr_dev_trigger_set() to use sdi

commit 5c3c1241d2e2b5d456865e876490492d76174257
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 20 21:37:36 2012 +0200

    sr: change input/output modules to use struct sr_dev_inst *

commit 6f4b1868e8ec8c132878d8b6d558f4af054cbd91
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jul 16 03:52:14 2012 +0200

    sr/drivers: use sr_dev_inst instead of device index for dev_config_set()
    
    All driver API calls using device index as a parameter will instead use a
    const struct sr_dev_inst.

commit 9c4311c524cd2eea8ce2c80b1029c936769107db
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 19:24:10 2012 +0200

    chronovu-la8: adjust to multi-vid/pid patch

commit 387014de6355545d95958ec2666836318c2b3902
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:33:38 2012 +0200

    sr: use new info_get API call in session driver

commit 444adea232d24951b056fd4d7e061608dfabef7f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:33:10 2012 +0200

    zeroplus-logic-cube: don't use deprecated hwcap_get_all() driver API call

commit 2ca4465b3d66d3b763e664c419b542a3d1c1baad
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:32:53 2012 +0200

    ols: don't use deprecated hwcap_get_all() driver API call

commit 2ce9f04629e93c4d202608dec6fa72d52aa44c6c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:32:37 2012 +0200

    hantek-dso: don't use deprecated hwcap_get_all() driver API call

commit cbd798f4002c1abccaa20ebe874c0aa45060bb0e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:32:21 2012 +0200

    fx2lafw: don't use deprecated hwcap_get_all() driver API call

commit 46c7a4daa772df5853e62f384b123bf1f3d96753
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:31:58 2012 +0200

    demo: don't use deprecated hwcap_get_all() driver API call

commit 7566601c21fd748827065ca120b88a6a141c922e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:31:37 2012 +0200

    chronovu-la8: don't use deprecated hwcap_get_all() driver API call

commit b2b5445c304ee2a6fe352e9b33f1e695a6760da5
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:31:22 2012 +0200

    asix-sigma: don't use deprecated hwcap_get_all() driver API call

commit 2efc5948b6c2c436e339e333994ec7cc96db62be
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:08:49 2012 +0200

    ols: scan fix

commit b0c8d7ac7f698f75aeb1c4b201c90360bae009e8
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:08:21 2012 +0200

    hantek-dso: scan/info_get fixes

commit 7dfcf010a0331359529f52f7a09d6d324d96284f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:07:51 2012 +0200

    demo: scan/info_get fixes

commit cfe8a84dd7b5a22e6a225d6b078bde6d0ad8fde4
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:07:34 2012 +0200

    chronovu-la8: scan/info_get fixes

commit d7bbecfdb9bcec55a0eb067853df85d8fd326f84
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 04:06:57 2012 +0200

    asix-sigma: scan/info_get fixes

commit 626409abfb93a09ba74a0714de75fcde9381bea9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 03:53:09 2012 +0200

    zeroplus-logic-cube: use new driver info_get() API call

commit dddfb3dbf058a5a8f789cc4988ac3c6da836e267
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 03:52:57 2012 +0200

    ols: use new driver info_get() API call

commit 0b79bcbb9d2e52fdd722088e0c525d14579cec6b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 03:52:45 2012 +0200

    hantek-dso: use new driver info_get() API call

commit dfb0fa1a669fb2a78fdee88d9896efc1998d7cee
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 03:52:37 2012 +0200

    demo: use new driver info_get() API call

commit 6a2761fd9921830f3724f3d153eee4ad98dbc6b1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 03:52:22 2012 +0200

    chronovu-la8: use new driver info_get() API call

commit 4147960558ae0d8964e8344faa3515a8ec4d9efb
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 15 03:52:04 2012 +0200

    asix-sigma: use new driver info_get() API call

commit eec944c5b8e4885e61faf3ab318be6007f221fd9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 14 16:14:01 2012 +0200

    asix-sigma: don't attempt to free static struct
    
    Added more debugging as well.

commit 067d07166b8637a4146058b4fb4da2d628b34c37
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 14 15:49:30 2012 +0200

    demo: use new scan API

commit 7da6f9d54a6acb699116848141d6ae1650a8dc98
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 14 13:00:47 2012 +0200

    zeroplus-logic-cube: init and scan fixes
    
    libusb context needs to be initialized only once, not ever scan.
    Every scan invalidates the last one, so clean up any previous run's
    results first.

commit 4ca38984459adfeaf6a94c2163be855fe41aec59
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 14 12:45:07 2012 +0200

    zeroplus-logic-cube: use new scan API

commit 39cfdd75f9f2ee050968cbe0efdf208fa8d8d9e0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 14 12:28:45 2012 +0200

    hantek-dso: use new scan API

commit 0448d11097b057606f7f643b0f0537706d95afa7
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 14 12:28:15 2012 +0200

    asix-sigma: use new scan API + fixes
    
    Now freeing FTDI context and driver-private context.

commit c4f3ed4bb075eb3b2015b0cacbf4a8cf4e29d7a4
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jul 14 12:27:02 2012 +0200

    chronovu-la8: use new scan API + fixes
    
    Now freeing FTDI context and driver-private context.

commit f8c617cf4c6b649d3456f1ca7082f6cfb6dac76d
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 22:18:01 2012 +0200

    hantek-dso: instance list fix

commit 10e5cbede89976eeed3237d985da065238962dfe
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 22:16:37 2012 +0200

    ols: use new scan API

commit ed300b9f6a1d87eb35465ac998e1fc20690852a7
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 14:18:27 2012 +0200

    asix-sigma: use driver struct-based device instance list

commit 765ef2f725a11aa9598bfc621136f93666a1bc86
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 14:15:54 2012 +0200

    chronovu-la8: use driver struct-based device instance list

commit dcf03d6dbdba67eb92ee887de1bc72816a3cd01b
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 13:47:27 2012 +0200

    demo: use driver struct-based device instance list

commit 327565470858432ba926643b0a4c4bb6f33e53e0
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 13:43:41 2012 +0200

    zeroplus-logic-cube: use driver struct-based device instance list

commit 982947f7a221c4dbd2ea2fe9ecb4405ea8c2156a
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 13:37:35 2012 +0200

    hantek-dso: use driver struct-based device instance list

commit e5e81856b4821932481ff4f349b7557e84038a04
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 13:26:30 2012 +0200

    ols: use driver struct-based device instance list

commit d6db79a48cf813af1afa8e6243863cd62d1110d8
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 02:37:17 2012 +0200

    genericdmm: device scan fixes

commit f1a14ea7ab390e3d873631eaf0f0f915031b8e6f
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 02:34:58 2012 +0200

    genericdmm: don't use deprecated hwcap_get_all() driver API call

commit 6910bf6bf61320f4ab55c670187d404656183a1b
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 02:34:10 2012 +0200

    genericdmm: use new driver info_get() API call

commit a27999e65768dcf38366e1844b97b3b8ea243dd2
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 02:31:16 2012 +0200

    fx2lafw: don't use deprecated hwcap_get_all() driver API call

commit c5e82ca5e3ba7cd154c0e8afc19859564fc36dab
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 02:30:42 2012 +0200

    fx2lafw: device scan fixes

commit f69b47f0f88aba6738635ae0ab3c37ccc235a0f9
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 02:30:09 2012 +0200

    fx2lafw: a device scan always invalidates any previous scans

commit 6e9339aae20afeef872eeb806c4bcc043e210dd0
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 02:28:07 2012 +0200

    fx2lafw: use new driver info_get() API call

commit be34a1c74688351fdeb7482fda28f49aa762a831
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jul 13 02:08:27 2012 +0200

    sr: deprecate driver API call hwcap_get_all()
    
    This is now handled with a call to info_get(SR_DI_HWCAPS). This brings
    it in line with the new driver opts: info_get(SR_DI_HWOPTS).

commit df12380181f0af94fca382cd2ae6425bb1b51f73
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 12 22:41:57 2012 +0200

    sr: new sr_info_get() API call, wrapper for driver info_get()
    
    This will replace sr_dev_info_get(), the wrapper for driver dev_info_get()

commit f92f4eab23165aefa271d87cc0e60cbb8e24d154
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 12 21:34:30 2012 +0200

    sr: add new driver API call info_get()
    
    This will replace dev_info_get(), and will be used to fetch both
    driver and device instance-specific information. The sr_dev_inst
    argument is NULL in case of a driver info fetch. In line with the
    libsigrok wrapper, this function returns an error code, using the
    supplied void ** to return the requested data.

commit 9e41fdba4080de96fde23f00415056f51d79b469
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 12 21:00:18 2012 +0200

    sr: add driver field to sr_dev_inst, to bring it on a par with sr_dev.

commit 8bfdc8c4a5fc4bee4b59838bd57c6762ea0cb206
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 12 20:54:45 2012 +0200

    sr: split driver options into separate list

commit 3a0fe4023d1dd02051c126fffead6de631840974
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 23:49:04 2012 +0200

    genericdmm: use new scan API

commit bbb40871c88bbb622a275785d4aaf1e5e5a927f9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 23:48:04 2012 +0200

    genericdmm: more flexible device discovery

commit 75337758d8e88e01d9ac46669cd8a76d0b8b0ca5
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 23:33:48 2012 +0200

    genericdmm: use driver struct-based device instance list

commit a8cc8e44b942031746c18aa95bf02cc66043269c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 19:07:38 2012 +0200

    fx2lafw: use driver struct-based device instance list

commit 06717a8a605d03eb87e768119758ba8e9e47cb0b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 19:06:23 2012 +0200

    fx2lafw: use new instance-based probe list

commit 3a7a22cb07937fcecef8b17b25e9638245f7f8c1
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 19:03:36 2012 +0200

    fx2lafw: use new init/scan API

commit dd34b8d3c4da18f8cf339c5bb8f0d6268f3d13f6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 16:40:54 2012 +0200

    sr: add GSList of instances to the driver struct
    
    This gives the driver a private place to keep its instances, without
    polluting the global namespace.

commit 47211d65b4fdaca58694a51cdbf1ba8ee4270ee9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 16:37:39 2012 +0200

    sr: add probe list to device instance
    
    There is no point in libsigrok copying probe lists around. The driver now
    builds a list of probes according to the model device it found, and will
    make that available to a frontend. The frontend thus has a reference of
    what the driver has, including default names, and doesn't need libsigrok
    to provide an unnecessary level of abstraction.
    
    The sr_probe_new() library-private function is a helper for drivers.

commit 80bf04263528998feb17cedc5b7aa9668dbc8d4d
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 16:25:23 2012 +0200

    sr: split driver init into init() and scan()
    
    init() now only does whatever administrative stuff it needs (typically not
    much), and returns an error code.
    
    scan() can be called multiple times during the life of an application, and
    returns a GSList of struct sr_dev_inst * of devices found during that scan.
    The instances are a copy of the ones stored in the driver's own instance
    list, to be freed by the caller with g_slist_free() only.
    
    The scan() call can be passed a GSList of struct sr_hwopt *, to direct the
    scanning.

commit b159add3d9e3804f7806e82b01374fa099610668
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 14:56:54 2012 +0200

    sr: move SR_HWOPT into its own enum, and create struct sr_hwopt
    
    SR_HWOPT_* entries are driver options, not device instance parameters, so
    they will never be mixed together.
    
    Also, driver options are always passed in a GSList, where the data field
    is a struct sr_hwopt.

commit 633b2fac75c59c550cb1245cb75caa3ceef57b3d
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 04:17:56 2012 +0200

    genericdmm: better subdriver API arguments

commit 1ef445b3d696c91b6734eaafbfb5478d6506d5ee
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 04:15:51 2012 +0200

    genericdmm/fs9922: no initialization needed

commit 7fc754a0db73b473fb5c70f59165b43dc682bf1a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 04:09:55 2012 +0200

    genericdmm: allow for default options in DMM profiles
    
    Much better than the special-cased USB vid.pid

commit 7356a55db8e1f0aa27abb8f3cd05bca848c4c2a0
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 04:01:04 2012 +0200

    genericdmm: use vid.pid as USB conn spec
    
    : is just too hard for the CLI

commit db1352007db0d7a263a6a4c2837e65fd6de4dc8f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 8 03:59:58 2012 +0200

    genericdmm: fix header guard

commit 61136ea6035778f2894a1e32b78f94a0640a5a91
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 5 11:27:48 2012 +0200

    sr: add new driver API call: scan()
    
    This changes the semantics of the init() call as well. That now only
    initializes the driver -- an administrative affair, no hardware gets
    touched during this call. It returns a standard SR_OK or SR_ERR* code.
    
    The scan() call does a discovery run for devices it knows, and returns
    the number found. It can be called at any time.

commit 40dda2c3a509e9e031078427e32249e2ebc33ec5
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 3 12:55:46 2012 +0200

    sr: remove unused argument from hardware driver function init()
    
    It was actually used in one way: the session file loaded abused it for
    passing in the filename -- something it definitely wasn't intended for.
    This now uses the proper way to pass arguments to a driver: the new
    SR_HWCAP_SESSIONFILE.
    
    The OLS driver could also use it as an indication of the serial port to
    use instead of actively probing all serial ports on the system, but there
    wasn't any frontend code that passed in such a parameter, making it
    entirely useless. That will soon be handled differently with the new
    scan() API call, regardless.

commit 0d012ede9d54c6c5c276be52778483fd020c40d7
Author: Ivan Fedorov <oxyum@oxyum.ru>
Date:   Fri Aug 3 01:31:36 2012 +0400

    sr: fix gnuplot script for USBee DX and clones
    
     - Now channels order is right
     - Added 16bit version

commit 0e8d0e24d00dcf6dd661e4fb15cedf79ce45c248
Author: Ivan Fedorov <oxyum@oxyum.ru>
Date:   Thu Aug 2 23:49:00 2012 +0400

    sr: fx2lafw: Add 16bit support for USBee DX and clones
    
    gnuplot script support only 8 channels

commit c19298d1413e2783bf723f5eb4ee098d9b8f159b
Author: Ivan Fedorov <oxyum@oxyum.ru>
Date:   Wed Aug 1 00:11:40 2012 +0400

    sr: add gnuplot script for USBee DX and clones

commit c9166745f23889e1c5abb010513733c829c00d1b
Author: Ivan Fedorov <oxyum@oxyum.ru>
Date:   Wed Aug 1 00:11:33 2012 +0400

    sr: fx2lafw: Add basic support for USBee DX and clones

commit 0d1297a2916c18457735a51fdab9ee2c914a4599
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 29 02:45:40 2012 +0200

    sr: always use uint64_t for samplerate

commit b04781bb2ba910d17b0bc11b499b1be352faa9cc
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 29 02:15:34 2012 +0200

    sr: extra checks for properly handling driverless devices

commit 3dafb92bde1533cc81a61e2dc0f7d3732873c7ed
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 29 02:13:22 2012 +0200

    sr: fix struct sr_input for parameter passing

commit c506a6a688877793752d23e43d692c49d0f52dd2
Author: Tomaž Šolc <tomaz.solc@tablix.org>
Date:   Wed Jul 4 16:29:13 2012 +0200

    Allow setting samplerate when reading binary files
    
    I had a binary file that I needed to decode using UART decoder. UART
    decoder needs to know the sample rate for the data, but currently it's
    not possible to pass parameters to input formats and so the "binary"
    file format always sets the samplerate to 0.
    
    This patch adds the possibility to append a colon-separated list of
    key=value options to the -I argument, in the same way -d supports it.
    Also, it makes the "binary" format support the "samplerate" option.
    
    I included the GHashTable containing input format options directly in
    the sr_input struct. I'm not sure if that's the right way to do it. I
    saw that -d uses a much more elaborate system with device capabilities
    and typed options, but that seemed like an overkill for input formats.

commit d67b663e21de64261847c7e68de3ba37883c48b7
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jul 24 00:50:02 2012 +0200

    sr: chronovu-la8: fix segfault on discovery
    
    If the uninitialized value didn't happen to contain 0, and there
    is no Chronovu LA8 connected, the la8_close() causes a segfault
    in libftdi.

commit 74e5f12d3d9643cb0e8ba57ced4ee80b6393cb11
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jul 15 00:34:27 2012 +0200

    sr: la8: Support for newer USB VID/PID of the device.
    
    Thanks to Jerry Jacobs for the patch!

commit 43be303c84d328437e594111b94f278270817a86
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jul 12 21:39:18 2012 +0200

    sr: la8: Drop useless cast.

commit b5a8e848256f54b32ca988be5a1ec2db5048873a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jul 12 21:30:49 2012 +0200

    sr: Add sr_strerror() and sr_strerror_name().

commit 9ffbde0e84ef6c711be4edbe3076e8c805efad63
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu Jul 5 21:15:09 2012 +0200

    sr: session: Deprecate sr_session_halt()
    
    sr_session_halt() in its current state is kind of useless and even dangerous.
    All it will do is mark the session as not running, but wont signal the devices
    to stop to capture data. This is not so much of a problem with the blocking
    sr_session_run(), but once there is support for asynchronous data acquisition by
    attaching the session sources to the applications mainloop sr_session_halt()
    basically becomes a no-op. sr_session_stop() already does what needs to be done,
    marking the session as not running and signal the devices to stop acquisition,
    so make sr_session_halt() an alias for sr_session_stop() and deprecate its
    usage.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 9213ad012accac3dbfbc6b72d6e99228e87740a4
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu Jul 5 21:15:08 2012 +0200

    sr: session: Do not cleanup the driver state in sr_session_stop()
    
    By cleaning up the driver state all devices will become inaccessible, which
    means that is neither possible to query any information from it (like sample
    rate) and it is also not possible to restart data acquisition.
    
    sr_session_save() tries to query the sample rate from the device, as a result
    calling sr_session_save() after calling sr_session_stop() - which is for example
    done by sigrok-cli - will cause a segfault. This patch resolves the issue.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit ed229aaa8ff66116967f75112be953940d4a3149
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu Jul 5 21:15:07 2012 +0200

    sr: session: Close a device when it is removed from a session
    
    A device is opened when it is added to a session, in the same fashion it should
    be closed again when it is removed from a session.
    
    Also remove all still attached devices from a session when the session is
    destroyed.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 615183ea163f805af8589576c173769b4adba7f1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jul 11 12:57:15 2012 +0200

    sr: Drop mastech-va18b, code will be in genericdmm.

commit 28b9dd18611da8e16038d62d58195bdef91552eb
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jul 11 12:36:13 2012 +0200

    sr: fix conditional build for ezusb and serial helpers

commit b7e941113f2e4d534e109f4aeb8b0dc4cda36598
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Jul 6 23:23:31 2012 +0200

    sr: session: Moves sources to session struct
    
    The sources really belong to the session, so move them into the session struct.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit e6e8f8e0531805a9215eebcb0d4d270a5afa6a8d
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Jul 6 23:23:30 2012 +0200

    sr: demodevice: Make read channel non-blocking
    
    Both pipe channels are currently configured as blocking. We read from the pipe
    in receive_data. Since the channel is configured as blocking we'll block in
    receive_data until all data has been received. receive_data will be called from
    the mainloop, so as consequence the mainloop will be blocked until the demo
    device has finished sampling. This is not so much of a problem if we are
    sampling in blocking mode (using sr_session_run()) and the demo device is the
    only device in the session, but it will fail badly for all other configurations
    (e.g. multiple devices or async sampling).
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 93b03d091abb947fdf78e57f864313571fb903ab
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Fri Jul 6 23:23:29 2012 +0200

    sr: session: Realloc correct array for pollfds in _sr_session_source_remove
    
    Commit 7149ad7c ("sr: session: Keep a global pollfd array") contained a small
    copy paste error. This patch fixes it.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit e7d087bf0e35ff97abae8bdd0c50e400c87b4b4d
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu Jul 5 21:38:36 2012 +0200

    sr: fx2lafw: Free transfers in reverse order
    
    Free the USB transfers in the reverse order of which they were submitted. This
    will avoid that while transfer 0 is cancelledd transfer 1 is started by the
    host controller, and so on.
    
    Reported-by: Peter Stuge <peter@stuge.se>
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 1a895c6185f67ec7a90e624fd47af625ac6f9e0a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jul 5 01:47:44 2012 +0200

    sr: Minor cosmetics.

commit 249ae2be8f0e5132d601ab431ac8783b5b1c7439
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat Jun 30 20:54:45 2012 +0200

    sr: session/demo: Remove Windows specific hack
    
    The session and demo device code contain a hack to make the demo device work on
    Windows. This was neccessary since polling on windows requires special handling
    and we can not just pass in the raw fd to poll.
    
    With the previous patches which added support for non-fd based event sources
    this hack is no longer required. The patch moves the GIOChannels used by the
    demo device to the demo device context and uses sr_session_source_add_channel
    to register a source for the channels instead of using the raw pipe fds.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit aac0ea256327bdff8f2a98bf62c7ac6a42dd1e44
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat Jun 30 20:54:44 2012 +0200

    sr: session: Add support for GPollFD or GIOChannel based sources
    
    A raw file descriptor to poll on is not always available, this patch adds
    support for adding a source for a GIOChannel or GPollFD.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 0687dfcde9eeebc2ee5fdc93af4a9a322ce9d071
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat Jun 30 20:54:43 2012 +0200

    sr: session: Keep a global pollfd array
    
    Currently we keep a file descriptor for each source and construct a pollfd array
    from these during each loop iteration in sr_session_run(). This patch modifies
    the code to keep a global pollfd array which is only modified when a source is
    added or removed. On one hand this gets rid of the constant constructing and
    subsequent freeing of the pollfd array in sr_session_run(), on the other hand it
    will allow us to implement support for non-fd based pollfds.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 2bccd322bc40a2ebe41a9d3f1c4b12cd52cb2595
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sat Jun 30 20:54:42 2012 +0200

    sr: session: Use realloc to resize source array
    
    Use realloc to resize the source array when adding or removing a source. This
    makes the code a bit smaller. In the remove function we now check whether the fd
    is valid before doing anything else and if it is not simply do nothing. If it is
    valid use memove to move the elements following the source one element down in
    the array. Only after that has been done the array is re-allocated.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 45c59c8bdd01954f9214fe7b869d92c55415d109
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jul 5 00:55:07 2012 +0200

    sr: moved sigrok.h so libsigrok/libsigrok.h
    
    All frontends will have to include <libsigrok/libsigrok.h> from now on.
    This header includes proto.h and version.h, both installed from the
    distribution into $INCLUDE/libsigrok/ as well.
    
    The only dynamically changed header is now version.h, which has both
    libsigrok and libtool compile-time versions in it.

commit 8489264f1e3ef07ba8f1143ed62fa88d90980f94
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Tue Jul 3 23:59:12 2012 +0200

    sr: demodevice: Reset sample limit when setting time limit and vice versa
    
    Only one limit should be active at a time. Make sure that the sample limit is
    disabled when a time limit is set and vice versa.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 25f5d66a7752379abe454da0705df4ed15ce6426
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Tue Jul 3 23:58:40 2012 +0200

    sr: fx2lafw: Fix potential leaks in acquisition_start error paths
    
    Call abort_acquisition if starting sampling fails in acquisition_start, this
    will ensure that all already allocated resources are being freed again.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit c03f045004a340bd418206cbd02eaefcede91a5b
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Tue Jul 3 23:58:39 2012 +0200

    sr: fx2lafw: Do not start a new acquisition if the old is still running
    
    This may happen if the acquisition_start is called right after calling
    acquisition_stop and not all transfers have been freed or on repeated calls to
    acquisition_start. If it happens we'll enter an undefined state and all kind of
    strange behavior may occur, so error out in such a case.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 0caa1ef0cb0b2231e232a7d1681e4e13fe838035
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Tue Jul 3 23:58:38 2012 +0200

    sr: fx2lafw: Abort pending transfers when sampling is stopped
    
    The recent reworks of the fx2lafw made sure that the total buffer size is large
    enough hold 500ms of data. This was done to improve performance and stability.
    That the timeout value for a transfer was also increased to over 500ms, a side
    effect of this is that when sampling is stopped there will be a additional delay
    of 500ms. This is because the driver waits for all transfers to be freed
    before it sends a SR_DF_END packet. Once sampling has stopped this will only
    happen once a transfer times out. This patch cancels all pending transfers when
    sampling is stopped, this will cause them to be freed almost immediately and the
    additional delay will disappear.
    
    Also make sure, that if we know, that we just have received the last transfer to
    not resubmit this transfer again.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit ca3d84cca1d2f7427f8c5266717cb787d2346e16
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 1 22:37:15 2012 +0200

    sr: add genericdmm driver

commit 45edd0b204b4166f2f590bf130b97ff90896a99f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 1 22:33:57 2012 +0200

    sr: add HWCAP type SR_T_KEYVALUE (char **)

commit f8c1fcda46584c3550a198625e0b5f0a58794b6e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 1 22:31:31 2012 +0200

    sr: use proper definitions for parity setting
    
    ols driver fixed to use these as well.

commit 5d4fb4fc0d4dd4fc323d5ecf862502ec317692de
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 1 15:29:57 2012 +0200

    fx2lafw: enable driver build by default

commit 163f0523f6b26c0728153b5eafcf7a1b15645375
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jun 28 22:57:03 2012 +0200

    sr: Mastech VA18B: Partial protocol supports (WIP).
    
    Disable the driver for now, as it's not usable for the general public, yet.

commit 99f5d45eccaf11ab72bfc8aeff6a07aa412d35b8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jun 28 01:47:38 2012 +0200

    sr: hantek-dso: Fix copy-paste error.

commit 2769eed9917aeb6e549b90be4925a4c192a92309
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Mon Jun 25 23:51:38 2012 +0200

    sr: fx2lafw: Move empty_transfer_count to device ctx
    
    If one device is failing it should not affect the transfers of other devices.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 5af666a94e67e8a18c0dfa1f4314e1c3e93aa993
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Mon Jun 25 22:15:59 2012 +0200

    sr: fx2lafw: Calculate buffer size and timeout based on sample rate
    
    Currently timeout and buffer size are hard-coded in the fx2lafw driver which is
    non-optimal if we want to get good results at both high and low sample rates.
    
    The timeout is hard-coded to 40ms, which doesn't work well when sampling at
    a low sample rate. E.g. at 20kHz filling all available buffer space alone takes
    6 seconds. So naturally we'll see a lot of transfers timeout in this case.
    
    The buffer size is hard-coded to 4096 bytes, which does not work well with high
    sample rates. E.g. at 24MHz these 4096 bytes are enough space for 0.17ms of
    data. The total buffer size is enough for about 5ms of data. Sooner or later the
    application won't be able to resubmit a transfer within this time span and the
    device will abort data acquisition. Usually this happens within the first few
    seconds of sampling.
    
    This patch adds a few new helper functions which calculate the buffer size and
    timeout based on the current sample rate.
    
    The buffer size is chosen to be large enough to hold about 10ms of data and it
    also must be a multiple of 512 bytes since the firmware will send us the data
    in 512 byte chunks.
    
    The timeout is set to the time it would take to fill the whole available buffer
    space plus a 25% headroom to accommodate for jitter. This is more than enough,
    but there is no need to make the timeout a tight deadline, since it is only
    meant as a last resort in case the device stops submitting data. And in this
    case data acquisition will be aborted anyway.
    
    The patch also limits the the number of transfers so that the total buffer
    space is not much more of 500ms. This will ensure that we do not have to
    wait too long when aborting data acquisition.
    
    This patch also significantly reduces the number of context switches when
    sampling at a higher sample rate. On my system for example the CPU load of
    sigrok-cli when sampling at 24MHz goes down from ~25% to 3-4%.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 7ce737a77c0d29276cdda4f3670c1ef41173bb9c
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun Jun 24 16:45:08 2012 +0200

    sr: fx2lafw: Handle the transfer's status
    
    While errors are usually already implicitly caught by looking at the packet
    length field there is one error status which is worth special handling. If the
    device has been removed there is not really a chance to recover from this error
    so data acquisition can be stopped immediately.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 17dff8a1e6faaec02ed99715f2914b15b4cab82e
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun Jun 24 12:19:09 2012 +0200

    sr: fx2lafw: Avoid unnecessary alloc/free combo
    
    In receive_transfer for each completed transfer a new buffer is allocated and
    the old one is freed. We can avoid this by simply reusing the buffer for the
    next transfer. This is possible if we only resubmit the transfer after all
    processing on the data buffer has been done. A new buffer is only allocated if
    the size of the old one is not 4096 bytes.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit f855de7575915a8b3a07ed32ff7ec6b431777317
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun Jun 24 12:08:59 2012 +0200

    sr: fx2lafw: Properly free transfer
    
    When freeing a transfer we also have to free the transfer buffer. We also have
    to keep track of the number of allocated transfers and if the freed transfer was
    the last one stop acquisition. This patch introduces a helper function which
    takes care of all of this.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit bd47acabe33813acb7dd6a4ebf155418072b08b7
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Sun Jun 24 12:04:35 2012 +0200

    sr: fx2lafw: Allocate header and packet struct on the stack
    
    The header and packet struct are only used in the scope of this function and
    they are freed at the end of it. Also these structs are rather small, so they
    can safely be allocated on the stack. By doing so memory leaks on the error
    paths are avoided.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 0c156e06c55a5b69385778fb00292d5866660a7f
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Jun 27 21:39:26 2012 +0100

    fx2lafw: Made libusb_claim_interface error messages more informative

commit 88a13f30bdcad5de468221ef06e7dbc8859c3d8b
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jun 27 19:36:30 2012 +0200

    hantek-dso: add profiles for all five models in the series
    
    Also cleaned up profile struct, and use the new firmware filenames.

commit 3b6c19303db9da2d70a65880fa85883273b17a5a
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jun 27 01:02:39 2012 +0200

    fx2lafw: fix broken firmware upload timeout
    
    Also corner case error init.

commit fc8fe3e3141f998dd97004c4379cb4d3acbd62a9
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Jun 27 00:55:15 2012 +0200

    hantek-dso: get rid of broken GTV_TO_MSEC firmware upload timeout

commit e749a8cb50029b6275a32a60c351d65f14fdf601
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 26 23:26:55 2012 +0200

    hantek-dso: start sending the frame only from the trigger point
    
    Samples received before the trigger point are stored. From the
    trigger point on, every chunk received from the device is sent
    up the session bus. After the device has finished sending, the
    stored samples are transmitted.

commit fa114e4ab1ef0d30bb3cce8f926e43d66df9f787
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu Jun 21 19:54:29 2012 +0200

    sr: fx2lafw: Set correct unitsize for trigger buffer
    
    Commit 88b75eb719 ("fx2lafw: Added device caps and added support for wide
    sampling") increased the size of the trigger buffer from 8 to 16 bit, but forgot
    to adjust the unitsize logic packet which is used to send the contents of the
    trigger buffer. This patch sets the unitsize to sizeof() of the trigger buffer.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit e05a174be2f9142471ad94a1af2b3722efd9c6ae
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 24 18:57:37 2012 +0200

    hantek-dso: fix triggerpoint conversion

commit f3ab43a8fbc39fe786718a7a3f5528acb3150aa7
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu Jun 21 10:30:38 2012 +0200

    sr: fx2lafw: Fix multistage trigger
    
    Multistage triggers currently do no work, because there is a return statement
    in the middle of the trigger detector which will be hit as soon as the first
    stage in a multistage trigger matches. This patch removes the return statement
    so that the trigger detector can continue to try to match the next stage. In
    order for this to work we also make sure that the trigger stage is only reset
    if the current sample does not match.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit e21e846330070e102b24e08605b76b362020f500
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jun 23 01:17:36 2012 +0200

    sr/srd/cli: require glib version >= 2.28
    
    Needed for g_get_monotonic_time(). Thanks to Tomaž Šolc.

commit eabf24035b29020085f01dd6e5a2f3c7075db23e
Author: Lars-Peter Clausen <lars@metafoo.de>
Date:   Thu Jun 21 10:30:39 2012 +0200

    sr: fx2lafw: Fix memory leaks in receive_transfer
    
    There are a few memory leaks in the receive_transfer transfer function. The most
    serve of them is that a sample buffer is not freed if the triggered has not
    matched yet, which causes a sigrok process which is waiting for a trigger to
    consume several megabytes of memory within seconds. The other leaks are on the
    error paths in that function.
    
    Signed-off-by: Lars-Peter Clausen <lars@metafoo.de>

commit 9edfee3ee31bc6cd7657392f2c9ac28ccf7a7dce
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jun 21 23:59:27 2012 +0200

    sr: ols: Fix incorrect comment.

commit eb1f1eb407965e72d31372b472b17989d3a2f3c8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jun 20 19:56:54 2012 +0200

    sr: Unfinished Mastech VA18B (DMM) support.

commit b908f067f25f7c307e46ba05a23fd3cc5187379f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jun 21 22:36:13 2012 +0200

    sr: chronovu-la8: Split code into api.c and driver.c.
    
    We should generally use api.c for API related functions and put the other
    functions (mostly hardware-specific low-level code) into other C file(s)
    for better readability.

commit 9956f2851fb97a4b4090cedcde6f4b83cb08e971
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jun 20 23:55:23 2012 +0200

    sr: analog: Add MQ and UNIT enums.
    
    MQ is the measured quantity, e.g. voltage, current, temperature.
    
    UNIT is the unit in which these quantities are measured, e.g. volt,
    ampere, celsius, kelvin, etc. etc.
    
    The same MQ can be specified in different UNITs by the driver, depending
    on what the hardware reports. Conversion is left to the frontends.

commit c13536fa9c5ec756ff169423d43fc14b10be8cfa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jun 19 23:33:50 2012 +0200

    sr: backend/zeroplus: Improve debug output.

commit d27e406e13d1247a7839698d3643b8ebae7143af
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 19 02:05:28 2012 +0200

    sr: new output format 'float', just floating point values
    
    Also outputs FRAME-BEGIN and FRAME-END, if present in the stream.

commit cdea754ae59dda3974b1c00cae2be1e72a539176
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 19 02:04:18 2012 +0200

    sr: remove unused code

commit 4368827aefc3488ae6b7b375590bbad1dd4d73fc
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 19 01:06:02 2012 +0200

    sr: only handling analog voltage units for now

commit 6e6eeff47a93e48b31ef5d16feb707e8725dbbd3
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jun 18 23:09:37 2012 +0200

    hantek-dso: capturestate packet also contains the trigger point
    
    Not yet used, but it's the key to knowing where in the frame to
    start displaying; the frame is used as a circular buffer, and what
    is sent is effectively a snapshot.

commit a217bcdf104e757db9713ea767ee5709b137084b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jun 18 23:05:02 2012 +0200

    hantek-dso: relays now set properly
    
    They appear to be arranged to switch on/off a hierarchical series of
    devices that attenuate the channel by an order of magnitude.

commit 384c28d9e74791a753bd25e471d20d970ab2346b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jun 13 18:58:24 2012 +0200

    sr: hantek-dso: Use portable g_ntohs() function.
    
    The ntohs() from <arpa/inet.h> is not available on MinGW/Windows. There
    are ways to work around this, but as we use glib already, using g_ntohs()
    is the best option anyway.

commit c5841b28092ad9366cef5d512ddb10d6a34c9c0a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 5 18:17:01 2012 +0200

    hantek-dso: calculate voltage based on vdiv setting

commit a10c805636c7252cbd22582fc6360afc080ca48f
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 5 18:16:23 2012 +0200

    hantek-dso: default to DC coupling

commit 1d97091e713d110a79f754472ea97f9286512567
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 5 18:15:58 2012 +0200

    hantek-dso: fix CH2 vdiv setting

commit 019d56633a81a240c6df4813c778cfb08bc130a6
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 5 18:15:04 2012 +0200

    sr: add udev entry for Victor 70C multimeter

commit 0026228ad01838dccaf761d17d97bda9bbbb7e72
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 5 18:14:23 2012 +0200

    sr: fix udev rules for Hantek DSO-2090

commit aff5a729abfaa016555f5d4a6a1e2c953405179d
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jun 5 17:37:28 2012 +0200

    sr: add unit field to sr_df_analog packet

commit 62bb8840e193cc73702b9e586882555bc18a8c61
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jun 1 01:12:09 2012 +0200

    sr: hantek-dso: Consistency renames, constification.

commit 0236ab687fbbb0e68bd27791a6cd849fc5321cd3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jun 1 00:23:47 2012 +0200

    cli/gtk/qt: Now all require libsigrok >= 0.2.0 (API changes).

commit 63298404df6e4d8a4bd7358ad55e4076b4bf2993
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jun 1 00:16:42 2012 +0200

    sr: Increase pkg version to 0.2.0, increase lib version.

commit 0a88ec3d9c97d20a26f2c0d8813ce7ba075421f6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 31 22:46:28 2012 +0200

    sr: fx2lafw: Use gboolean, cosmetics, fix gcc warning.

commit af36b8096942a704afa7e858fcd8fc8e15b92e09
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 31 22:43:12 2012 +0200

    hantek-dso: Update to constified libsigrok API.

commit 88ff66c2c910f32b92faa6c4815f60cec47577c4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 31 22:40:41 2012 +0200

    hantek-dso: Quickfix for build issue (will be removed later).

commit f4575b6549ded99ec5380b4d6fafa899f5cb65ae
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Thu May 10 16:34:24 2012 +0100

    fx2lafw: Added a check to limit the sample rate during 16-bit sampling

commit d1ddc7a9a8a7226fcb1f8b5a360c275684e77e9a
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon May 7 16:01:10 2012 +0100

    fx2lafw: Added device caps and added support for wide sampling

commit a533743dd1680bb53f29b6a01cccbc5380027e77
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon May 7 15:07:06 2012 +0100

    sr: Made sample rate lists const

commit 1b79df2f57012926927983a8e2829004f0eee4fa
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon May 7 15:02:02 2012 +0100

    sr: Made the dev_config_set parameter a const pointer

commit b7f578bef53ff0e645ca0cae3f9781f577b7367a
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon May 7 13:35:56 2012 +0100

    sr: Made the dev_info_get return value const

commit 915f7cc87a8dce688ab99fc67005ef77e0d028a2
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon May 7 13:57:43 2012 +0100

    sr: Made hwcap const

commit 2715c0b86bafed70dc1d3737b59750570951f507
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun May 20 01:14:37 2012 +0200

    hantek-dso: hopefully handle endianness in voltage setting

commit 4a090d722d7d3f2d1011fc5ff1c9a39c809f07bd
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun May 20 01:11:09 2012 +0200

    hantek-dso: enable SR_HWCAP_COUPLING

commit b58fbd99c8944a3ba584540aa7ceb34b5451fa3a
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 17 03:17:09 2012 +0200

    hantek-dso: support for SR_HWCAP_COUPLING

commit e1c8b2abfbc5a0aa75cf6fbd8f88e45a8df0fd5b
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 17 03:16:01 2012 +0200

    sr: support for SR_HWCAP_COUPLING and SR_DI_COUPLING

commit 313deed219c39a902e6b7c39cf519c3476b9798d
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 17 02:03:12 2012 +0200

    hantek-dso: support SR_HWCAP_VDIV

commit bd8db307da41b3ca0f5401015f92e833e1db658e
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 17 01:55:59 2012 +0200

    sr: support for SR_HWCAP_VDIV and SR_DI_VDIVS

commit 79afc8cac4912f5e1025c608a10b05506a191be9
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu May 17 01:54:57 2012 +0200

    sr: add voltage parser and prettyprinter

commit c1e486185ec4e4a894419f8d287c55ffb6282979
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed May 16 02:07:51 2012 +0200

    sr: use SR_T_RATIONAL_PERIOD (new-style types)
    
    SR_T_<type>_<parsehint>

commit ebb781a69f1128fab5a9eedd39a548cba8ceccbb
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue May 15 22:41:00 2012 +0200

    hantek-dso: support for SR_HWCAP_FILTER

commit 3c4976c9c4b9dd09204c7c3797f1122e4b641631
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue May 15 22:39:32 2012 +0200

    sr: support for SR_HWCAP_FILTER and SR_DI_FILTERS

commit a370ef19161cee7016b7d24a2b9cef95b1191f6d
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue May 15 20:56:29 2012 +0200

    hantek-dso: support for setting all CMD_SET_TRIGGER_SAMPLERATE params

commit 76f4c61086b314e66e92dd571f37defd3f714554
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue May 15 20:46:14 2012 +0200

    sr: add period parser

commit 0fe11789961861a68d2de45136a7869f9b8c1717
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue May 15 20:45:46 2012 +0200

    sr: add support for sr_rational and various HWCAPs and DIs

commit bc79e906a0911b4218b42b63b2f27fb0016c59da
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon May 14 02:33:37 2012 +0200

    hantek-dso: proper protocol implementation of trigger/samplerate setting

commit 6e71ef3b6f27c3f3e1c5d5dc4e2f60caf54fc818
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue May 1 20:35:04 2012 +0200

    hantek-dso: fix channel selection

commit ae88b97ba28ba098a54ec11af99bb195e6f9ab32
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 30 22:29:31 2012 +0200

    hantek-dso: delimit frames with SR_DF_FRAME_* packets

commit 6ea7669c9dc3dd59ad88869e29f5411114196f34
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 30 19:55:06 2012 +0200

    support for frame begin/end packets

commit 3b533202c8b32fbe785906e9930959aae077aeff
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 23 01:05:58 2012 +0200

    sr: initial support for Hantek 2xxx/5200 USB oscilloscopes

commit f366e86c68071fa7888259aa3963b213caa81b51
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 22 20:06:19 2012 +0200

    sr: change all drivers to use SR_DF_META_LOGIC

commit ee7489d23449a3f5a81777fbdb3309dfe22bcecd
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 22 18:11:31 2012 +0200

    sr: SR_DF_ANALOG type, and meta types for analog+logic

commit 7e41e319d9a76da527eaa6e2708e4909ffd0d971
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 23:31:03 2012 +0200

    sr: fx2lafw: Forgot to add (C) line to fx2lafw.h in recent commit.

commit 0a8c0c324e16e4848498309dbb2efd27b4c812a9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 23:15:23 2012 +0200

    sr: fx2lafw: Only check for correct major FW version.
    
    Changes in the minor version number are OK, as those should never
    contain any incompatible/API changes.

commit 8fdecced96a1e849f5474e57aeca456dd265d9b9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 22:55:03 2012 +0200

    sr: Consistently use ZEROPLUS spelling.
    
    This is the version used throughout their website, let's use it.

commit 921634ec10feb88dd2110d10d8b1914eaa742fb6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 22:42:19 2012 +0200

    sr: Fix typos.

commit cf94c8167bdd520e43cda5cdc9ef1ebf301b814d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 22:40:59 2012 +0200

    sr: fx2lafw: Add (C) line from old saleae driver it's based on.

commit f9a33a4720403e7db4d69cb698b18dd724e16db7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 22:23:36 2012 +0200

    sr: README: Add section about firmware files.

commit 537096739ee5b841f9f51a864f785cf7c4b56864
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 21:48:40 2012 +0200

    sr: udev file: Minor fixes/additions.

commit 02df29f0db42ae2f475df83e4cbe2d18994f7f53
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 21:36:28 2012 +0200

    sr: NEWS: Minor updates/fixes.

commit 2f3a6df8e4f34c8902002de4dcc3fda94f195ae0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 09:26:15 2012 +0200

    sr: Increase version number to 0.1.1.

commit 5c4252cd8b7fafa9b37492c50a53f9165cd0e18d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 09:25:11 2012 +0200

    sr: Update NEWS in preparation of upcoming 0.1.1 release.

commit f60fdf6ebe26a6b8693e515ed1eeedb906b7a17f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 09:24:01 2012 +0200

    sr: fx2lafw: s/MAX_RENUM_DELAY/MAX_RENUM_DELAY_MS/.

commit e8bd58ffd2615ab2fbb0a963f359a705c584e4e1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 09:10:41 2012 +0200

    sr: fx2lafw: Fix a firmware upload bug on 32bit systems.
    
    The glib GTimeVal data type (and some functions using it) will be faded
    out from glib sooner or later, so it's not a good idea to use them anyway.
    
    In this specific case GTimeVal.tv_sec was overflowing, leading a check in
    libsigrok to fail, and thus to FX2 firmware upload errors, i.e.
    non-working fx2lafw devices.
    
      http://thread.gmane.org/gmane.comp.debugging.sigrok.devel/166
    
    The root cause is that GTimeVal.tv_sec is a 'glong' (8 bytes on 64bit
    systems, but only 4 on 32bit systems).
    
    We now use an int64_t (and g_get_monotonic_time() instead of the more
    problematics g_get_current_time() which uses a GTimeVal).
    
    This has been verified to fix the issue on a 32bit system.
    
    Other uses of GTimeVal in libsigrok will be removed in a later release.
    
    Also, drop unneeded GTV_TO_MSEC.

commit 36423d04e5411d9cd744bc6421f099b5d2c02730
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 02:27:30 2012 +0200

    sr: input/chronovu_la8.c: Add missing #include.
    
    This fixes a compiler warning.

commit fb6f1978ed490a4cc80125e93239abfdad55e4b7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 30 00:00:33 2012 +0200

    sr: New default firmware dir: $prefix/share/sigrok-firmware.
    
    We no longer expect firmware files to be in the
    $prefix/share/libsigrok/firmware directory, as that would require an
    additional (distro) package 'sigrok-firmware' or the like to install
    files into another package's (libsigrok) path, which can be problematic.
    
    The current 'sigrok-firmware' repo's "make install" will already install
    all files into $prefix/share/sigrok-firmware.

commit c09584085ed0307ba05f3ebf88dcf54ce86aec07
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 29 20:30:15 2012 +0200

    sr/srd/cli/gtk: ChangeLog -> MAINTAINERCLEANFILES.
    
    If the (generated) ChangeLog file is marked for DISTCLEANFILES, it'll be
    removed whenever "make distclean" is called (and is then gone forever if
    you use the tarballs, for example).

commit 3217b032053d6eb89ca31b01968715813bcbe1bb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 29 00:21:21 2012 +0200

    sr: la8 in: Files must be exactly 8388613 bytes.
    
    All ChronoVu LA8 files (*.kdt extension usually) are exactly 8388613
    bytes in size (8MB + 5 bytes). Check this, when trying to autodetect the
    file format, to reduce the likelihood of 'chronovu-la8' being
    autodetected on all binary files (instead of 'binary').

commit 9f05304e4e1b842f875cfdaccf9e93cae0012937
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon May 28 23:40:12 2012 +0200

    sr: ARMFLY AX-Pro is supported by fx2lafw (LA only).

commit 432e5e95f53cd61160c1013921743267d84a7dd2
Author: Pekka Nikander <pekka.nikander@senseg.com>
Date:   Fri May 11 19:23:21 2012 +0300

    sr/srd/cli: Fix compiling with Homebrew.
    
    Add ACLOCAL_DIR setting and AM_PROG_AR macro for compiling with Homebrew
    under Mac OS X.
    
    Applies essentially the same change to
    {libsigrok,libsigrokdecode,sigrok-cli}/{autogen.sh,configure.ac}
    
    It may be that the same fix is needed for the other autogen.sh and/or
    configure.ac files, but that hasn't been tested and therefore not in
    this commit.

commit 40cd2b545d4d6ddb0dce7b54bfc8f9be5b77444a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 10 21:27:17 2012 +0200

    NEWS: Add some news items.

commit 37dc0b16a6d6aca8f98b4baee24028f3714f91d4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 11 00:19:01 2012 +0200

    fx2lafw: Cosmetics.

commit dc68c660d566424e9d83b19959a79d40e599c71c
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon May 7 16:44:25 2012 +0100

    fx2lafw: Added a gpif delay debug message

commit 79dc64985f7e50943562169aebd7eefbd6e13490
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon May 7 16:42:50 2012 +0100

    fx2lafw: Added support for 20kHz and 25kHz sampling

commit 897c1a2ee5c7397a4ab281a5c83f8f5c34ea0aa1
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon May 7 12:40:52 2012 +0100

    fx2lafw: Added support for 100kHz and 50kHz sampling

commit 1e94408ae515157a9f27898b7b4c181e2aef980a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 6 19:54:46 2012 +0200

    sr: fx2lafw: Get/display FX2 REVID.

commit 1663e4706cd966fcaed40d067ceea4b613e8125d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 6 17:13:49 2012 +0200

    sr: fx2lafw: Braintechnology USB-LPS support.

commit 6352d030dfd11fb63a1beedd0e24b3e28be1a961
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 2 19:02:03 2012 +0200

    sr: We support both SIGMA and SIGMA2.
    
    Also, a few minor coding-style fixes etc.

commit b5f6fcb1ac98a83747c778262a7cc91f6884e9e4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 1 19:09:06 2012 +0200

    sr: udev: Add Ideofy LA-08 entry.

commit 18a98412ec2ed644922b6fff44485318454975ab
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 1 19:05:09 2012 +0200

    sr: udev: Add Velleman PCSU1000 entry.

commit 1c41873612df34b90ec3ddaaf3f2d2e30dfc98e7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 1 19:03:44 2012 +0200

    sr: udev: Fix alphabetical order.

commit 585a9ec4a2076ca0ea23ef244d94521ea86316f8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 1 19:00:28 2012 +0200

    sr: udev: Add Robomotic BugLogic 3.

commit 6b73d9a598747b70436010f0cb27061d5dd93618
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Apr 27 01:28:47 2012 +0200

    fx2lafw: use iManufacturer/iProduct fields to identify our firmware
    
    It's more deterministic than the endpoint profile check we did before. Which
    was also broken.

commit 6752905e6be19617d83c48a6db5a20b8e932308b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 26 23:18:05 2012 +0200

    sr: zeroplus: Fix segfault, add debug output.
    
    There are various ZEROPLUS models with different probe numbers. For now
    hardcode to 16 (for the popular LAP-C(16032)). This will need to be
    fixed in a dynamic way later.
    
    This fixes a segfault due to only 16 probe-names being defined, but the
    drivers returning 32 as probecount.
    
    Also, add some additional debug output.

commit 993526f82421d3954b1032bfc1affb208916ebeb
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 23 15:31:41 2012 +0200

    sr: don't use deprecated glib functions
    
    As of the recent glib 2.32 release, these produce deprecation warnings
    at compile time.

commit 42cdeef6268a2fa28a42e472324c5122410847d0
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Mon Apr 23 13:36:17 2012 +0200

    sigma: Fix segfault when no Sigma present.

commit 868501fa46bfb3c43bf4906e57587ef24463641c
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sun Apr 22 15:10:46 2012 +0200

    sigma: Bump copyright notice.

commit e210c6c09003cbd4cfada74c42466ad407c73ad8
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sun Apr 22 14:31:40 2012 +0200

    sr: Remove zlib dependency.
    
    No longer needed by Sigma driver.

commit e3fff420dac8ba489674cf685529b3647fca185b
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sun Apr 22 14:24:02 2012 +0200

    sigma: Add support for SIGMA2 (req. new firmware).

commit 3c36c403faf9ed06741aaeb8fbbaa10a18871a3c
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sun Apr 22 13:08:16 2012 +0200

    sigma: Use heap for datafeed packet and header.

commit 805919b042386043f3f2fde8c13ca276a99e088c
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sun Apr 22 13:05:10 2012 +0200

    sigma: Fix bugs in receive_data callback.
    
    - Poll data position on Sigma for every iteration.
    - Return TRUE when no data ready.

commit 934cde02b80791943a023c2b4949fc5de43d5081
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 19 00:55:29 2012 +0200

    fx2lafw: supported_samplerates[] should be 0-terminated.

commit f488762a17a3dce8a513aabcc0475f7382ec19bd
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Apr 18 22:28:52 2012 +0100

    fx2lafw: Added support for default Cypess FX2 without EEPROM

commit 824b1a8f5cc6073f6d6505d0efa74d67f4da0fb7
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Apr 18 19:17:25 2012 +0100

    sr: Deleted the saleae-logic driver, fx2lafw has superceded it.

commit d56ee26599fa6dd560613adc14a4a28575063d5e
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Apr 18 19:10:15 2012 +0100

    sr: Disable saleae-logic driver by default and enable fx2lafw

commit 9304d576507db12f4072f427bcf1ce1645debce3
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Apr 18 19:07:30 2012 +0100

    fx2lafw: Added slower sample rates

commit fefd54a0cdd4b2d30c36e53ea2ecdce6ff4b96ea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 17 00:12:33 2012 +0200

    sr: Initial 0.1.0 release.

commit 69e70c233ef6186131369ad596a96a2632bdcf85
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 16 23:16:00 2012 +0200

    sr/srd: SR_API/SRD_API/etc. is a no-op on MinGW.
    
    This avoids warnings on a MinGW build. The feature depends on ELF files,
    but MinGW/Windows uses PE files.

commit 787c43905d6f61c08d3b66a4a09dc12038120861
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 15 20:33:45 2012 +0200

    sr: Add functions to query sr version(s).

commit 0aeb0ccd5572a08c088e7903321a5998374f42e6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 7 17:40:52 2012 +0200

    sr: sr_err() et. al. don't need trailing \n.

commit bf978d355345a7cc3ae7dc6199cc25952aaa182f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 7 17:35:14 2012 +0200

    sr: sr_parse_triggerstring docs/improvements.
    
    Also fix smaller typos and cosmetics.

commit 44dfd483db9e594acc809b9d76eb910a9b53165d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 10 22:32:31 2012 +0200

    sr: fx2lafw: Cosmetics.

commit 13bf7eccbb08214c3d6d53da5b5b6a269a64a779
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Tue Apr 10 18:27:24 2012 +0100

    fx2lafw: Added command to verify firmware version

commit 6fbe5e6081b0f83fa97f0097bc87a21a45c48481
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Apr 8 17:19:52 2012 +0100

    fx2lafw: Safer use of libusb_get_device_list

commit 105492034465fcdddfe89c916ed6da3242d39901
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 31 12:09:37 2012 +0200

    sr/srd: Fix 'make distcheck'.

commit da90fb2a01523e3277ed849297646614dce9a15d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 31 12:05:20 2012 +0200

    sr/srd: Add ChangeLog to ignore list, it's generated.

commit 2e26e0aa0b7ccbdb461fdf71dde59e0400ba50ee
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 31 11:57:46 2012 +0200

    sr: Disable fx2lafw driver again (for now).
    
    After some more testing, it will probably be enabled by default and will
    replace/deprecate the Saleae Logic driver at some point.

commit c5d83a5a72b70b88cd1aa3299499b8b5389a0da3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 31 11:37:08 2012 +0200

    sr: Add NEWS file.

commit 6dddd902244f314eba721a0d8804731ea9c9912d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 31 11:28:24 2012 +0200

    sr: SR_PACKAGE_VERSION_* for consistency.
    
    No need to use the LIBSIGROK_ prefix here when we use SR_ everywhere
    else. Also, better distinction between package version and lib version.

commit da68656857cc0c70faa582d954c3b0bf5b6a1dbc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Mar 29 08:55:12 2012 +0200

    sr: fx2lafw: Consistency fixes.

commit 01c3e9dbd5bd583012fc1f46237bf4fde784d209
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 28 21:55:48 2012 +0200

    sr: s/_clear/_remove_all/ for consistency.

commit 054e67090641e0a56a7e55789a3882ca138a0b11
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 28 20:00:13 2012 +0200

    sr: out: Use uint8_t (not char) for buffers.

commit 69cfcfc8f0f3f4358714d706268fc05aaa70ca23
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 28 18:52:17 2012 +0200

    sr: Make wrappers honor return values.

commit 0fc12d66f1cf0fa46d075f9a9f8b691a325f39b9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 28 02:32:52 2012 +0200

    sr: Generate ChangeLog from git upon 'make dist'.

commit 7ae2f9d56fed0e53ad3dab25de65504acc3022a0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 25 22:02:19 2012 +0200

    sr: fx2lafw: Cosmetics.

commit b04902b6469d4aed32e69125167f7ff71992fcba
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 25 15:23:31 2012 +0200

    sr: fx2lafw: Use SR_PRIV where needed.

commit 30da9658ad908864f78e3a99366f7787a80dcc43
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 25 15:21:56 2012 +0200

    sr: fx2lafw: command.h: Add missing include guards.

commit f4a9e5c0aa81738d26e7893d6cf47ebdb4a91047
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 25 15:20:55 2012 +0200

    sr: fx2lafw: Cosmetics.

commit 94c26b08fdc2568a33e176b895c63048a4b66464
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Mar 25 19:39:06 2012 +0100

    sr: Build ezusb.c for fx2lafw as well as saleae-logic

commit ec888f62fe4298229e6ed0865937d74476715bf7
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Mar 25 18:53:54 2012 +0100

    salae: Only terminate session after all transfers have been aborted

commit 3e6292b2967db0b86281988ebf816317956a8a51
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Mar 25 18:52:30 2012 +0100

    fx2lafw: Made finish_acquisition a static function

commit 590b9f9a91a703ceea4c430566735d05a2acf82b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 24 22:32:47 2012 +0100

    sr: Fix some samplerate fields.

commit 85a77720c678d1bb37c1445755ea2b38c658ca36
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 24 19:42:26 2012 +0100

    sr: sigrok.h: Add version macros.

commit 4937b2355156f954d6fc3c1daf258d3825582743
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 24 10:03:36 2012 +0100

    sr: Rename sigrok.h. to sigrok.h.in, needed soon.

commit cb61e9f7c3cfa2e3c9eee0bd221f47dd95f34073
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Mar 24 10:04:36 2012 +0000

    fx2lafw: Only terminate session after all transfers have been aborted

commit 24125e05202626c9fea3f056ecc5d008f544970b
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Mar 24 10:07:22 2012 +0000

    fx2lafw: Removed a line of redundant code

commit 6c6781b6a7559b66645ec4dbebaf6dca0246cb5e
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Mar 21 20:42:41 2012 +0000

    fx2lafw: Imported software triggering from fx2lafw

commit 97fbf6704e5876f3cfbc519f05acaa2af65a6ff0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 21 23:42:19 2012 +0100

    sr: udev: Add missing Hantek DSO-2090 entry.

commit 8a6b5b50e1555744374781f0a438c8965f501e98
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 21 22:33:51 2012 +0100

    sr/srd: Remove API warnings from READMEs.
    
    We'll have a libsigrok and a libsigrokdecode release soon. After that,
    any API changes must be properly documented and reflected in the
    SO version (and package version) numbers of the libs.

commit 2f8701d112cc1c4b61b36fe4c7096431833a8c9d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 21 22:29:41 2012 +0100

    sr: Various fixes in the udev file.

commit 2e7cb0040a64062cb4b13fdff72995f4b5dc8769
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 21 19:58:56 2012 +0100

    cli: Fix -V/-h output a bit.
    
    Options and their defaults should not be documented there, but rather in
    the manpage or such.

commit b5750520bb0e2726ad6248e23f52a854535bc9a2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 21 19:45:46 2012 +0100

    sr: Enable fx2lafw driver per default.

commit 8ec95d22822ed5ebf4b6aeaff654608ad0225073
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 21 19:28:43 2012 +0100

    sr/srd: Small fixes, constifications, doc updates.

commit a4d39856788e2182e53fa6a0f0a05f3867f31fc0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 21 18:40:25 2012 +0100

    sr/cli/gtk/qt: Fix package version numbers / docs.
    
    The next (and first) libsigrok release will be called 0.1.0.
    
    The next (and first) libsigrokdecode release will be called 0.1.0.
    
    The next sigrok-cli release will be called 0.3.0 (as we already had a 0.1
    and 0.2 release of sigrok-cli; those did not yet use the libs, though).
    
    sigrok-gtk and sigrok-qt didn't have any releases yet, so their version
    numbers are set to 0.1.0.
    
    Also, consistently use three numbers/digits for our version numbers.

commit eb0a373189e0e1f346b6807b692c2ea0bdaa57b8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 20 18:09:18 2012 +0100

    sr/cli: s/patternmode/pattern/ in a few places.

commit ebc347388240e025181265f7d3d63a22f7bd5da9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Mar 20 17:51:18 2012 +0100

    sr: s/err/ret/ for consistency.
    
    We use ret, err, error, and others for return codes of functions.
    Standardize on 'ret' for consistency reasons for now.

commit d6eb0c333c8424d151637c18e1a1aef849d5fb31
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 18 12:57:34 2012 +0100

    sr: Fix handling of virtual devices.
    
    I.e., handling of sessions which use input from files (not from actual
    logic analyzer hardware).

commit 21b50ee1831602bd6c1f223fb200e2c298885aa3
Merge: 9289e273b ecc16ed07
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Mar 16 00:04:51 2012 +0100

    Merge remote-tracking branch 'joel/public'

commit ecc16ed07052ef399c36d36456aa943fcf81190c
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Mar 14 22:56:15 2012 +0000

    fx2lafw: Upped NUM_SIMUL_TRANSFERS to 32

commit 9289e273bb6dfe9e8e46b5598830d4fb293175fc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 14 22:22:32 2012 +0100

    sr: session_driver: Naming consistency fixes.
    
    Use 'receive_data()', and 'cb_data' as all the other drivers do.

commit 455b26edba718bd2dd2a33cb713d0ab077b4fd32
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 14 22:09:52 2012 +0100

    sr: demo: s/struct databag/struct context/.

commit ab331b679c417282616efa7d05d456868fd42933
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 14 22:08:31 2012 +0100

    sr: demo: s/mydata/ctx/.

commit 4101f961e8a414ae17b16c0feb1e10fd07d08d52
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Mar 14 20:02:48 2012 +0100

    sr: s/SR_{USB,SERIAL}_INST/SR_INST_{USB,SERIAL}/.

commit 4502e869210005559d9f1a0e66f1e6954e6368c0
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Mar 12 21:49:34 2012 +0000

    fx2lafw: Added CWAV USBee SX to the device list

commit 0ca21631dda3d948f8a67de5d48a2198b1efa425
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Mar 12 21:38:25 2012 +0000

    fx2lafw: Corrected a comment

commit 93a9f3daaf7fb679660f44c67ffa0ea1171e67b1
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Mar 12 21:36:17 2012 +0000

    fx2lafw: Added Saleae Logic (and clones) to the device list

commit f8b07fc6c37cc40dbcc3c6bc607d6e3137b532e4
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Mar 12 21:31:43 2012 +0000

    fx2lafw: Moved firmware path into fx2lafw_profile

commit 4679d14db3fcc6e8990b916e0c175848af52f464
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Mar 12 21:06:45 2012 +0000

    fx2lafw: Made fx2lafw profiles const

commit 6ccfadaf667a615c00526a7fb9df0500f35cc0e3
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Mar 12 21:04:53 2012 +0000

    fx2lafw: Made string pointers constant

commit 17b6c75a899bb5fb2b8b841b60e3e9fb52ca3e30
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Mar 12 21:03:13 2012 +0000

    fx2lafw: Added ESLA201A to device list

commit 017375d17ebddce8f986568a476018593c8b5ffc
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Mar 11 19:00:52 2012 +0000

    fx2lafw: Send start command after bulk transfer have been set up

commit 13d0d2698c97a60cbb73423ffb78846347309c11
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Thu Mar 8 22:26:30 2012 -0800

    ols: fixed *ctx null dereferences that would SEGFAULT on probing for a OLS or attempting to read from it.
    
    Signed-off-by: Matt Ranostay <mranostay@gmail.com>

commit 9031ce63f3cee037ffc3e565cf324cafe38522f5
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Mar 4 18:02:44 2012 +0000

    fx2lafw: Corrected check_conf_profile checks

commit dba024420f934ff10f18eebbaad1f4e97c739259
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Mar 4 14:10:44 2012 +0000

    fx2lafw: Implemented control of sample rates

commit f92994fd9174bc423e58c21eda83633afc9513da
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Mar 4 14:10:05 2012 +0000

    fx2lafw: Ensure default sample rate is set

commit d98c4e35ce3187a8d4618a6c26ce35de636d7b91
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Mar 3 18:09:29 2012 +0000

    fx2lafw: Removed CMD_STOP and renumbered commands

commit 2e526f4a6a96bca01c81620ff820aa39e356977f
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Mar 3 15:22:51 2012 +0000

    fx2lafw: Moved num_samples into context struct

commit 266784d5947137040b4a72d0e00dc97c0c8b40ba
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Mar 3 15:18:19 2012 +0000

    saleae-logic: Moved num_samples into context struct

commit 19ccdf696c3b96459495fadbef56a6c607e87583
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Mar 3 14:57:57 2012 +0000

    fx2lafw: Removed CMD_SET_SAMPLERATE

commit f6582cd7bf62bc945ecadda09123fde6c3676107
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Thu Mar 1 20:34:20 2012 +0000

    fx2lafw: Implemented initial support for start capture

commit 3f8d59721634e1d69251078c254caef81effc62c
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Thu Mar 1 19:47:47 2012 +0000

    sr: Added device IDs for CWAV USBee AX to udev rules

commit 74fcfb806d5b66ae4372b982f7836be12328e664
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Thu Mar 1 19:45:08 2012 +0000

    fx2lafw: Devices now retain the same PID/VID after fw load

commit e318664793525543f7001371aee8cad79102266d
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Wed Feb 29 22:47:05 2012 +0000

    fx2lafw: Implemented SR_HWCAP_PROBECONFIG and SR_HWCAP_LIMIT_SAMPLES

commit c8f2c9dda4027fe723aabccb4265629c374afcd9
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Mar 4 14:34:16 2012 +0000

    fx2lafw: Fixed a compiler error, and made cv_data consistent with saleae-logic.c

commit 0abee5076fd7751bd77d0fee940d617a1a40ea34
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Mar 4 15:08:11 2012 +0100

    sr: Fix some TODOs, improve comments/docs.

commit b5118d6c013c4b5ae7ae146166750b3e392c4a14
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 3 14:13:21 2012 +0100

    sr/srd: s/handler/callback/.
    
    We should consistently use the same name for the same thing.

commit 3cd3a20b350ed1e86675aee067f60ac5a2f576b1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Mar 3 09:56:49 2012 +0100

    sr: More callback param renames.
    
    Start/stop acquisition callbacks: Consistently name the 'void *' parameter
    cb_data for now. The per-device-instance device pointer is called
    'session_dev_id' everywhere for now, but this should be renamed to
    something more clear.

commit 1f9813eb6cf2fa3b6511af46b19270feb9484c1e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 29 22:32:34 2012 +0100

    sr: Name all callback data 'cb_data'.

commit 31ccebc4925d245fed02545415ce3ee14055d897
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 29 22:08:45 2012 +0100

    sr: s/sr_session_bus/sr_session_send/.

commit d08490aabaa66b547c8299b757f62ff5319dbf0b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 29 21:56:24 2012 +0100

    sr/srd: Consistency fixes for callbacks.
    
     - Callback function pointer typedefs end with _t.
    
     - Variables holding callback functions are named 'cb' everywhere.

commit cfe064d8e74d86ab6a65779663ca1fb82e36260a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 29 19:56:15 2012 +0100

    sr/cli/gtk/qt: s/hw/driver/ in some places.

commit c496ac97a83aa33dd2add8074c454b7dc1b08fe6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 29 19:32:39 2012 +0100

    sr: sr_hw_has_hwcap(): More docs, error checks.

commit 2f8cf274094b945bc2e4d51fefb0408867b39cac
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 29 19:17:36 2012 +0100

    sr: s/sr_dev_probe_name/sr_dev_probe_name_set/.

commit 7b8ca864a00010d64172820bb82b30cb5f2d0009
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 29 19:11:09 2012 +0100

    sr: datastore: More error checks.

commit c30b417f719e20f9f1d29fd8fa72c24278af3a0c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 28 23:53:17 2012 +0100

    sr: Rename hwplugin.c to hwdriver.c.

commit c09f0b578c0e9c03590cb814f66004bb3f6815ff
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 28 23:52:30 2012 +0100

    sr/cli/gtk/qt/: s/plugin/driver/.

commit 2285cf9bc519edb88eccbe3bf2ddd6888e54cdf2
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 28 17:47:02 2012 +0100

    sr: code cleanup

commit d261dbbfcc7317f2fd9aa9c08473dc4a7b6b2b30
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 28 01:09:29 2012 +0100

    sr: Fix/document probe names.

commit 6c39d99a2809c0065b8bd547c426a08f42445e92
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 27 23:55:06 2012 +0100

    sr: fx2lafw: Consistent #include guard naming.

commit f9a69557d276ee27d551eb9ef68f2700324613b4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 27 23:53:44 2012 +0100

    sr: fx2lafw: Use gboolean consistenly.

commit 772a0e615397b63f5d5c9af1d25475e9e5dbe76b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 27 23:40:38 2012 +0100

    fx2lafw: Small consistency fixes.

commit be4b99e897827b46c396a8c83cee0ce1c19d3afe
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 27 23:26:05 2012 +0100

    fx2lafw: Compile fix.

commit 5da939028db118a2e1445184b8d8406ecdcc9850
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Feb 27 19:34:24 2012 +0000

    fx2lafw: Implemented hw_dev_acquisition_stop

commit 610dbb70914da9be34d9ac3f0c90a50356275277
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Feb 27 19:32:58 2012 +0000

    fx2lafw: Implemented hw_dev_acquisition_start

commit 7cb621d418281f64144048e6257055b1b25b5da9
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Feb 27 19:21:08 2012 +0000

    fx2lafw: Basic implementation of hw_dev_config_set with SR_HWCAP_LIMIT_SAMPLES

commit 62bc70e412e073580576fe8fda7c7bc7c9e2e30e
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Feb 27 19:02:52 2012 +0000

    fx2lafw: Added more to hw_cleanup

commit f1898235e85c884cca985e797848930a6b52139a
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Feb 27 19:00:22 2012 +0000

    fx2lafw: Implemented hw_dev_close

commit 43125c69937d1599985c281de956f630c00525d6
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Feb 26 12:39:40 2012 +0000

    fx2lafw: Implemented hw_dev_open

commit 7f6a3b43ad9e26a2928672927960bcc02a2c7510
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sun Feb 26 12:18:05 2012 +0000

    sr: Moved GTV_TO_MSEC to sigrok-internal.h

commit b1eeb67e926ddaddc11e8a509692fdcaf3e2226e
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Feb 25 11:58:55 2012 +0000

    fx2lafw: Implemented firmware upload

commit cdfdd71101b04f13663b19b0ceffcdf63628dc36
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Feb 27 19:42:08 2012 +0000

    fx2lafw: Renamed fx2lafw_dev to ctx in hw_dev_info_get

commit 90282c82bce6cb108be2123d2393ce058c7aefdd
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Feb 27 19:41:10 2012 +0000

    fx2lafw: Renamed fx2lafw_dev to ctx in hw_init

commit cac0bbaafd0813bfdbfef1c7e235c5c886618354
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Mon Feb 27 20:50:00 2012 +0000

    fx2lafw: Renamed dev_insts variable in hw_init

commit c69e35a7147ca0c1554c8ba13a9210fafb6f9796
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 27 22:27:33 2012 +0100

    sr: sr_samplerate_string: Allow 3.15Hz etc. as output.
    
    This is required for some hardware, e.g. ChronoVu LA8, where
    33.333333 MHz or 2.439024 MHz are valid samplerates. This is because the
    hardware takes a sampleperiod (in nanoseconds) as input, not a
    samplerate (in Hz).

commit aae2fed675fc63aae58569a03c71201dc449344b
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Feb 11 17:41:22 2012 +0000

    fx2lafw: Implemented hw_get_status

commit 8b35f474832e486116d72a76657fc75e95d4db3c
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Feb 11 17:39:39 2012 +0000

    fx2lafw: Exposed capabilities data

commit 187b358232aa90de8ee12df915506f839a98f2ad
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Feb 11 16:08:47 2012 +0000

    fx2lafw: Added probing for fx2lafw devices

commit f302a082567d10f90cd20fca5a7abd68d7267d96
Author: Joel Holdsworth <joel@airwebreathe.org.uk>
Date:   Sat Feb 11 12:08:49 2012 +0000

    fx2lafw: Added empty hardware module for fx2lafw

commit 04254c3f833fd048668507fcd925b290c55664d6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Feb 23 21:54:07 2012 +0100

    sr: la8: Improve comments and messages a bit.

commit 050e9219d6bca0d6f986dca07fc2c501295c5bde
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 22 21:48:30 2012 +0100

    sr: No need for dynamic hardware driver registration.
    
    We don't need or allow run-time registration of hardware
    drivers/plugins, they're added at compile-time.

commit 47671b0f26cc6b3e7cf16257f458eadefe623d9f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 22 19:53:27 2012 +0100

    sr: la8: Remove some unneeded checks.

commit ea9cfed7a55260ab97f57150b57c42a28c3a85a7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 18:07:42 2012 +0100

    sr: Consistent ctx name for per-dev-inst context.

commit 6b3dfec8dee898726b7b606cdd230bf8bd73bcbc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 12:17:56 2012 +0100

    sr: Fix incorrectly renamed functions.

commit ee61b340da0bf4f0eb728c375459388c6a7bfd84
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 12:16:49 2012 +0100

    sr: Remove unneeded temp. variable use.

commit a9a245b428cb9645d73044f6741818d2499efefc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 12:11:15 2012 +0100

    sr: s/config_set/dev_config_set/.
    
    This functions is per-device-instance, so use dev_ as prefix as with
    the other ones.

commit 69040b7c8ff82aef2ad712b7881492d0fa4c86a8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 12:03:49 2012 +0100

    sr: s/acquisition_*/dev_acquisition_*/.
    
    These functions are per-device-instance, so use dev_ as prefix as with
    the other ones.

commit e7eb703fff0167897f7e094e2edbf7d5798857ea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 11:57:43 2012 +0100

    sr: opendev/closedev -> dev_open/dev_close.

commit 8105505d064ca8cc32799c119c5526fb337a5660
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 11:46:51 2012 +0100

    sr: s/st*_acquisition/acquisition_st*/.

commit 5097b0d0912165429aceddb5febbf68467b623f5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 11:41:21 2012 +0100

    sr/cli/gtk/qt: s/get_dev_info/dev_info_get/.

commit a7d05fcb388f142012035a0ed31bcf74d42bbe73
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 00:31:35 2012 +0100

    sr/cli/gtk/qt: s/configuration/config/.

commit ffedd0bf5d3abb1eae86db68e336285eddf41778
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 18 00:17:18 2012 +0100

    sr/cli/gtk: s/capability/hwcap/.

commit 1d9a8a5fe1458d4b1ecd250161a7962988359350
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 17 23:55:27 2012 +0100

    sr/cli/gtk: A few more s/instance/inst/.

commit bb7ef79377ae617e1275373e0b631beb7f909d73
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 17 22:25:01 2012 +0100

    sr/cli/gtk/qt: s/device/dev/ in many places.
    
    Also, a few s/instance/inst/ occurences.

commit d68e2d1a21ac5c3f24d88b7689f98764e4d57c30
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 17 21:02:52 2012 +0100

    sr: Some more s/device_instance/dev_inst/.

commit 44dae539254e324e0330e194f9c775be3d761503
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 17 20:44:19 2012 +0100

    sr: Random cosmetics, fix/amend Doxygen comments.

commit 7b48d6e104fd461b0c12519b70dbd1c6c72824e1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 17 19:40:01 2012 +0100

    sr: Prefix log messages with subsystem string.

commit 93a04e3be9cdaa276d9e7fe14da053483b567b74
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Feb 15 03:18:48 2012 +0100

    sr: rename all sr_hwplugin(s)_* functions to sr_hw_*

commit 9fc6aa0a566d093b36cdbdad46e0cbdc116ff538
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 14 13:18:17 2012 +0100

    sr: la8: remove debug output when no device is found

commit 341ce41545cab2bda88230c8434f36c64eadd8a1
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 14 12:26:22 2012 +0100

    sr: don't free driver-specific per-device struct in drivers
    
    sr_dev_inst_free() takes care of that.

commit da1466d677afadcb17b12ebc1223ab0bdafe21db
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 14 00:23:51 2012 +0100

    sr: rename more functions to sr_thing_action format
    
    Also improved the interface to find capabilities in a hardware plugin.

commit d3683c42e74fa61c21fc0f1bf360ae201fc4b1d1
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 13 15:31:59 2012 +0100

    sr: rename all sr_device_instance_* functions to sr_dev_inst_*

commit c532476aa7b9a4afb1f32d5b634348d3e825d6bb
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 13 15:23:16 2012 +0100

    sr: rename hwplugin functions to sr_thing_action format

commit e0c25ac99c64f024e30d84c96e3ec48b44fda8d5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 13 19:49:09 2012 +0100

    sr: Add missing #include, fixes warning.

commit 57ab7d9f925c0f93ec711c4e6914881e5ff5dfd9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 12 20:52:42 2012 +0100

    sr: cleanup callback: Return int.

commit 3010f21c9170e9f235d49bc7b333d17677c70e5c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 12 13:31:58 2012 +0100

    sr: stop_acquisition callback: Return int.

commit c73d2ea421c2b425c3f0ae33bce2bfd0c448ca5f
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 13 14:31:51 2012 +0100

    sr: adjust copyright year

commit 031685005b022b98b5b1604cc6226c0cc2b959f8
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 13 14:00:47 2012 +0100

    sr: rename all sr_device_* functions to sr_dev_*

commit a1645fcd81ed4be71d29380218acb078789a6268
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 13 03:36:32 2012 +0100

    sr: more API cleanup and documentation

commit b2ff95063a845ec7130d97fc3d8e9c65fe45f902
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 13 02:16:32 2012 +0100

    sr: whitespace cleanup

commit 996b0c7234c5cc420181b57370f6ba264aee24d2
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 13 02:13:51 2012 +0100

    sr: clean up public/private split in headers

commit 18beaeff948f5730e1ffbc1a50e8b86c7673f084
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 13 00:08:23 2012 +0100

    sr: cleaned up session bus debug helper

commit bb08ee2e534a7fca22cff2f8d963d64441b6d65a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Feb 12 23:57:43 2012 +0100

    sr: public/private API cleanup in hwplugin

commit 6cfa474a809a56e1ea59f7356570a9fb4b6f2a3e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Feb 12 22:36:19 2012 +0100

    sr: rm unused sr_device_clear() and sr_device_probe_clear()

commit 040ae8be943b499b5e786e4861ed1109ae4ebcce
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Feb 12 20:43:20 2012 +0100

    sr: sigrok.h is no longer generated

commit 133a37bfba1a7e1423716b2b872d3bb82a2e64d9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 11 20:06:46 2012 +0100

    Use g_try_malloc/g_free/g_strdup consistently.
    
    Avoid plain malloc()/free() in sr/srd, especially in the API calls.
    Also avoid g_malloc*() in favor of g_try_malloc*().
    
    Use g_strdup() instead of strdup() so that we can use g_free()
    consistently everywhere.
    
    Exceptions: Stuff that is allocated via other libs (not using glib),
    should also be properly free'd using the respective free-ing function
    (instead of g_free()). Examples: Stuff allocated by libusb, libftdi, etc.
    
    Also, use sr_err() instead of sr_warn() for actual errors. sr_warn() is
    meant for non-fatal/uncritical warnings.

commit cd853ff0b2b0ad2643d65e73159661e1a3c6bc66
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 11 00:39:25 2012 +0100

    sr: chronovu-la8: Add missing <stdlib.h> #include.

commit 8c4b60039390eac40fe24c191e89edfd39eac8b8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 11 00:38:48 2012 +0100

    sr: asix: Change a free() to g_free() as it should be.
    
    This also fixes a compiler warning (on FreeBSD at least).

commit 44b6aafdb748d961547bb80d5b0a0511f35d9702
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 11 00:34:16 2012 +0100

    sr: FreeBSD has zlib, but no pkg-config file for it.

commit bf3f06c9c2a73b7c30862daab1e2731768ba6abc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 11 00:20:23 2012 +0100

    sr: MinGW/Mac: No libusb_detach_kernel_driver() support.

commit 12f3e8741b5ae651569ca65b94f22a4dc154da7a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 8 22:08:55 2012 +0100

    sr: Doxygen comments for loglevels.

commit 0ae67ff784db96268d4dae4b7ac896a78828746d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 8 22:04:13 2012 +0100

    sr: Implement proper logging framework.
    
    This is pretty much identical to the current libsigrokdecode API/framework.

commit d38cd6c1f6f3f23b2f659be2d189f56c7592b805
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 7 23:50:47 2012 +0100

    sr: saleae: Fix typo.

commit 003f9bebf9f97225b08383573544c1ece7239aea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 7 23:49:51 2012 +0100

    sr: saleae: Support more recent firmwares.

commit c32cc2504b471deab0f511037f843234c726c461
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 6 23:50:22 2012 +0100

    sr: udev file: Add QuantAsylum QA100, Rigol VS5202D.

commit 657832184893c8a5e3b28ebf71109956a4a57246
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Feb 6 22:46:22 2012 +0100

    sr: s/z60_sigrok.rules/z60_libsigrok.rules/.

commit 7c1d391c8b33bf76f7c6617fe9d5174e16a04f95
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 4 10:56:51 2012 +0100

    sr: input/output: Mark more symbols with SR_PRIV.

commit 0f8522bf74af8abfe8601e978b2e0d0e40b1a124
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 4 10:41:30 2012 +0100

    Project-wide consistent naming for #include guards.
    
    Document the naming scheme in HACKING.

commit 5c64390e5ac8a0052d8b7eeb49c781d86027c814
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 4 10:10:43 2012 +0100

    sr/cli/gtk: Remove analog left-overs from API.
    
    This will come back in some form or another later, but for now
    don't clutter the API with non-working stuff. Removing stuff from APIs
    is not possible without breaking the API, adding stuff later is simpler.

commit e7ee300a12391640ff499eaa4d54089fe7e825f2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 5 13:37:02 2012 +0100

    sr: zeroplus: Drop unused global variable.

commit 3d2efd7d15f1e35b4080c4632dd94376ae824fa2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 5 13:36:03 2012 +0100

    sr: Compile fix for Windows/MinGW.

commit dff75c0df1be07db2e63ef242e843c925779bddb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 5 12:54:44 2012 +0100

    autogen.sh: aclocal support for Windows XP/Vista/7.

commit ca070ed9a0237e5cea10e5dd974e06da62de890d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Feb 2 21:15:04 2012 +0100

    sr: Make more symbols private via static/SR_PRIV.
    
    Additional zeroplus fixes:
    
     - Remove unneeded function prototypes from .h files.
    
     - Remove unused variables and/or use standard libusb #defines instead.
    
     - Remove unused GL_* error code #defines.

commit 185ae2c5c9ada0353b43e3736e838bbc8e370cb4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Feb 2 21:08:33 2012 +0100

    sr: zeroplus: Remove unused gl_open()/gl_close().
    
    Merge the missing function calls into zeroplus.c's init functions.

commit 1a081ca67d63a0bd933a3d715792d85afd437296
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 1 23:40:35 2012 +0100

    sr: Mark API functions with SR_API/SR_PRIV.
    
    Use SR_API to mark public API symbols, and SR_PRIV for private symbols.
    
    Variables and functions marked 'static' are private already and don't
    need SR_PRIV. However, functions which are not static (because they need
    to be used in other libsigrok-internal files) but are also not meant to
    be part of the public libsigrok API, must use SR_PRIV.
    
    This uses the 'visibility' feature of gcc (requires gcc >= 4.0).
    
    Details: http://gcc.gnu.org/wiki/Visibility

commit 0146970797e809555b2feea9fdbc3933f9e24e8b
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Feb 1 02:59:41 2012 +0100

    sr: remove unused time/duration fields from datafeed packets

commit 69890f7399f086c38670961dc72166f00de89af6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 29 23:06:10 2012 +0100

    sr: Eliminate usb/serial instances from API.
    
    The API should be generic and only provide sr_device_instance_new() and
    friends, but not sr_usb_device_instance_new(), sr_serial_device_instance_new(),
    or others for other device types we may have in the future. The
    frontends shouldn't have to know or care about this implementation detail.
    
    This also fixes the problem that parts of sigrok.h contained
    '#ifdef HAVE_LIBUSB_1_0' and such, which is even less desirable for the API.
    
    The usb/serial instance specifics are now private, and each driver that
    needs them keeps a pointer in its driver-specific context.

commit c31e9ef49b84b61a353168956882140e2b5a93bb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 31 01:54:08 2012 +0100

    sr: zp: Add missing <string.h> #include.

commit fd9836bfab434ed227b685d184e266d3cbc4f6c8
Author: Anatoly Sokolov <aesok@post.ru>
Date:   Sun Jan 29 16:56:06 2012 +0400

    Add sr_device_get_info

commit bf43ea2317d35a3bc774a9c7e1cf6ff9b6204736
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 29 19:14:25 2012 +0100

    sr: zeroplus: Use device-specific context.
    
    Make the zeroplus driver use a "struct zp" with per-device-instance
    data (such as samplerate, trigger settings, and so on), like the other
    drivers do.
    
    Also, add a few more error checks.

commit ae32d7d759f5722f9d82a2da8ec4bbdebcfd029b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 29 12:47:53 2012 +0100

    sr: la8: Fix typo.

commit 73017cf914b014ff3366de981035ca23ac72a0be
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 28 23:29:28 2012 +0100

    sr: zeroplus: Fix a segfault.

commit ef7228ba49ddaced0f1972a4788ff2fdb8dcd57d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 28 21:26:56 2012 +0100

    Update/enforce/document our build requirements.

commit fb93625d1afbe0bc2648b550102c100949066fbd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 28 19:42:04 2012 +0100

    sr: sigrok.h.in: Set SR_HWCAP_DUMMY to 0 explicitly.

commit 660ef7d730969a401b3d64dc624138567dbbdb7a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 28 19:40:05 2012 +0100

    sr: sigrok.h.in: Drop obsolete 'GSList *analyzers'.

commit a4cfb10f7fcb5dd5c7df403bff0787bb6b1c1949
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 28 19:23:09 2012 +0100

    sr: Drop analog left-overs from sigrok.h.
    
    For now, there's no analog/scope support in sigrok yet (will be added
    later), so remove any such items from the public API (sigrok.h).
    
    Having '#if defined(HAVE_LA_ALSA)' in sigrok.h is a bug anyway, the API
    must not have anything device-dependent in general, and sigrok.h
    specifically must not have any #ifdefs for specific hardware.

commit a141db8c4acb98c01dbc0a73f82111ee56f1050a
Author: Anatoly Sokolov <aesok@post.ru>
Date:   Sat Jan 21 18:34:11 2012 +0400

    add SR_HWCAP_DEMO_DEVICE capability

commit f020a99773d1431ee58090e9515dc19b10e7463f
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Thu Jan 12 11:50:50 2012 +0000

    link-mso19: Fixed led toggling (the bit masking was not being proprly done).

commit e084a8042ea0bccb306e39725de73546138e1adf
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Wed Jan 18 16:03:39 2012 +0000

    link-mso19: Prevent double free errors when freeing sdi->priv.

commit 357285a944b514bb4498f16b6318829516e33e1a
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Wed Jan 18 12:09:36 2012 +0000

    link-mso19: Add debug messages.

commit a29360733d32e8479147178774d6a72e62f4e56c
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Tue Jan 17 13:41:38 2012 +0000

    link-mso19: Properly initialize the protocol trigger block

commit a84671913ef320d10607f9c8aabaf6bc3563099b
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Tue Jan 17 13:16:41 2012 +0000

    link-mso19: Added new register definitions and renamed variables to reflect new findings.

commit 80aa5f23d1225776a7db0fc6faa763bb5c141dcf
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Sat Jan 14 12:46:27 2012 +0000

    link-mso19: Added struct definitions for the pattern generator config and the protocol trigger config.

commit 66410a8617185da7abf4ca21da99e934b22351bb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 19 00:32:02 2012 +0100

    sr: g_free()/g_string_free() can handle NULL input.

commit af1c793dfe27b622a48dd213c4d42bc012e81965
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 15 23:14:45 2012 +0100

    clean up some dead code

commit 8f81fe87287eba2113c3db9d2f894314b70afd19
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 10 22:16:41 2012 +0100

    sr: s/g_message/sr_dbg/.
    
    libsigrok should only use sr_*() for debug output.

commit 8c76be539e8098c08f69f56053077211001ed52b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 8 22:05:00 2012 +0100

    clean up drivers at the end of a session, and fix session file init.

commit e0508e67998b6b2b5cdd65b4b094b50c07386385
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 7 17:08:54 2012 +0100

    sr: session: Make most functions return int.
    
    This allows us to return error codes etc.
    
    Add a little more error handling.

commit b3b21462914d6ed89c85f3da27d46744b863f800
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 7 14:15:10 2012 +0100

    More .gitignore files cleanup.

commit db4b455beeeb4ad632b4e394402b83a4305a40fc
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 7 02:13:05 2012 +0100

    remove obsolete libsigrokdecode struct

commit 8ff6afc95d2a9213b8a583e88e9e1b4eb59aad17
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 6 16:20:28 2012 +0100

    sr: Consistently use 512kB as default chunk size.

commit 1190dcf713a458d99c612f8f41c2d28e666aabfb
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Fri Jan 6 11:07:37 2012 +0000

    Added "autostuff" to the .gitignore.

commit 446a037205a7488b424bde90d1b633f00640ef12
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Fri Jan 6 00:04:29 2012 +0000

    session: Fixed error reporting.

commit 42eb54fb62b84adb5aaa4bf9144752e46ade54ea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 6 01:05:55 2012 +0100

    mso-19: Fix whitespace.

commit d88b9393241e250590333326a4f8d19b53b4bdc6
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Thu Jan 5 23:37:54 2012 +0000

    link-mso19: fixed segmentation fault.

commit e42ef08dba163e8c9ef933347732d9e8c58ab399
Author: Renato Caldas <rmsc@fe.up.pt>
Date:   Thu Jan 5 19:42:06 2012 +0000

    link-mso19: Updated to the current structs (fixed compilation).

commit 0c8dc7b4160c47a21925e22da7c1be73e4c3a39a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 4 16:45:53 2012 +0100

    udev: Add missing USB IDs for some devices.

commit 8e43129c10669d767d7eb17e786f38b70d799e60
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 4 15:26:41 2012 +0100

    A few more fixes for configure.ac files.
    
    Add missing checks and quotes, remove superfluous checks, etc.

commit dd8b5f565f60d536104b30bee8aadf4ea333aa7c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 4 02:50:26 2012 +0100

    sr/srd: Add Doxyfile to the tarball.

commit 4abf8dd0a540db8c8f5af5e6bd78c6eb7b473d9f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 4 02:41:33 2012 +0100

    srd: Show config summary, libs, and Python info.

commit 45aed0721c687a29bb394bff10cc129dab0f11c2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 4 00:49:21 2012 +0100

    sr: configure.ac: Print more summary info.
    
     - Package version (major.minor.micro)
    
     - Library version (current:revision:age)
    
     - Installation prefix (usually /usr/local)
    
     - Detected libraries and their versions (only for pkg-config libs)

commit 3af71f0da646de1e61ccbed2e85e3fca9798565c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 4 00:05:43 2012 +0100

    sr: configure.ac: Fix version number magic.

commit d8521c939f19b08cb991df7d0731fa358381d61c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 3 21:55:48 2012 +0100

    Put most autotools files into autostuff/.
    
    This yields a slightly more "tidy" top-level directory.

commit 8e190238d7b33ebb9f1baa2a28a37ffd041f7334
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 3 20:06:36 2012 +0100

    sr: Put files into .../share/libsigrok.

commit 0da5b6a9f5a119ab485ed3dba08aeb4a3ad2c8f4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 3 20:01:02 2012 +0100

    sr: Remove useless filename prefixes.

commit cd315a80d87a24a19a7846497d74c5ca85d494a0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 3 19:56:01 2012 +0100

    sr/srd: Fix left-over #includes.
    
    The libs themselves should use #include "sigrok.h" etc., while the
    frontends must use #include <sigrok.h> and so on.

commit 3b7c8f54fcf4c6de1ec67d11a9ec8975a2ddbb57
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 2 14:25:52 2012 +0100

    sr: Drop some obsolete and commented out code.

commit 9f45fb3aea9aa628ec2323bac8f2c354f5f3983c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 2 14:15:25 2012 +0100

    sr: session: Add docs and some error checks.

commit 13177edbdf23200001fcc141f61419beb93962b6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 30 22:38:25 2011 +0100

    Split README, add appropriate ones per-project.

commit f928befdadd7b9a50ded5fe730a0aeec06b1ed09
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 30 22:12:37 2011 +0100

    Update/fix .gitignore files.

commit db8ae7b941a31b2bc64e14d60a1e962fd2b2dc38
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 30 10:50:00 2011 +0100

    sr/srd: Remove/fix non-applicable autotools stuff.

commit 826938d81e2e5bf592fbed82523081fcb7fdf85e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 30 10:42:39 2011 +0100

    sr/srd: Move some files to their resp. dirs.

commit 5e59cfbfc736aab9e79caef4ab6bdcbc500e254f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 29 13:05:24 2011 +0100

    Move most contrib/ stuff to libsigrok.
    
    The udev rules file is libsigrok-specific, the gnuplot files too.
    
    The nsis files stay in the top-level contrib/ for now, they're not
    really part of any of the (sub-)projects, but rather are used to create
    a single Windows .exe installer for all of them.

commit c37d2b1ba12b62d63590509879bf58adf842896d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 29 19:50:14 2011 +0100

    probe names: Fix cosmetics, add docs, fix off-by-one.

commit 464d12c72aa8d83acccccbbc0bc755fbb9d542c0
Author: Kristoffer Sjöberg <ksjoberg@q1.se>
Date:   Thu Dec 29 17:04:31 2011 +0100

    Move the probe naming to the creator of the device, and let each driver name its own probes.

commit 2d83e0f963b39104ba065c61ef22456adcf15a8d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 28 23:11:52 2011 +0100

    Fix outdated ezusb_install_firmware() prototype.

commit b7f09cf86dd57a59dc1bdece2cac9e4a176900b1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 28 23:07:08 2011 +0100

    libsigrok: Fix #includes.
    
    In the lib, we should only #include "sigrok.h" or "sigrok-internal.h",
    but not the (possibly installed and thus different/older versions) via
    <sigrok.h> or <sigrok-internal.h>.
    
    Frontends should of course use <sigrok.h> and <sigrok-internal.h>.

commit a0ecd83bc6e07ea412db5cd0108d50d89e36df8f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 28 22:55:21 2011 +0100

    Make more variables/functions static and non-global.
    
    The 'GSList *devices' from device.c was actually really global (i.e.,
    listed in sigrok.h), which is now fixed.

commit c5d660ae244babd4afc7863ba23f66d31af6e29e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 28 21:38:56 2011 +0100

    Drop unused 'global' struct/variable.
    
    The libs shouldn't have any (externally visible) globals anyway.

commit 155d1012f138fa94980c33a0e42b50ca0922ddce
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 28 21:37:37 2011 +0100

    sigrok-proto.h: Drop obsolete prototype, move other one.

commit 08d4cc1d146478aa9f6032fc65142293df822726
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 28 21:34:37 2011 +0100

    device: Make some parameters const.

commit 0e3b143994797cd4685526b9a739089fe83385cf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 28 17:16:33 2011 +0100

    device: Change some functions to return int.
    
    The callers of these functions are yet to be changed so that they
    actually check the return values and handle errors appropriately.

commit 94799bc4dc6ab1ba64cdb7f0fb350d63d4fcee66
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Dec 28 16:19:15 2011 +0100

    device: Add Doxygen comments, improve error handling.
    
     - Add Doxygen comments for all functions (some TODOs remain).
    
     - Check return code of more functions, handle invalid input.

commit cb1e389c72ead8cf6eb440f3194f5056d86069ec
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Dec 15 03:31:31 2011 +0100

    make time/duration work, at least when loading from a session file
    
    PD decode() call now takes 3 arguments: timeoffset, duration, data
    as per the current API specification.

commit 15278f3e9cf4c4a4a6c331e042f9935709343c82
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 25 19:59:15 2011 +0100

    datastore.c: Improve error handling and docs.
    
     - Add Doxygen comments for all functions (some TODOs remain).
    
     - Check for invalid input parameters (such as NULL pointers etc).
    
     - Return SR_ERR_ARG upon invalid input parameters.
    
     - Make sr_datastore_put() return int instead of void, so we can pass
       an error code (SR_OK, SR_ERR_MALLOC, and so on) to the caller.

commit 7a6ec0c376cec9e41a12a876edea34fecaf5c2aa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Dec 23 15:26:54 2011 +0100

    sr_filter_probes(): Check for too many probes.
    
    Return SR_ERR_ARG if the number of enabled probes is higher than the
    requested unit size supports.

commit 488a13b110d3563194dd63e087e295a4aa114002
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Dec 22 14:10:16 2011 +0100

    Improve sr_filter_probes error handling and docs.
    
     - Much more elaborate doxygen comments for the function and its
       parameters, allowed input values, and so on.
    
     - Make 'probelist' const, the function doesn't modify it.
    
     - Check for invalid inputs such as NULL pointers.
    
     - Use g_try_malloc() and g_free() for the output buffer. Document who
       is expected to g_free() the buffer.

commit 25a605d187e9661757a1e5d4bd15fac2b533c296
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Dec 4 18:33:29 2011 +0100

    libsigrok: Quickfix for a segfault in ChronoVu LA8.

commit 276585ff209d02ea058f09820881ed536e48e3bb
Author: Gareth McMullin <gareth@blacksphere.co.nz>
Date:   Mon Nov 28 21:52:35 2011 +1300

    srd: Pass samplerate to decoder in metadata.

commit f64c14141b0c90fa78cacbc502dd2a41239376fd
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 27 19:31:25 2011 +0100

    fix CLI size string specification
    
    accept "hz" as optional qualifier but nothing else
    properly return an error instead of quietly returning zero size

commit cb93f8a927e6fb2cb1d89176766c5c9c398db5c3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Nov 24 22:57:48 2011 +0100

    Other method to avoid "unused var" compiler warnings.
    
    The '(void)varname' method is nicer than 'varname = varname' and also
    prevents warnings when compiling sigrok with clang instead of gcc.

commit cc8a7d250cf7daff452ce376224c9853529204ca
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Nov 24 22:42:02 2011 +0100

    Add missing #includes to avoid clang warnings.

commit e7bad06355ea218d83e6df1d1137e67a58513b35
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Nov 20 03:16:33 2011 +0100

    la8: device not found during init() scan is not an error
    
    fix some hardware plugin semantics

commit e48846b1d211ce88e5ad427c034e0a2fb43bbe37
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Nov 19 16:19:24 2011 +0100

    libsigrok: glib-2.0 is a hard requirement.

commit 4d436e71ba6059b217a3d90775033e850944ad42
Author: Gareth McMullin <gareth@blacksphere.co.nz>
Date:   Sat Nov 19 13:41:41 2011 +1300

    Changed SR_T_NULL to SR_T_BOOL and adjusted RLE option.

commit 6bb5c5fadfe011ae7797138fb9e9ade32edb0caf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Nov 17 23:00:33 2011 +0100

    Consistently use __func__ instead of __FUNCTION__.
    
    The __func__ form is standardized and more portable.

commit a562c3a2e5e54dbb7e0553422ac0e0c845b180ad
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Nov 17 22:54:17 2011 +0100

    libsigrok: Use sr_err() et al instead of printf.

commit 805e9640ff4a28dc470afb0b4f3b02aece44179b
Author: Gareth McMullin <gareth@blacksphere.co.nz>
Date:   Thu Nov 17 21:18:46 2011 +1300

    Fixed a crash when loading a second session file.

commit 48ca6b54b0a5e7b0cd5f34fa4066523a1a3cc3a3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 15 22:46:57 2011 +0100

    sigrok.h: Remove SIGROK_*VERSION #defines again.
    
    These version numbers represent the sigrok version (i.e., the version
    of the tarball, such as "sigrok-0.2.0.tar.gz"), but _not_ the libsigrok
    (libtool) library/API/ABI versions. Thus, they should not be in
    libsigrok's include file (sigrok.h).

commit 719c5a934c7705466a449854b876b9962eb4cb5e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 15 21:05:40 2011 +0100

    Fix some compiler warnings.

commit 300007323ec5963e211b75d2e0d957721dea35fa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Nov 15 01:11:27 2011 +0100

    libsigrok.pc: Add Required.private field entries.
    
    The "Required.private:" field in pkg-config .pc files is used for
    declaring that we need the listed libs (pkg-config packages) for
    static linking, but not for dynamic linking.
    I.e., the "Required.private:" field should be used for libs which we
    use internally in libsigrok, but which we do not "expose" ourselves.
    
    For now all libs are listed as "Required.private:" instead of
    "Required:", but this may not be entirely correct and needs to be
    checked carefully at some later date.

commit 5c582d9f61fa7dad2a5cf07e1f464b6b6ffb1e28
Author: Gareth McMullin <gareth@blacksphere.co.nz>
Date:   Sun Nov 6 11:44:25 2011 +1300

    Remove IO source if callback returns FALSE.

commit 52f28f821f8923f52fce5b76909c00015231e299
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 29 19:27:32 2011 +0200

    sigrok.h: Add SIGROK_{MAJOR,MINOR,MICRO,}_VERSION #defines.

commit 7583b99dbb2310ce2e34fd435c42634dec940ad6
Author: Gareth McMullin <gareth@blacksphere.co.nz>
Date:   Sun Oct 30 14:25:24 2011 +1300

    OLS: Calculate actual sample rate used.

commit baf1d71477ea5c1dea449bc9ce72b39d02751934
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Oct 30 02:10:32 2011 +0200

    ols: Minor whitespace and coding style fixes.

commit 3a4d09c0de68c3ae9f287d243967431b8e3de0b7
Author: Gareth McMullin <gareth@blacksphere.co.nz>
Date:   Sat Oct 29 15:57:17 2011 +1300

    Run-Length Encoding support for the OLS.

commit 221304219ef861c14a44017eb025631bbd2fa05c
Author: Gareth McMullin <gareth@blacksphere.co.nz>
Date:   Sat Oct 29 15:21:16 2011 +1300

    Prevent reading past end of OLS hardware buffer.

commit 9a751023136a058dadf008a4ff983351947cc0df
Author: Jerry <jerry@xor-gate.org>
Date:   Mon Jun 20 23:43:44 2011 +0200

    Mac OS X build fixes

commit a634574eae69c9e712d5dbec8b97809840876c5f
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jun 20 11:43:34 2011 +0200

    saleae-logic: fix timing on packets when triggering is used

commit 7d2afd6c954e4b1507b494c5c0d469c2ecf59cb2
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jun 20 11:42:43 2011 +0200

    better session bus logging

commit 9c939c5132d82575cc1ce8f8fef5b6c4289aec5b
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 19 14:28:50 2011 +0200

    use new datafeed packet format

commit 38ab3ee79db2a08dd1f01fff08b7474093a48ce5
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 19 02:35:23 2011 +0200

    new datafeed packet format
    
    struct sr_datafeed_packet now has timeoffset and duration fields,
    expressed in picoseconds (1/10^12 seconds)
    length and unitsize are now in a separate struct sr_datafeed_logic

commit 60eb1eb5820be30671729c08b371b0ab3c14c860
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 19 00:55:36 2011 +0200

    fix parameter type

commit 8e49cebd10a1f34e9d5cdafeebc4c59a5c3c563c
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 12 18:07:15 2011 +0200

    whitespace

commit 6d754b6d3a8f843cd5254617674f484cac9b12db
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 12 18:04:19 2011 +0200

    support for multiple FX2 devices

commit e53c830f33d08633db4eb560f08d2518ff26ad9e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jun 5 02:08:08 2011 +0200

    saleae-logic: use new logging system

commit e10d6e32e4d8766e12b752da6d1806944b0ee85e
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jun 4 23:20:00 2011 +0200

    saleae-logic: support for other FX2 devices (bare FX2)
    
    This enables support for devices that have a different VID/PID
    than the Saleae Logic, and yet another after firmware upload.
    
    After firmware upload is checked every 100ms whether it came back,
    instead of always waiting for 2 seconds.
    
    If the kernel attaches a driver to a device we know, detact it first.

commit 8722c31e26ecebfc75035a566d4d72d07761ef14
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Apr 4 05:13:29 2011 +0200

    better cleanup of device/plugin resources

commit 896a19fd65790093b60ece2d1bdd36caba74eaf8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon May 9 00:59:41 2011 +0200

    LA8: Remove trailing whitespace.

commit d1175d5f7e184dff420038a801113f1d3c8a6ee8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon May 9 00:54:59 2011 +0200

    LA8: Use sr_spew() where appropriate.

commit f36cbf60cbd43be46ede083265549068db21f4b6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon May 9 00:52:55 2011 +0200

    LA8: Improve trigger support and debug output.

commit 06dd80d424a511736e0c61492bd618a5c3e65cff
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 8 20:26:22 2011 +0200

    Add sr_spew/SR_LOG_SPEW for even more debug output.
    
    This is meant for really extensive debug output which can slow down
    operation significantly and should thus only be enabled if really needed.

commit a76983fd207554de93adabfd33d2abf8d0f3662a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 8 20:20:26 2011 +0200

    LA8: Eliminate magic numbers.

commit 4d7b525ae9c0a85097280e77b9c158e9c4c8c6e5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 8 20:09:22 2011 +0200

    LA8: Add trigger point support.
    
    Report trigger point/position via SR_DF_TRIGGER packet.

commit 5a9660dd4e4977b9c3a86fe895e0b714e64a44a1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 6 20:38:48 2011 +0200

    demo: Use memset(), might be faster.

commit c03ed397330b031fa5f63a5dd548e05c2c2d6923
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 6 20:34:12 2011 +0200

    demo: Add all-low/all-high pattern support.
    
    Also, improve error handling a bit.

commit c8f4624d9b265f63bc880df28bd9b1a7e29f1488
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 5 13:02:48 2011 +0200

    demo: s/genmode/pattern/.

commit 0d31276b05643407ba4a4a9e3f0f95e259c8baa2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 4 22:37:12 2011 +0200

    demo: Rename GENMODE_DEFAULT to GENMODE_SIGROK.
    
    Also, add (Doxygen) comments for the currently supported patterns that
    the demo device/driver can generate.

commit e88dadd77cd9fcb4fc0e85eeb6c41155847529ad
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 4 22:26:55 2011 +0200

    Improve (Doxygen) comments for HWCAP entries.

commit 68c12597efda33a30b6152cbac4b805604f3e671
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 4 20:05:33 2011 +0200

    demo: Eliminate unneeded tmp_u64.

commit d3b1b51cbef3edfeefbc5b9edfdd8423c6d5e8e0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 4 19:46:33 2011 +0200

    LA8: Free memory from g_*alloc*() via g_freee().

commit 340cfac0f0629aa3ee84a0a4db53381d04079fe3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 4 19:44:25 2011 +0200

    log messages: Use device name, not vendor name.
    
    There can be multiple devices from the same vendor, obviously.

commit 697785d1aedc0bf385ea21074d83d61b11d8ce29
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 4 19:34:12 2011 +0200

    libsigrok: closedev() now has a return code.
    
    This is useful to allow frontends to react upon close failures in a
    way they see fit (e.g. a popup in the GUI, or error message in the CLI).
    They can also still ignore the error if they want, of course.

commit 1352eeddd4d164b58f2233ae109432b73faab539
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 4 19:03:01 2011 +0200

    libsigrok/cli: Implement loglevel support.
    
    libsigrok can now be told at which loglevel to work, i.e., how many
    debug/error/warning output to generate. You can also query the current
    loglevel.
    
    In sigrok-cli it is now possible to set the loglevel via -l. For example:
    
     - Disable all output: sigrok-cli -l 0
     - Only show errors: sigrok-cli -l 1
     - Show errors, warnings, info, and debug messages: sigrok-cli -l 4

commit 548b08e55cf05aeb8f57b26b29035c3fb153f0f5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 3 19:18:43 2011 +0200

    Drop unneeded skeleton files.
    
    They're not too useful as they mostly consist of a list of function names,
    and that list is already available in the respective struct. The wiki
    API docs and the code in the various hardware/output drivers serve as
    useful examples already, no need for additional files.

commit 86f5e3d826fc9059e110f07221cb1a30652ceac2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 3 19:15:54 2011 +0200

    libsigrok: Rename open/close to opendev/closedev.

commit 6f42226475bea46cebd348c1c7556cf9a6fce118
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon May 2 01:40:16 2011 +0200

    demo: Add some more debug output.

commit 02604ed6def368edd782bae3c43c7de86111691e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 26 23:56:00 2011 +0200

    Initial support for CSV as output format.

commit f38bdf5678d35a1493c17a5c260fc1120d93bd93
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 26 17:27:34 2011 +0200

    Change left-over SIGROK_* to SR_*.

commit 4362438f1e2da14d04678327c403f9d75c4c0a48
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 25 00:16:47 2011 +0200

    LA8: Shrink mangled_buf from 8MB to 4KB.
    
    It's not necessary to have an 8MB buffer. Also, make it static, don't
    use malloc() here.

commit da0918aae0d43ab25cb72ddf8773831f0364ebdb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 24 22:53:27 2011 +0200

    ASIX: Small consistency fixes.

commit 4bc5fd4568350e3d4025ea72158a8a611650a912
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 24 22:50:04 2011 +0200

    LA8: Eliminate unused num_probes variable.

commit 309397702f747ea6326492d841a31fddd2d76a9f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 24 22:48:45 2011 +0200

    LA8: Replace some sr_warn() with sr_err().

commit ecaf59db8d79286b69a489273f4262901c0588f8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 17 10:11:52 2011 +0200

    LA8: probeconfig/trigger support.
    
    This should make proper trigger support work for ChronoVu LA8.

commit 4af22da5950cf490f2300199dfacd705e1d220b3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 19 00:27:29 2011 +0200

    Fix two small warnings.

commit e519ba8645b56f6c9eaaf69d6357a1efa8df501e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 19 00:14:15 2011 +0200

    Hardware drivers: Use names for struct entries.

commit c0a4b9716d32811d9b2320884d3bd0e599feedcf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 17 14:51:54 2011 +0200

    ols: Always use glib's memory allocation functions.

commit ecad043fd0c05ba307c3730438c1547a5dbe2608
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 17 10:22:10 2011 +0200

    MSO19: Always use glib's memory allocation functions.

commit 27a3a6fe4b767414318c84a08c0cbe2c5a64e4b7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 16 17:23:04 2011 +0200

    demo: Always use glib's memory allocation functions.

commit c548332c21acc2588114214b38eaa3237fc3f8b3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 16 16:07:28 2011 +0200

    serial.c: Use g_try_malloc().

commit 12ad53f5a6390e95ea0451ab3bd2c18574294aa3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 16 16:04:32 2011 +0200

    ASIX Sigma: Improve error handling a bit.

commit 92b3101cfc71581a273e667f185b18be0f0c364f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 16 15:58:26 2011 +0200

    alsa: Always use glib's memory allocation functions.

commit 2e82a17b5ae9d204c57b99db93f1063787f6c3d5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 16 14:24:58 2011 +0200

    LA8: Always use glib's memory allocation functions.

commit b53738baf76219237e0a6629905981d7a1f2508e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Apr 16 14:17:51 2011 +0200

    Replace g_malloc{0,} with g_try_malloc{0,}.
    
    The g_malloc()/g_malloc0() versions exit/segfault if not enough memory
    is available, which is not a good thing in libsigrok.
    
    Instead, we use the g_try_malloc()/g_try_malloc0() variants, which
    return NULL if not enough memory is available, so that the caller can
    handle the error properly.

commit 50959ddcdc455c930397fbc9f85c3a745ff45fda
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 15 21:49:22 2011 +0200

    gnuplot output: Optimize by only storing changes.
    
    Only output new lines in gnuplot output if there have been changes in
    the samples (similar to what VCD does). As long as the first and last
    sample are output, the resulting plot looks OK.
    
    This reduces the size of the output file from roughly 200MB to just 60KB
    in one specific test setup (depends on the number of probes and on the
    signal, of course). The time and CPU load required to generate the gnuplot
    output and the resulting plot (PNG or other) is also drastically reduced
    from multiple minutes to roughly 30 seconds (again, depends on various
    things).
    
    Thanks Ken Mobley of ChronoVu for the report.

commit 15f2d0c0f2e39bc4338b0781b581aced0fca8e0c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 15 20:47:26 2011 +0200

    Don't close/reset the FTDI device too often.
    
    Only call la8_close_usb_reset_sequencer() in hw_closedev(), it's not
    needed in hw_stop_acquisition().
    
    Thanks Ken Mobley of ChronoVu for the report.

commit 2f5c8c9696f4a4a8ca7e3c7e6e7d2766a4927026
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 15 20:05:45 2011 +0200

    LA8: free() sample buffers in hw_closedev().
    
    Thanks Ken Mobley of ChronoVu for the report.

commit b08024a8363c7a019bebc05a25e2689e774326e8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 14 09:46:53 2011 +0200

    libsigrok: Introduce sr_dbg/sr_info/sr_warn/sr_err.
    
    We should use these (internal) functions in libsigrok exclusively from
    now on, i.e. no more use of glib's g_debug() etc.
    
    These functions are only for libsigrok, the frontends use whatever
    logging mechanism is suitable there.

commit 83e9d586385097b957774d150a718ebaa7fcc3c9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 11 00:21:19 2011 +0200

    Add chronovu-la8 input file format support.

commit 8c48f17944a224787aa430b3b3dc5f8709ccb700
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 10 23:33:43 2011 +0200

    Add chronovu-la8 output file format.

commit 20ebd1fe1d9314f421cfdfc925eba6eee498ce80
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 10 16:46:05 2011 +0200

    gnuplot output: More error checks.

commit cdb3573ceba61b02b80f7fc979d166db5b6ff3bc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 6 21:51:36 2011 +0200

    input/output formats: s/extension/id/.
    
    The struct entry 'extension' is not really a (filename) extension, but
    rather a unique ID used for input or output formats, e.g. in the sigrok
    CLI or GUI interface. Thus, rename it accordingly.

commit 8703f512a7c0e05f5fc3a5bc36f9e81afee71da3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 6 20:01:31 2011 +0200

    LA8: Use the new SR_ERR_ARG macro.

commit f7d2982d42e876d8814cba203570a45284c79658
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 6 19:53:31 2011 +0200

    Add SR_ERR_ARG #define.
    
    Changing the number of SR_ERR_SAMPLERATE is not a problem ATM, as we
    never had a public release of libsigrok, i.e. nobody relies on the API yet.

commit 819184ee68f1fda1ebc5b0a5f6aed403ecc27403
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 6 19:51:11 2011 +0200

    Binary output: Add more error checks.

commit d494a4aa9dcbd90126d86757d16fa3e0f0a419f3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 6 19:42:49 2011 +0200

    input/output formats: Explicit struct member names.
    
    This makes it immediately clear what an entry is supposed to be, no
    need to look it up in some header file.

commit f4314d7e0611917bdc7713dbffe17559490666d6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 4 19:40:30 2011 +0200

    Add initial support for the ChronoVu LA8.

commit 8a7b47cdfae4a4a95e92958beab41a4985e8f8e3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 3 23:18:46 2011 +0200

    Revert temporary changes for 0.2 release.

commit 2f3aab0ee9797700238656218208a6ab17a607b3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 3 22:38:35 2011 +0200

    Disable some stuff which should not be in 0.2.
    
    Disable decoders, disable lib building.

commit 847c21bc65343fa1197aa8455012d06a887e6626
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 3 20:15:12 2011 +0200

    Hook up output/text directory with autotools.
    
    This is needed for 'make distcheck' to work.
    
    Also, add missing text.h to the list of source files.

commit 4fe9a6da79561d82f2c88c39e222ae86c5507900
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 3 06:15:45 2011 +0200

    OLS driver overhaul
    
    support for metadata in recent versions of the FPGA code
    moved constants and structs out to separate header file
    got rid of all device instance-specific globals

commit f437ea3fe2cada77634eb3a06d34abf680b9c092
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Mar 17 14:53:06 2011 +0100

    small warning fix

commit 4487177c795db2393fd7e4a3c7b46b56345dc8e1
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Feb 14 05:55:01 2011 +0100

    output_ols: disabled cursors don't really need to be listed

commit 82957b65b111437ebe445b7f165719eec2d4e147
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Mar 25 13:44:16 2011 +0100

    ASIX Sigma: Fix firmware loading bug.
    
    When no firmware file is found, return the right error code so sigrok
    doesn't continue running with no firmware loaded.
    
    Thanks Martin Stensgård <mastensg@ping.uio.no> for the patch!

commit 8bb416becf64c5095dc7f553a7899fbe9ebc28e0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 22 23:20:22 2011 +0100

    Kill unused functions (avoid namespace pollution).

commit 120b259ea8f17b74deca3ba4b71e78771539bde8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 22 23:13:34 2011 +0100

    Drop obsolete vcd_header.

commit d078d2e5f3842b1915ffa9961654f3aa4ed88e17
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 22 23:12:41 2011 +0100

    Make some more items 'static'.

commit 25b4fb85572d0c86d9ccab2a48524f4dd9bef43c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 22 23:01:29 2011 +0100

    Add doxygen comment to sr_filter_probes().

commit cd009d55619181e2fa7e7112f32fe85e4b49cf14
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 22 18:13:32 2011 +0100

    sr_exit(): Return int to be able to report errors.

commit f5a443f27ad0e99f8f0f93867a1f298d7a6a327a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 22 18:08:41 2011 +0100

    Make DATASTORE_CHUNKSIZE private.

commit c91404191e6b31ffe40edd8de469876a02c81d57
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 22 18:05:16 2011 +0100

    Add SR_HZ macro for consistency.

commit 59df0c77e2906323290544ea62801831818ec096
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 22 17:57:03 2011 +0100

    Add SR_ prefix to the KHZ/MHZ/GHZ macros.

commit 9688b443f65c7779a07b0e3ef2b9f9721ff742cd
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 18:39:47 2011 +0100

    Add SR_ prefix for MAX_NUM_PROBES/MAX_PROBENAME_LEN.

commit 4cea9eb20dc8d816a67c57d111a3a4529d452e4d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 18:29:05 2011 +0100

    Make ARRAY_SIZE/ARRAY_AND_SIZE private.
    
    This is not libsigrok-specific and should not be part of our API.

commit 54ac5277c5e462f1778300b9bc3fdd4709ecb2dc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 18:24:25 2011 +0100

    Constify some more 'char *' parameters.

commit 809c5f2011198a064a2e5e4028f19e63eb532ec1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 14:20:15 2011 +0100

    Add sr_ prefix for analog stuff some structs.

commit a887e3da9714cdfc4ee2eed37e0aa40cf7a5aaea
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 14:14:13 2011 +0100

    Add sr_ prefix to receive_data_callback typedef.
    
    Also, drop obsolete add_source() prototype from sigrok-cli.h.

commit 13b0573369841c1e26834734699b0f34f35428eb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 14:09:15 2011 +0100

    Add sr_ prefix to datafeed_callback typedef.

commit e5551f657d6f16ec752cbbd1c879827387fd0063
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 14:04:12 2011 +0100

    Drop obsolete source_callback_*().

commit c25d2039de05250357f5a215e2cfcf703fbc6625
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 13:58:21 2011 +0100

    Add sr_ prefix to filter_probes().

commit 8225e92175c64909eddaecf8bd512049acf653a2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 13:53:13 2011 +0100

    Constify a few more 'char *' parameters.

commit 8233ff53ae7c6e120af4784bc61a036882d5c234
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 13:27:08 2011 +0100

    Make load_hwplugins() private.

commit ee4b6342afe8e42c0be481109b9b97e27cbb846a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 13:24:26 2011 +0100

    Add sr_ prefix to list_hwplugins().

commit 6f1be0a2d40b3998abd8d10b5479e4538bc4ff1e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 13:19:27 2011 +0100

    Add sr_ prefix to session_{add,remove}.

commit 77b454421a2aa7d52873f036e5ba5f8030fe29a3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 13:08:44 2011 +0100

    Disable analog bits/gnuplot output for now.

commit 29cbfeaf5c6a5e9112a6830a8fe4b584b33daf2a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 15 19:38:46 2011 +0100

    Mark some private stuff 'static'.

commit a65de0309b0629d8a5f744f4be7bad67fdd5c34e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 15 19:24:52 2011 +0100

    Add sr_ prefix for hwcap structs/functions.

commit a46d35febf4096df1af6189770bc5c1f91908ff5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 20 21:00:32 2011 +0100

    Drop prototype for non-existant make_metadata().

commit 218557b85a308adc6ac533eb3f33d3dee17c13f8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 13 11:27:52 2011 +0100

    Quickfix for a segfault with file input via -i.
    
    Stuff like
    
      ./bin/sigrok-cli -i rnd.dd -a transitioncounter
    
    would segfault (rnd.dd consists of random bytes) because device->plugin
    was NULL and was being dereferenced.
    
    Thanks Olivier Fauchon <olivier@aixmarseille.com> for reporting.

commit 305bde4d42ac801312743cc05671de214f6501fd
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Feb 12 06:18:16 2011 +0100

    implement version 1.3 of the OLS output format, now streaming

commit 4bfbf9fce71f91b3e7b7e968d436f7c436fc9648
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Feb 12 03:24:23 2011 +0100

    demo: forgot second part of samplerate support

commit e5d1717e6d436b4f529c00dd5cede669e74a1e58
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 9 00:07:29 2011 +0100

    Saleae: Make more private stuff static.

commit ba0b1dc639d13caf9c9f564828dc82a55c771913
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 23:46:29 2011 +0100

    Doxygen config files: Initial configuration.

commit df66e48b0c794cc91fbf5a3ceb8c9a8f3ada3458
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 23:00:49 2011 +0100

    Add doxygen config files for both libs.

commit 03dbc020cde2f0d9857ffcfc273eed5f504a4860
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 21:50:27 2011 +0100

    Rename probe_find() to sr_device_probe_find().

commit dfcc0bf9d3b56c06daa1c4eec923ad21bf13dcd3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 21:47:50 2011 +0100

    strutil.c: Fix typo, add some (API) docs/comments.

commit c49111295f0b2e50044923897d99ca84f65b75db
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 21:22:10 2011 +0100

    Add sr_ prefix for datastore API functions.

commit 2bf4aca64ad435a09359662446762840ac55db1d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 18:19:38 2011 +0100

    Add sr_ prefix for device related API functions.

commit 60679b18e6940d20ee36fa77ea7411b67cbb9c2a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 18:07:19 2011 +0100

    Add sr_ prefix to 'struct samplerates'.

commit 8a2efef2d5900cb3dd935af92a0e22528660c4be
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 18:00:49 2011 +0100

    Add sr_ prefix to session related API functions.

commit 2872d21ebc4e9554f685551e4915f193357f13d9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 17:50:29 2011 +0100

    Add sr_ prefix for 'struct session'.

commit 1afe89897cf100b1a3a5896184ddaca5705681cc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Feb 8 17:47:38 2011 +0100

    Add sr_ prefix for 'struct probe'.

commit 3bbd9849e9dc5fdc9fe18a4394abe4d4b43ac9d4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Feb 6 02:14:57 2011 +0100

    Fix warnings: g_fopen() needs <glib/gstdio.h>.

commit 868d8cefec0d27bc5afed4fe1e906c7b68665cf6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Feb 5 20:03:17 2011 +0100

    Use glib's g_fopen() instead of fopen().

commit 45fdfa307de68cc5209142cc6bae13a3be274949
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 4 23:52:16 2011 +0100

    MinGW: Use "b" in all fopen() calls.
    
    This is required for proper operation on Windows/MinGW, and doesn't
    affect other OSes, most POSIX systems simply ignore the "b".

commit 0f33365007d72e3f114938a61b9c426b6f5e48c6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Feb 4 20:11:17 2011 +0100

    Revert FIRMWARE_DIR / DECODERS_DIR method for now.
    
    There were several issues with the other method, revert for now.

commit d81d29333e255a236b029860683f4bfadd1c15e3
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Feb 4 06:28:49 2011 +0100

    demo: support setting sample rate

commit 904e0b589ebfbfa5ced62b0fab50a204d8d8a4b5
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 1 18:27:12 2011 +0100

    ols: default to 200KHz samplerate

commit a9f54bcd7b83baf465e5096f604470cacb4951bf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 2 13:13:13 2011 +0100

    MinGW: Build fixes.

commit 22b02383442ec55a11cc6dd2b4c467d1de0b5bd2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Feb 2 10:25:52 2011 +0100

    Fix build when no libusb-LA is compiled.
    
    Until now the build would break if the user doesn't enable at least one
    of the libusb1.0-based LAs. I.e., you could not compile only OLS, or
    only the demo driver.

commit cddd1c5f4739e43365a48a9d17e49cb105d929c7
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 1 06:51:34 2011 +0100

    demo: stored-pattern generator now keeps state

commit 6e738600eb4b98f76ca6f0d7d38da7e7a2acd0ca
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 1 06:13:32 2011 +0100

    output_ols: now fully compliant with spec

commit 3a285098170ee6d5c7eab3fd94606e61a4fbaa19
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 1 02:33:54 2011 +0100

    don't just assume a device has a samplerate setting

commit 4a1b18f86d71ce814ec65b5273c1fdc4ac224735
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 1 01:41:33 2011 +0100

    don't force .sigrok extension when saving session file

commit b8c2f85f561a3e2738b621a0d42e0c066c1fcee9
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Feb 1 00:06:32 2011 +0100

    session_driver: remove unneeded callbacks

commit dd56a9320d3ecb8f9054600f118a219f0de4ec9f
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 31 23:44:18 2011 +0100

    fix device probe adding

commit 7d6588743503514c9de5c4fc8a511e9b0bdad7e6
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 31 22:34:14 2011 +0100

    implement session loading based on a virtual device driver

commit 40f5ddac0125b1a7c9b2625dda631f3c0ba24a4b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 31 22:29:40 2011 +0100

    move samplerate/period printers and parsers into libsigrok

commit a59606dfff0fa324e0003904a8eb72d7159c3c1f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 30 21:57:45 2011 +0100

    remove dead code

commit 9f4bc44e3a4442eb2b4a1fc2bdfeefc2e2bad425
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 31 14:14:28 2011 +0100

    MinGW: Build fix.

commit 01d9dc35ad8ba6817170ac9cca6c7e4fce989b78
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 30 19:22:13 2011 +0100

    Consistently use _exit prefix for functions.

commit 5a2326a71b3a7d3bc6b367a7a3dfa6f137f5f0ec
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 30 17:58:41 2011 +0100

    SR_ prefix for all public enums.

commit 6c29007211e3a35bb90db53cd22042f04fbe4e44
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 30 16:44:26 2011 +0100

    Prefixes for *_device_instance.

commit 5c2d46d1dbfa636fb3cdbeaffdc0e9ca77c66ee1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 30 16:19:42 2011 +0100

    Prefix device structs with sr_.

commit 9f8274a544865838f880c4849c28b6129141cf99
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 29 17:10:24 2011 +0100

    Add a field for the full name of a device.
    
    Also, show this long/full name in 'sigrok-cli -V'.

commit b9c735a275512ce82da7f66275c7cb62eaf66b60
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 29 17:03:26 2011 +0100

    Prefix datafeed structs with sr_.

commit d32d961d17e3c7f409912062e5c336c19b6ef270
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 29 16:57:35 2011 +0100

    get_sr_device_instance() -> sr_get_device_instance().

commit a00ba012288726678e1a270961c8d4f46f3dbd33
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 29 16:43:45 2011 +0100

    Change all sigrok_ prefixes to sr_.

commit f50f3f40d9238b0c50be67e52bc132aadfcf2050
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 29 16:36:57 2011 +0100

    Add sr_ prefix to input/output structs.

commit e46b8fb154ba90ffec9c1f805399dfa819e736f9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 29 16:23:12 2011 +0100

    Change SIGROK_ prefix to SR_.

commit 544a458212dc972b663e67cd522ba54cbd8a00de
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 30 02:40:55 2011 +0100

    move session main loop stuff into libsigrok (session_run)

commit ff35879bb7374a430ef89633df273288d42d4988
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 27 23:17:47 2011 +0100

    Fix some compiler warnings.

commit aa4b110766256f010af198e1e5f2ca64055403df
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 24 07:46:16 2011 +0100

    fix session saving and input file loading
    
    cli: -i option now properly takes the -o option into account,
    so sigrok can now be used for protocol conversion with just
    those two options.

commit e54bcdc5d17daf9a0641763bc33f5c8a723c4cbb
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 24 02:49:14 2011 +0100

    cli: don't initialize and scan for hardware unless needed
    
    If the -d <plugin> option is used, only initialize the specified plugin.

commit eeebceea31bacfbe05ba6d7cbcf21de03910329a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 23 19:53:50 2011 +0100

    Introduce proper libtool versioning for the libs.

commit da6923732120b9f169c5991000ecabd15c05ffc0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 23 18:21:58 2011 +0100

    Build fix.

commit 108a5bfbba72882d1bc903a0ae54d0a883ff0824
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 23 05:32:37 2011 +0100

    fix compile warning on 32-bit platforms

commit 070befcd1c4786645a9191b96885dd62490b0d41
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 23 05:32:13 2011 +0100

    restore demo driver to working state

commit 47697369b552515d76930951e75cf84b5a16953a
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 23 04:58:32 2011 +0100

    cli: revamp option syntax
    
    for device (-d) and format (-f), the syntax is:
    
      <thing>:key=value:key2=value2

commit cdbc51d97d027c3889aad43c9d9ed3344cfb5a91
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Sat Jan 22 12:23:34 2011 -0200

    alsa: hide a few compiler warnings

commit 58330ab892c64461a73471a197fd8816630944a9
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Sat Jan 22 12:21:04 2011 -0200

    finish alsa driver implementation
    
    Yes, it works now.

commit 6ea7e23526b6be4d6c762b1136e361e4d3caccf6
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 22 14:18:31 2011 +0100

    Revert "re-enable filter and datastore for DF_LOGIC"
    
    This reverts commit 23da86dfc0a89c7ab951fea31a318a493830eb69.

commit 97554432e8d8bcf7f5af2dd770bcf752c9cd7d75
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Jan 21 22:59:18 2011 +0100

    split output_text into more manageable pieces

commit 921a4c741fee27ee2f248971f9ee309a1551f981
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Sat Jan 22 01:01:53 2011 -0200

    fix copynpaste glitch

commit 6ed4f0443730685b6a4a00b316384d751aa787e3
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Sat Jan 22 00:57:27 2011 -0200

    initial version of alsa plugin.
    
    It does NOT work yet.

commit cfd8b10a2e2e4cd710d148ec5d2e11e18d583414
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Fri Jan 21 22:02:32 2011 -0200

    alphabetical order

commit 5819184b229d5d33ccb8e5ed5f7d715f501fedb5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 21 21:04:01 2011 +0100

    Remove duplicate FIRMWARE_DIR includes.
    
    We use AC_DEFINE_UNQUOTED in configure.ac now to put the FIRMWARE_DIR #define
    in the config.h file, which is included where we need the #define.

commit 62eeeb171bd9a05d167990373e33bc1f956cbfee
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Fri Jan 21 18:04:09 2011 -0200

    re-enable filter and datastore for DF_LOGIC
    
    This definitely isn't the proper fix, but it should allow DF_LOGIC
    and DF_ANALOG to coexist.

commit 81bbdf6a6a2a8651e3c1ab3a7f714a851da77141
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Fri Jan 21 16:11:44 2011 -0200

    add incomplete DF_ANALOG support to output_gnuplot.c
    
    RAW->Voltage conversion is not implemented yet, its hardcoded for
    signed 16bit conversion.

commit 8038e90aefdbddd68a9775aea4f588bdd89894fe
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Fri Jan 21 12:52:12 2011 -0200

    add a sine wave to demo.c

commit c3579621d569f4b1ef3c21c7e2ed3bdc855c617b
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Fri Jan 21 11:25:50 2011 -0200

    reduce analog_sample sizes.
    
    To save resources, reduce the max ADC resolution and max probes
    per device. Just increase when needed.
    
    Soft limit: 256 probes, 16bit adc
    Hard limit: 2^64 probes, 64 bit adc

commit 764f887f7bfe480690fdc90ccadadfc1f9b42c03
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Fri Jan 21 01:30:56 2011 -0200

    change demo.c to output analog packets
    
    You need to #define DEMO_ANALOG to generate DF_ANALOG packets.

commit 6eb0e3ea9528e91ef1e44e224fe9d6b05e31596f
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Fri Jan 21 01:19:50 2011 -0200

    change output_text.c to support analog
    
    Only the "bits" output format was converted.
    Analog values, are scaled down to A-Z letters.

commit 48d783e4b5e557b6b7beee3907f0e8bd88741426
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Fri Jan 21 01:14:53 2011 -0200

    introduce analog_sample datafeed packet
    
    These structs define the packet format used to exchange data using
    the DF_ANALOG packet type.

commit f3163a6c2ee7a1d7ec6865f11cfcf52b07dc31f5
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Thu Jan 20 20:10:43 2011 -0200

    make output_analog.c = output_text.c

commit f95fd1aaf3830c4d1f451b4b15c56169c9e95b35
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 20 23:23:06 2011 +0100

    Install an empty firmware/ directory.
    
    This reduces the hassle for the users (and distro packages) a bit, you
    only need to copy files into there now.

commit a00b530c644076f04a8505bc3644d2dceb3f6ed7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 20 23:00:59 2011 +0100

    lib headers: Add 'extern "C"' for C++ usage.

commit bffed4fc107358b11ab007ef2cdef851572680ef
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 20 00:39:59 2011 +0100

    Re-enable stuff we temporarily disabled for 0.1.

commit 07c81bfad119a4ea66c76cc830506ce3b381b4c5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 19 23:55:03 2011 +0100

    Disable Link Instruments MSO-19 for 0.1.

commit 26ce0bbfd88121831c651c8042e3c843ccd5d2c2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 19 23:47:21 2011 +0100

    demo: Small indentation fix.

commit 1924f59f4b788046f5eaf7ef3272a14c79a7c6f3
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Wed Jan 19 23:14:17 2011 +0100

    Demo: Obery samplerate and fix race condition.

commit 576790ff7b7e888eeefa79239ffed6d8550c1160
Author: Bert Vermeulen <bert@slab.local>
Date:   Wed Jan 19 22:47:55 2011 +0100

    disable MSO-19 specific stuff for 0.1 release

commit c70fce6ba6f061f1fbd4dbdf08e5d2ffa0168f6a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 19 19:20:44 2011 +0100

    Don't install libs and headers in the 0.1 release.
    
    The library APIs are not yet usable or finalized, so don't expose the
    libs for now. Instead, only install sigrok-cli, the manpages, and
    the decoders.

commit 058b70353dd462ab13f3badb43f2fea697161bd7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 19 01:16:19 2011 +0100

    Move more non-public headers to sigrok-internal.h.

commit 01bd1ed396f33efc7126703210f44c4b5730d064
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 18 00:08:11 2011 +0100

    Fix compiler warning.

commit 32c0551ba66452acc24c9dc163ade3a637b1c7f2
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Tue Jan 18 23:17:55 2011 +0100

    output_vcd: Make timestamp work on 32-bit machine.

commit 94ba4bd6897d87af2ca45acc0505139d04785d44
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Tue Jan 18 23:12:57 2011 +0100

    Sigma: Update set_configuration to reflect API.

commit 7c70c53843766003b881ca2c47f2c4bb454a3360
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Tue Jan 18 22:39:46 2011 +0100

    Sigma: Set default samplerate to 200 KHz.

commit 5b5ea7c6d25bb42de09b61d0a070d78252f2367b
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Tue Jan 18 22:24:23 2011 +0100

    Sigma: Only send trigger packet if enabled.
    
    The Sigma hardware emits a default trigger event.

commit abda62ced8a9cdbb13be49a503d6bc6a8a8f8f2e
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Tue Jan 18 22:17:43 2011 +0100

    Sigma: Never send empty packets.

commit afa8f8449aa6c04980a9d4639a901079a2afedc9
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Tue Jan 18 22:14:36 2011 +0100

    output_text: Mark trigger at correct position.
    
    ASCII output does not separate groups of samples with
    and must be handled separately.

commit 6ef7a8cb5d2f035734dd504d99b267a118b2dade
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Tue Jan 18 22:13:50 2011 +0100

    output_text: Fix ASCII edge case.

commit d4f228d094d53c95bdf4dd42525a271db716928d
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Mon Jan 17 22:56:14 2011 +0100

    output_text: Add ASCII output.

commit b9cc36296b6e08d194a2b8e6c1adeb010af9a630
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 17 02:20:52 2011 +0100

    demo driver: support time limit

commit 574ce4988ac771ea39e3423c196019555e81df8a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 17 02:18:02 2011 +0100

    refuse to set sample limit under 4 (protocol can't handle it)
    
    also a bit of whitespace mangling.

commit b33e7d7058a5a092eea7b8bce18cf95d70e5ff5a
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sun Jan 16 17:55:51 2011 +0100

    output_vcd: Emit timestamps as time, not sample num.

commit 08b488b84896d0e29c401c67f7bda7fed968f9ca
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sun Jan 16 17:34:49 2011 +0100

    output_vcd: Remember samples between packets.
    
    Fixes two bugs in vcd output:
    1) Waveform did not match original input when viewed in gtkwave.
    2) No vcd output when using 1 MHz sampling on Sigma.

commit 88c51afe876b6d6ba115f8152d89b9564ee00e4f
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sun Jan 16 17:03:25 2011 +0100

    Sigma: Support for decoding partial chunks.
    
    Samples are stored in chunks and the last samples do not fill up
    a complete chunk. This patch adds support for decoding partial
    chunks.

commit 10c471ab131bd766c9207e05e485fd2467ba7d5b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 16 14:18:26 2011 +0100

    Fix warnings.

commit d35aaf0256aa646af0f23035932271579ca65a3d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Jan 16 14:12:52 2011 +0100

    demo: Use GIOChannels, makes it work on MinGW.

commit fbf1ff5d2268c0fbf35b6210afa11da351b9b2ba
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 16 04:34:45 2011 +0100

    clean up output_vcd module
    
    use self-expanding strings, better standards conformance

commit 98b8cbc17e03119fcaa735a4bc2f0451000ab54f
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sat Jan 15 20:01:00 2011 +0100

    Sigma: Limit number of edge triggers to 1.
    
    Actually, Sigma supports 2 rising/falling triggers,
    but they are ORed and the current trigger syntax
    does not permit ORed triggers.

commit 31facdd3c5ca0c118d1216ce65c468db130bb751
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sat Jan 15 19:19:49 2011 +0100

    Sigma: Download samples from partial chunks.

commit ab224f7b61ee1d3cf46fff172e4d97c856031593
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 15 18:18:09 2011 +0100

    Initial support for the OLS output format.
    
    This is the file format for the OpenBench Logic Sniffer "Alternative" client.
    Details: https://github.com/jawi/ols/wiki/OLS-data-file-format
    
    This is work-in-progress.
    Currently the number of samples is hardcoded to 10000. Also, this will
    require a real logic analyzer as input at the moment, and will not yet
    work with the "demo" driver.

commit 9d7ab9ba3b5208e99bc7fd33c6a831fe21a427f3
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sat Jan 15 18:24:01 2011 +0100

    output_text: Allocate more memory for output
    
    The trigger line was forgotten. Allocate 512 bytes extra.

commit 9996570987d362a324384ed041040e884628853e
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sat Jan 15 17:02:18 2011 +0100

    Sigma: Move sigma state to device specific struct
    
    Thanks to Daniel Ribeiro for contributing this patch. Some
    modifications were done.
    
    Not tested on multiple Sigmas, because of lack of hardware.

commit 3aa403e858a490aee17c23c11d3a09cdd4eb324d
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sat Jan 15 16:10:57 2011 +0100

    output_text: Allocate enough memory for output

commit 858fb11c5e26009861b8b7aef7c07b701d2cda5a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 15 15:44:21 2011 +0100

    Drop unused debug.c.
    
    Even if we'd use it, it probably belongs into the frontend, not libsigrok.

commit 484760d1a8a26ba830b3d63d1451dc30985babd1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 15 15:43:25 2011 +0100

    Cosmetics.

commit aa0b6b208e2ecaa7e56b020c204b6c3e702fb4ca
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 15 15:43:03 2011 +0100

    sigrok-proto.h: Sort the prototypes, fix comments.

commit 1483577eed7ac27b8107b1b76e1adc5369745c29
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 15 15:06:58 2011 +0100

    Start moving private stuff to sigrok-internal.h.
    
    This is work-in-progress, unfinished.

commit f7606f9b75b1b4b2324635426f3cc52feda1e3aa
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 15 15:21:54 2011 +0100

    fix hex output

commit c2bd92ec0867eff49ee58b557d6fb9aec2b63357
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 15 14:41:57 2011 +0100

    Slightly more consistent #include-guard naming.

commit 917e0e71d53cb0a0ac7965cb4f36791b14f7e5ff
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 15 14:28:03 2011 +0100

    added example code for generating a stored pattern

commit 9be9893eed4acf03533d1a2fb63719de6eb10753
Author: Håvard Espeland <haavares@ifi.uio.no>
Date:   Sat Jan 15 14:03:08 2011 +0100

    Sigma: Check state in hw_closedev
    
    If the device is closed without previously running hw_openedev
    the driver crashes (happens in cleanup). This patch checks
    if the device has been opened.

commit 02440dd88c93b049bdd71039ef036af1c8812189
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 15 13:06:04 2011 +0100

    demo: Cosmetics, constify.

commit e15f48c268877632086e9cd0bb16356cd58cde5f
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 15 05:12:41 2011 +0100

    cleaned up demo driver
    
    removed unused samplerate
    added patternmode (random and incremental)

commit 925dbf9f97c18628ead7cb5a93f95052b48ca0e4
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 15 05:11:40 2011 +0100

    add new HWCAP patternmode

commit 63570167d67cacab2ac56eaabb6219c7593bca9e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 15 03:44:19 2011 +0100

    Cosmetics for the -D output.

commit 17e1afcb81b8581091fcb660c2e61f05c75e00b5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 13 23:50:34 2011 +0100

    Whitespace and consistency fixes.
    
    Also, drop a <poll.h> #include. It's unused anyway, and breaks the build
    on MinGW/Windows as there is no poll.h there.

commit 9ab95e54083b62c060cddd1e2762529c762d90be
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 13 02:05:39 2011 +0100

    make output modules a bit more crashproof
    
    the event handler in output modules is now optional.

commit 2507648e63d7b9807808d2e74b168821e94d893d
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 13 01:26:23 2011 +0100

    use us instead of µs in periods (VCD can't handle it)

commit 2119ab0364b6a161091a89a7018be14d49bdc7b3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jan 12 00:43:00 2011 +0100

    MinGW/Windows: Serial port portability fixes.
    
    Add serial_read()/serial_write() which have different implementations on
    MinGW/Windows.
    
    Add some more error code handling and documentation.

commit ba3d481bb78a3bdb009c8d0aed3885a0a0192a04
Author: Olivier Fauchon <olivier@aixmarseille.com>
Date:   Wed Jan 12 00:25:15 2011 +0100

    add ontinuous mode for demo driver

commit 13a12913507682c319aaa890d897670bc8457adb
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 11 23:58:41 2011 +0100

    fully implement input_binary module

commit 78ed6420358cd83bb74208e80cbcd7c068713769
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Jan 11 23:49:32 2011 +0100

    code cleanup

commit a61b0e6a35fdf06c98a2304e186a3a17c9fbf8d8
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 11 22:17:33 2011 +0100

    configure: Add --enable-demo option.

commit 1fdb75e14528abd62ebe727537512c741a5759da
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Jan 11 01:25:10 2011 +0100

    MinGW: Quickfix to make serial.c/ols.c compile.
    
    Note: It does NOT actually work, yet, it only compiles!

commit 74b9b43836a55debd1e5c27637021ef505f6e7aa
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 10 22:17:52 2011 +0100

    cli: support --continuous option for continuous sampling

commit 8a839354c122b533181fe02da82d0110a44911cf
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 10 23:20:37 2011 +0100

    Cosmetics, whitespace, consistency fixes.

commit fc96e6f8c8591c15930ff3dfe9e14303b29e70aa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Jan 10 22:49:38 2011 +0100

    demo: Add missing copyright line.

commit 2566bd4884bf33518488504575ba62e99ef43a7b
Merge: 01cf88149 882e2075b
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 15:58:05 2011 -0200

    Merge branch 'master' of git://sigrok.git.sourceforge.net/gitroot/sigrok/sigrok

commit 01cf8814949f4786da4a1be79a74030a691be152
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 15:15:51 2011 -0200

    Add incomplete mso-19 plugin
    
    * Both Analog and Logic capture works.
    * Analog values are raw ADC, still useless.
    * Triggers aren't implemented.
    * Pattern Generator not implemented.
    * Everything is broken. :)

commit 3677f3ec3f76ec3efc8aea97a1b050f6949d773d
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 15:14:26 2011 -0200

    Add HZ_TO_NS macro

commit c2616fb9faca19945154974884a0816359cec1df
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 15:12:38 2011 -0200

    update plugins and cli to use new DF_HEADER

commit 921e753f7e2bef9590b1e344200b736a0faa18cc
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 15:08:43 2011 -0200

    Support for analog probes
    
    Add a field to the probe struct to store the probe type.
    Change DF_HEADER to report the quantity of each type of probe.

commit ac4a2ea45a9320e87ec03cd820bf80c96eb65b21
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 15:05:14 2011 -0200

    serial.c: fix parity != none
    
    The flag write was wrong

commit 882e2075bb51496e5eb9548b98204b90a4b60a82
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 10 13:47:24 2011 +0100

    finish split of sigrok.h

commit 10509bc2e445b20f90d2ce05561dfbb873180872
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 10 13:44:11 2011 +0100

    split off prototypes into their own header file

commit 655756e01d929607f67a9d576222917c72513b4b
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 10 12:39:53 2011 +0100

    cli: new option to list output modules

commit 43275b4712b0ad5baea1c7d71fdb710249a46681
Merge: e006af111 9d4bde70f
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 02:36:50 2011 -0200

    Merge branch 'master' of git://sigrok.git.sourceforge.net/gitroot/sigrok/sigrok

commit 9d4bde70fc2a46bae172ab1851f3aff9e3f9b3b5
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 02:21:07 2011 -0200

    Finish serial_set_params implementation
    
    Adds the most common baud rates and support bits, parity, stopbits
    and flocontrol settings.

commit e006af1116adb76014e77db718bb8673137a8bf5
Merge: 1ff7712c9 9b36e360f
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 02:28:59 2011 -0200

    Merge branch 'master' of git://sigrok.git.sourceforge.net/gitroot/sigrok/sigrok

commit 9b36e360f3c23c3287e6e10acb0b57479c5d19ad
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 10 05:27:22 2011 +0100

    output_analog: allow samples per line arg (default analog10)

commit 1ff7712c93fb61e7710de6c2b4241652445f368e
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Mon Jan 10 02:21:07 2011 -0200

    Finish serial_set_params implementation
    
    Adds the most common baud rates and support bits, parity, stopbits
    and flocontrol settings.

commit 1437e8934bd01167f2126616c7e8b44ca342cd27
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Jan 10 05:13:46 2011 +0100

    add DF_ANALOG, and an analog output module
    
    Samples in DF_ANALOG packets are fixed in length to sizeof(double).

commit f0411b1d170aa60c3aa79b12e88f53b225ea350d
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 9 23:22:48 2011 +0100

    output modules now register the DF type they can use

commit 8d6725506115e97665be8ef35dbaaf694ba72a93
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Sun Jan 9 03:50:45 2011 -0200

    Add a per-instance pointer storage for hardware plugins.
    
    We need this to properly support more than one device connected
    at the same time.

commit dfa4b731da66ddf05ff04943bf0d385aa440c3ac
Author: Daniel Ribeiro <drwyrm@gmail.com>
Date:   Sun Jan 9 03:48:39 2011 -0200

    Add ARRAY_AND_SIZE macro
    
    Just a handy macro

commit 4c046c6bcc392666405154853faf7dc2522aa1d9
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jan 9 06:32:38 2011 +0100

    change all DF_LOGIC* to a single DF_LOGIC type
    
    The datafeed packet has a new field 'unitsize' to denote the number of
    bytes per sample in the payload.

commit af812219f655b286f5a2a0146846d9b97e25435c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 8 20:06:32 2011 +0100

    Only build specific source files if needed.

commit 7c17ac6cc4ecc30a1df1848ef3a3e0827351090c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 8 19:15:39 2011 +0100

    Only build hardware drivers if they're enabled.

commit 5096c6a6c1f2efb01d5efdebb26e282296c2910e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 8 19:01:07 2011 +0100

    demo driver: Small cleanups, error handling.

commit 85b5af068776cca18c704a101d6d56be1ec236b6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 8 18:29:10 2011 +0100

    Make the demo driver work.
    
    When initialized, the driver starts a thread that generates signal data.
    This data is written to a pipe (write file descriptor).
    The other end of the pipe (read file descriptor), is connected to the
    main polling code, like any other driver.
    
    Note: This patch adds a new dependency on libgthread.
    
    At the moment, you can list the driver's device:
    
    $ ./cli/sigrok-cli -D
    The following devices were found:
    ID  Device
    0   Sigrok project Demo Driver v1.0 with 8 probes
    
    And use it for random signal generation:
    
    $ /opt/sigrok/bin/sigrok-cli -d 0 --samples 50 -f bits -p 1-8
    sigrok 0.1pre2
    Acquisition with 8/8 probes at 0 Hz
    1:10111100 11010110 00001011 00011110 00111010 11110100 10
    2:11010110 00111111 01001010 11111101 11010011 00010010 11
    3:11000101 01000001 10100011 10100100 10110000 11110011 00
    4:00100111 11110100 10011101 01100111 00100101 01001110 10
    5:00011100 00101100 10111000 11001101 01011101 01011011 01
    6:10110101 10111110 10010110 10111000 11011010 10000100 11
    7:11111111 01001111 11110110 11010010 10000101 01001111 00
    8:01000101 01111110 01010111 00000111 00010010 00000101 11
    
    The next step is to make demo driver customisable (per-probe signal clock,
    reference sample signals : serial, I2C, CAN...).
    
    Thanks Olivier Fauchon <olivier@aixmarseille.com> for the patch.

commit d4ae8eaa7c09e31ef246b7d56008a0aa21db9f0d
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat Jan 8 15:48:39 2011 +0100

    fix buffer size, various error checks

commit 2a3f9541a4bece23b25e1b255c0fab31ba5a751b
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Jan 6 00:51:29 2011 +0100

    add sigrok_period_string(), MAX_NUM_PROBES

commit 5e2ddeb098b677faca5d044f3523f5f6f3382d90
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 8 03:51:31 2011 +0100

    Fix two more compiler warnings noticed on amd64.

commit 340f6e7aeaf0c6cbbb27c5b535787bd09407994b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat Jan 8 03:32:25 2011 +0100

    Fix out-of-tree build.
    
    Use libtool "noinst" local helper libs and use one Makefile.am per
    subdir, which is the usual/preferred method. These helper libraries are
    purely local and will not be installed.
    
    This also fixes out-of-tree builds of sigrok, i.e. building in a
    directory other than the sigrok source directory, e.g.
    
     $ cd /home/user
     $ git clone ...sigrok
     $ cd sigrok
     $ ./autogen.sh
     $ mkdir /tmp/foo
     $ cd /tmp/foo
     $ /home/user/sigrok/configure
     $ make
     $ make install
    
    This will place all build results (.o files, .la files, etc) in the
    local build directory (/tmp/foo) instead of the source directory
    (/home/user/sigrok in this example). The installation directory is
    selected via the --prefix configure option (/usr/local per default).

commit 757b8c628a5b64f8b6b166044b1b3ac1ccf797dc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jan 7 19:55:25 2011 +0100

    Cosmetics, whitespace, simplifications.
    
    Reduce code nesting a bit, constify some strings.

commit 6239c175c1b967b577f760032d326322dd4c4576
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Jan 6 19:16:47 2011 +0100

    Initial, unfinished demo/simulation hardware driver.

commit 339729131d5acd50147e26ec238db569e273a459
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Dec 29 01:22:58 2010 +0100

    proper fix for output_text corner cases
    limit probe names to 32 chars

commit e6ac9ac808b900287a80ea44d9c661703e3a101c
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Dec 29 00:02:30 2010 +0100

    consistent debug msgs, rename sump to ols

commit ee5f5e81adc83e68c9af2c9305b0ddcb813d2b4a
Author: Bert Vermeulen <bert@biot.com>
Date:   Tue Dec 28 21:59:07 2010 +0100

    fix corner cases/memory management (cli->text out)

commit a5e18535ad897084b9a67dbee19bcc1ebd21ae7a
Author: Bert Vermeulen <bert@biot.com>
Date:   Mon Dec 27 23:44:50 2010 +0100

    don't turn on/off libusb debugging

commit f0551a6543206a0970410481b8e36bbfa6a609ea
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 12 06:04:44 2010 +0200

    oops, fix serial_flush()

commit 06d64eb880876bd8a81c249e7b2f690eb03e12c1
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 12 06:02:25 2010 +0200

    add serial_flush()

commit e1aac2319a1e0f5e7d263b5fd50a62c8b42fe22e
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 12 05:49:00 2010 +0200

    increase length of datafeed packets to uint64_t

commit a143e4e5ddb4743867b7578e0599a566c2c82c07
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 12 04:57:09 2010 +0200

    don't push configuration to device until acq time

commit f0d1b53e56045bc15fe156c3f6e855dfc91037be
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 11 18:37:09 2010 +0200

    OLS: fix multi-channel capture

commit edc508d49cacf2ff7ff38dec5cb49ec317f4a39f
Author: Bert Vermeulen <bert@biot.com>
Date:   Wed Aug 11 04:04:20 2010 +0200

    add debug logging (set SIGROK_DEBUG=2 to see)

commit a803c0db4d5887c29b8c79626bfcc452845cfed2
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 5 03:54:33 2010 +0200

    OLS: fix triggers, sample order, capture ratio

commit 3245dfcb629ced90a2570dc04db99f59af60b888
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Aug 5 03:52:32 2010 +0200

    define pre/post-trigger capture ratio option

commit b5698bd71e96561ba08a481abaa9c64ee687bda2
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Jul 18 21:57:27 2010 +0200

    saleae logic: fix triggers after style changes

commit c4fffe1e9606e3e63a4cd0b760a37beb1f122cc5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Jul 14 22:09:21 2010 +0200

    hwplugin.c: Add missing config.h #include.
    
    This fixes a bug where no LA would be found or displayed in lists such
    as 'sigrok-cli -H' or 'sigrok-cli -D'.
    
    Thanks Forrest Voight for spotting the bug.

commit 960a75e4741edf7d3481339897328f0ea712e2c0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Jun 25 01:11:11 2010 +0200

    Only build hardware plugins if requested by user.
    
    Per default all plugins will be built, though. The user can override
    this via the --disable-la-xxxx options.

commit 5b907f9b07b0559f7230e827e5d02589d307e727
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon May 31 11:34:10 2010 +0200

    Add per-LA --enable-XXXX configure options.

commit 38ba2522516b481fa3619bdec56d1e2a4b7a5f45
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu May 27 01:51:55 2010 +0200

    Use 'kHz' (not 'KHz') consistently.

commit 49d0ce50d0e43c1a10dc2863afd20185051819aa
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 19 00:38:14 2010 +0200

    Simplifications and small fixes.

commit 5013f07422b5a62386f68d1663011d5ba885f1ef
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed May 19 00:23:27 2010 +0200

    skeleton.c: Update to latest prototypes.

commit 2458ea651409c8252d33dba5b5cfe9313f3e4899
Author: Bert Vermeulen <bert@biot.com>
Date:   Sat May 15 23:30:17 2010 +0200

    use flexible sample limit specification (k/m/g)
    
    HWCAP_LIMIT_SAMPLES is now passed to the driver as *uint64

commit 989938f6cd5f9bf76f42e29ab39eca4570e430e2
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon May 17 23:59:56 2010 +0200

    Cosmetics: Reduce nesting level a bit.

commit 9a5c6dcf498b8dfebb8beb848ee6db6b59b173e5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 14 14:24:05 2010 +0200

    Factor out opendev2/opendev3.

commit 5e59f476152a343619f473c37f2b06e2b6ef15d3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 14 13:12:06 2010 +0200

    opendev2/opendev3: Don't depend on global vars.

commit 28fc6de055eae2d6ba97206bb636f28e12fd68a9
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri May 14 13:07:03 2010 +0200

    Cosmetics.

commit d658e348a89c5dd3d248abdbbdf5423465a2d344
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 11 18:07:54 2010 +0200

    pkg-config: Add (semi-generated) libsigrok.pc.

commit 1ebdb3fdc3e28d138046539d9a38610254d9c00a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue May 11 17:13:35 2010 +0200

    Drop unused and obsolete gmodule stuff.

commit 5b15b41e623e755e31cdc699f9d542d69d7e61c7
Author: Peter Stuge <peter@stuge.se>
Date:   Sun May 9 23:11:08 2010 +0200

    sump/ols: Wait 10ms for hw response to make pl2303 reliable

commit 71dda1065642b33d4c82d514bcaf28e2d2b8729c
Author: Peter Stuge <peter@stuge.se>
Date:   Sun May 9 23:04:24 2010 +0200

    serial: Remove unneccesary nesting

commit fbe2f7945d70500f6db374956a36d7bb131b09d5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 21:05:15 2010 +0200

    VCD: Optimizations and fixes.

commit 086eac7c7bef114dd96c6ddb639fa2fa35f9182b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 20:52:36 2010 +0200

    VCD/Gnuplot: Fix incorrect sample counter.

commit 114fb93f67f8748352ad4f851afeab31df2f0385
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 20:27:11 2010 +0200

    Gnuplot: Nicer output formatting.

commit fdebec21082fdc7bb2642e717565bdbc8b98f287
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 19:36:43 2010 +0200

    filter.c: Error handling, code simplification.

commit 5f8c4cb3633cdde636c497cf7ec4eb79e30e32f6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 15:52:56 2010 +0200

    Gnuplot: Improve column/probe name display.
    
    This fixes incorrect probe name display if the user explicitly named
    probes via '-p 1=CLK' etc.

commit e734b81a685c9a1bcb4bd899ba162f5c7769b2d1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 15:38:33 2010 +0200

    output_text: More error handling.

commit caf62e22c4dad949c8b1282e621e2dbf47daac30
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 15:12:10 2010 +0200

    output_gnuplot: Simplify event().

commit d20ba6490ac948783435c72340d3e37b67cd6a62
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 15:11:47 2010 +0200

    output_binary: Code simplifications.

commit 1e32053cd0a8e42e628cf832d81360b96c8de97d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 15:02:17 2010 +0200

    Gnuplot quickfix: Increase malloc()'ed size.

commit 5cca9adbf27252349729cdb1e1c6ca0a526561b1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 14:54:16 2010 +0200

    VCD/Gnuplot: Store time/date in output.

commit 607b58de58f22baa026d24ac7b8e0ae123c9ede0
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 14:42:46 2010 +0200

    VCD/Gnuplot: Cosmetics, code simplifications.

commit a821069b3411e127512dc2c436a76d25fdac0a5a
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 14:35:02 2010 +0200

    Gnuplot output: More error handling.

commit 2aebf78d9d10eb838b2fe58683d7af06015cd214
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 13:32:58 2010 +0200

    datastore_new(): Use int as return value.

commit 33247d6acf94bb9119ba7e1a8239b474bdcfa430
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun May 9 13:25:03 2010 +0200

    Datastore: More error checking.

commit 6b5e3ceefcdee5e942b9cbff5c697016dacee774
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 8 16:09:25 2010 +0200

    VCD: Improve error handling/checking.
    
    Check malloc()/calloc() return values and so on. Also, add missing
    free() calls and some TODOs. Simplify some code.

commit d2b36a10d72133feeea3610bdc81a484b6f8fc72
Author: Bert Vermeulen <bert@rogue.biot.com>
Date:   Wed May 5 22:06:38 2010 -0700

    output_text: always print sigrok version

commit c9c1c6458c15958d19d8cbac50f2e301479892a1
Author: Bert Vermeulen <bert@rogue.biot.com>
Date:   Wed May 5 21:43:25 2010 -0700

    output_binary: rm TODO item
    
    Yes, disabled probes are stripped by the filter before the
    output module even gets data.

commit 7aae74622ecf04f51d5b7df650ea8bd98baa0fcf
Author: Bert Vermeulen <bert@rogue.biot.com>
Date:   Wed May 5 19:56:48 2010 -0700

    output: if device has no plugin, don't report samplerate

commit db91a1c3c1e798610542b9749191fc89f15c5ccd
Author: Bert Vermeulen <bert@rogue.biot.com>
Date:   Wed May 5 19:55:58 2010 -0700

    input: use dummy device when loading from file

commit 873080cc03a7c7889ef775a4584d1036b1d1315f
Author: Bert Vermeulen <bert@rogue.biot.com>
Date:   Wed May 5 19:54:19 2010 -0700

    allow devices without a plugin
    
    this is needed to support file loading: we want a device struct
    so we can enumerate probes from the file, but there is no plugin
    since the data come in from a device.

commit e273a9040e10c1297c758fe35eb522bd5470e708
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Tue May 4 19:44:39 2010 +0200

    Output: Fix invalid pointer dereferencing in vcd and gnuplot.

commit bdfc7a89745a0fae422806c883cbd946f16eace3
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Mon May 3 21:35:02 2010 +0200

    Sigma: Small cleanups.

commit 36b1c8e61b277aabc84d181992795447e7339e5d
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Mon May 3 21:30:37 2010 +0200

    Sigma: Use software trigger to pinpoint exact sample.

commit 6aac77375bb6f9545475d8d4d5e565f896b28be0
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Mon May 3 19:04:10 2010 +0200

    Sigma: Add state machine for tracking Sigma status.

commit a42aec7f6e61b83fcd00e20827b31cc0ee3852d0
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Mon May 3 15:06:43 2010 +0200

    Sigma: Merge storage of rise/fall triggers.

commit 4ae1f451363013d2f0fff180942e5b140e39f049
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Sun May 2 19:21:05 2010 +0200

    Sigma: Minor cleanups.

commit 11fc8d9d938c2e254c62a40f569a964db79a489e
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Sun May 2 19:12:36 2010 +0200

    Sigma: Set capture ratio correctly.

commit c53d793f037878992a40c37aa4c0f5f5a3d1c2d8
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Sun May 2 14:58:59 2010 +0200

    Sigma: 50 MHZ falling/rising edge trigger support.
    
    Falling/rising edge and value/mask triggers can be combined, e.g.:
      --triggers 1=0,2=r,3=1,4=1

commit f758d0744de812ded8938d06a5a72df3f8dd84c1
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Sun May 2 12:59:33 2010 +0200

    Sigma: Fix simple trigger LUT calculation.

commit ee492173a1834514dadbec95388c8a0f00e8af64
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Sat May 1 22:38:43 2010 +0200

    Sigma: Value/mask trigger support in 50 MHz mode.

commit eec5275e2f3dfa1b9bb51a1b054dc7d8bd3bac20
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Sat May 1 14:22:22 2010 +0200

    Sigma: Small cleanups.

commit e65679b15e16d4b898ebdc1456018b9a8d364b1b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sat May 1 02:41:37 2010 +0200

    Saleae: Rename firmware file to saleae-logic.fw.
    
    This is done for consistency with the ASIX SIGMA firmware file names,
    and also for brevity.

commit 34e4813f2e8b75981ed92d625c5fd55146a35e66
Author: Bert Vermeulen <bert@rogue.biot.com>
Date:   Fri Apr 30 15:54:39 2010 -0700

    inout module infrastructure + binary input module

commit 5045c217e69d6bbb5ca52c75799a4d64c72bfafd
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Fri Apr 30 22:18:55 2010 +0200

    cli: Show trigger event in bits plugin.

commit 57bbf56b8420e75bcad45b417c0d36c0a55a3910
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Fri Apr 30 22:18:10 2010 +0200

    Sigma: Add triggers support for 100 and 200 MHz.

commit ed09fd07f7122dd9ade0f15a2b885f33abed86e9
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Fri Apr 30 23:51:57 2010 +0200

    Sigma: Minor cleanup and add more samplesrates.

commit 9ddb2a125d0cc01f76acc43670c4609cc4a7b49b
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 29 00:32:44 2010 +0200

    Sigma: Small cosmetic fixes.

commit edca2c5c2261ef4d6862d97e6d28d5a1c148a2f1
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Wed Apr 28 22:45:13 2010 +0200

    Sigma: Support for low samplerates
    
    Lowest samplerate supported in driver is 250 KHz

commit f78898e947a52e1713f6b2eef66d473e1dfcd7bf
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Wed Apr 28 21:21:19 2010 +0200

    Sigma: Support 50 and 200 MHz modes

commit a8116d764ba3fc33bb6719f9e47ba1a5069981d1
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Wed Apr 28 21:20:27 2010 +0200

    Sigma: Rename firmware files

commit e8397563a219d07179aa273d30396c3c21fb91ba
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Wed Apr 28 20:01:15 2010 +0200

    Sigma: Upload 50, 100 or 200 MHz firmware

commit f6564c8d1933921ee9e34e93effeef8cee4cc3ba
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Wed Apr 28 19:48:59 2010 +0200

    Sigma: Move upload firmware into a function

commit fefa18001aa343a476e3742de3ac946ae7ff2709
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 28 00:17:28 2010 +0200

    ASIX SIGMA: Coding style fixes (via indent mostly).
    
    Also, end all/most comments with full stop and avoid variable/array
    definitions in the middle of functions.

commit 204b1629bd4ef6b61c297fd830a3dae9edafc388
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 27 22:46:59 2010 +0200

    asix-sigma.h: Add missing license header.

commit 911f18341b4def1c3184702c555b163de83a0f71
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 27 22:44:15 2010 +0200

    ASIX Sigma: Use common license header format.

commit 28a35d8ab35483b6d50e5b8404542cc11875fa5d
Author: Håvard Espeland <gus@ping.uio.no>
Date:   Tue Apr 27 21:43:24 2010 +0200

    This commit adds initial support for the Asix Sigma Logic Analyzer. Currently, only 200 MHz is supported, and only with software trigger. Firmware for the device will be distributed separately, with permission from the vendor.
    
    Signed-off-by: Håvard Espeland <gus@ping.uio.no>

commit 926b866cb624cebf2efca098088dba11afa8ae96
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 22 03:39:02 2010 +0200

    Win: Fix compile, serial port code (unfinished).

commit 9601818842c469339038e85b3c110b66d1a31d4b
Author: Bert Vermeulen <bert@rogue.biot.com>
Date:   Sun Apr 18 10:57:13 2010 -0700

    simplify code for unused features

commit eee4890f2fac030ea77a31a3c6c478b4cb628011
Author: Bert Vermeulen <bert@rogue.biot.com>
Date:   Sat Apr 17 23:07:00 2010 -0700

    fix broken samplerate calculation

commit 9c48090a8816949bccdec612edc165897fe8ce58
Author: Bert Vermeulen <bert@rogue.biot.com>
Date:   Sat Apr 17 22:09:33 2010 -0700

    fix double DF_END and libusb timeout

commit 9a4988343fe72bf2e7e5364dbdaa4ce0d4d6c59d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 15 23:24:44 2010 +0200

    Oops, bugfixes.

commit 408e719989d0b4d4408439bf84b87edea8ce85d6
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 15 23:21:30 2010 +0200

    Refactoring and code simplifications.

commit fed16f06e236f3f2ccc25a63ca7ec7a020124fdc
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 15 22:59:43 2010 +0200

    Saleae/Zeroplus: Coding style fixes.

commit 43fc7885d31c1f6af0715b583a9d153ba59eda5c
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 15 22:16:35 2010 +0200

    OLS: Coding style fixes.

commit 986f7270bf871046e5cf1f154b6ed6226f63c7a5
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 15 20:55:57 2010 +0200

    hardware/common: Coding style fixes.

commit 99c1fc59ed59785d44610ac07556143cb1617f01
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 15 20:36:04 2010 +0200

    output: Coding style fixes.

commit 62c820258238485d3352f4a68a65d299b136b792
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 15 20:16:53 2010 +0200

    libsigrok: More coding style fixes.

commit 1b452b8510922bac08db87f8ea769515c795e22f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 15 20:07:16 2010 +0200

    libsigrok: Coding style fixes.

commit d86dc674a204bec034730f303f69cf61984fd819
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Thu Apr 15 19:49:14 2010 +0200

    Fix insufficient braces in KHZ() et al.

commit fdd20b52391b9d491b37fb7d3e157ea5db098062
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 13 00:34:20 2010 +0200

    Add ARRAY_SIZE helper.

commit 02076d69f9505bc20ce0e9f67fa131054d8baeab
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 12 23:21:12 2010 +0200

    Rename "bin" output module to "bits" everywhere.

commit 1c5b9d302c410cdd1cba441f618e0e3f7afa137d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 12 21:22:58 2010 +0200

    Add raw binary output format.
    
    Also, rename the "bin" format to "bits" for now to avoid confusion.

commit afc8e4deb68271ba7696e38cc02053b97cfc1a19
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 9 22:18:46 2010 +0200

    Fix all warnings and re-enable -Wextra.

commit 86c5e279085a05c19d1d071831411fb617816ded
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 9 21:20:22 2010 +0200

    zeroplus: Fix compiler warnings.

commit 08cfe6a2b755367eba4098195557f4e8e426eea4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 9 21:16:11 2010 +0200

    Factor out trigger_helper() to reduce nesting.

commit edf60d0575d039229da3676867a5eb094d0c3c5e
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 9 20:44:51 2010 +0200

    Factor out common ezusb_upload_firmware().

commit 9d2933fbe9719df679cde8fbffde8c191d6a56d3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 9 20:36:29 2010 +0200

    ezusb.c: Coding style fixes.

commit 904299164f5718109fea2b23bc34e1522c548db4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 9 20:31:43 2010 +0200

    sl_open_device(): Refactoring to reduce nesting.

commit f6958dabcd0ce8e2613ee6b958bef7c80b9f9e18
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 9 19:25:29 2010 +0200

    Simplify code by reducing nesting level.

commit 6f5f21f996cb06b518739440e7983fa61d61aea1
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 9 19:04:36 2010 +0200

    Coding style fixes, aided by 'indent'.
    
    The following shell alias can be used:
    
      alias INDENT='indent -npro -kr -i8 -ts8 -sob -l80 -ss -ncs'

commit d02a535e05513ba8d2d4a82b49180d60ef410e1c
Author: Bert Vermeulen <bert@biot.com>
Date:   Fri Apr 9 05:15:27 2010 +0200

    move posix-specific serial port comms to serial.c

commit 54dc4bc703f7797a71129ee92412999d6ea64458
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 8 16:58:07 2010 +0200

    switch to SIGROK_ERR

commit 6937bb757e577ba3cf4036d24cc9852159182f47
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 8 16:49:39 2010 +0200

    various fixes, basic acquisition works

commit 54b38f64aa25d1cceebf1b31bcee0f11d67e432c
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 8 16:44:13 2010 +0200

    use strdup() instead of g_strdup()

commit 37aea2d35c981239e630254fe74f0a411bbc34cb
Author: Bert Vermeulen <bert@biot.com>
Date:   Thu Apr 8 16:42:22 2010 +0200

    better buffer size calculation

commit d2cd86ac26a00a95cb0497ba5cb807d4587b67ce
Author: Bert Vermeulen <bert@biot.com>
Date:   Sun Apr 4 20:51:04 2010 +0200

    fix off-by-one error

commit 25e7d9b115e5ea08be2d92ffe286aa1bf95778f4
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Wed Apr 7 19:43:41 2010 +0200

    Factor out common sigrok_samplerate_string().

commit bc010c054be68082451dd56e586f03038ec7fb45
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 6 15:02:14 2010 +0200

    VCD output: Handle disabled probes correctly.

commit e2ad47b5b0ad98fc99579d4cd9ebee7db2a03d82
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 6 14:38:47 2010 +0200

    Gnuplot output format support.

commit 2b3414a497f639233c824bc930cecf5f17b5a79d
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Tue Apr 6 01:29:32 2010 +0200

    libsigrokdecode: Add initial return code list.

commit e31b636df6651ae17f9bb28c51157a51fc92c421
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 5 16:41:54 2010 +0200

    Start unification of libsigrok return codes.
    
    We have SIGROK_OK for functions calls where no errors occured. All
    error code names start with SIGROK_ERR and are globally unique,
    negative values.
    
    The value SIGROK_ERR is a generic/unspecified error code, all others,
    such as SIGROK_ERR_MALLOC, refer to a specific error condition.
    
    This commit renames the old SIGROK_NOK etc.

commit 5a8fda158bd9cc040b36fb3b016808c59ccf89f3
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 5 16:20:09 2010 +0200

    Allow output_format.init() to return errors.

commit 4c100f3244ad816070fe2e30713705e109d5b4fb
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Mon Apr 5 15:31:39 2010 +0200

    More consistent spelling of "samplerate".

commit 4c9ffa83cf5b63445a1463af18a910a8cc786e31
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Sun Apr 4 13:19:20 2010 +0200

    Initial Value Change Dump (VCD) output support.

commit a695d6c0751494a07493d809520d1ead9b281e7f
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 2 20:26:48 2010 +0200

    Rename libbackend to libsigrok.

commit a1bb33afbde769156ad4bef7a60579da64aebbb7
Author: Uwe Hermann <uwe@hermann-uwe.de>
Date:   Fri Apr 2 20:18:27 2010 +0200

    Start of code base layout restructuring.
